require("source-map-support").install(),function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/public/",n(n.s=51)}([function(e,t){e.exports=require("babel-runtime/helpers/classCallCheck")},function(e,t){e.exports=require("babel-runtime/helpers/createClass")},function(e,t){e.exports=require("react")},function(e,t){e.exports=require("babel-runtime/core-js/object/get-prototype-of")},function(e,t){e.exports=require("babel-runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("babel-runtime/helpers/inherits")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("babel-runtime/regenerator")},function(e,t){e.exports=require("babel-runtime/helpers/asyncToGenerator")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(22)),a=d(n(7)),l=d(n(8)),s=d(n(0)),u=d(n(1)),o=d(n(35)),i=d(n(33)),c=d(n(77));function d(e){return e&&e.__esModule?e:{default:e}}var f=void 0,p=!1;function h(e){return new o.default(function(t){return setTimeout(t,e)})}var m=function(){function e(){(0,s.default)(this,e)}return(0,u.default)(e,null,[{key:"login",value:function(){var t=(0,l.default)(a.default.mark(function t(n,r){var l,s;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l={username:n,desktopCode:r},t.next=3,e.postRequest(l);case 3:return s=t.sent,t.abrupt("return",s.success);case 5:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"fetchHome",value:function(){var t=(0,l.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest({function:"GetPollListHome"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"fetchPoll",value:function(){var t=(0,l.default)(a.default.mark(function t(n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest({function:"GetPoll",pollId:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"voteOnPoll",value:function(){var t=(0,l.default)(a.default.mark(function t(n,r,l){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest({function:"VoteOnPoll",pollId:n,voteAnswer:r,showOnFeed:l});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"getPolls",value:function(){var t=(0,l.default)(a.default.mark(function t(n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest((0,r.default)({function:"GetPollList"},n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"doSearch",value:function(){var t=(0,l.default)(a.default.mark(function t(n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest({function:"SearchPolls",searchString:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"fetchSocialFeed",value:function(){var t=(0,l.default)(a.default.mark(function t(n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest((0,r.default)({function:"SocialFeed"},n));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getUserSettings",value:function(){var t=(0,l.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest({function:"GetUserSettings"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"fetchFriendRequests",value:function(){var t=(0,l.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest({function:"GetFriendRequests"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"fetchFriends",value:function(){var t=(0,l.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest({function:"GetFriends"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"muteFriend",value:function(){var t=(0,l.default)(a.default.mark(function t(n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest({function:"MuteFriend",friendId:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"unmuteFriend",value:function(){var t=(0,l.default)(a.default.mark(function t(n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest({function:"UnmuteFriend",friendId:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"ignoreFriendRequest",value:function(){var t=(0,l.default)(a.default.mark(function t(n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest({function:"IgnoreFriendRequest",friendId:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"searchUsername",value:function(){var t=(0,l.default)(a.default.mark(function t(n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest({function:"SearchUsername",searchString:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"sendFriendRequest",value:function(){var t=(0,l.default)(a.default.mark(function t(n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest({function:"SendFriendRequest",friendId:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"approveFriendRequest",value:function(){var t=(0,l.default)(a.default.mark(function t(n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest({function:"ApproveFriendRequest",friendId:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"saveWalletAddress",value:function(){var t=(0,l.default)(a.default.mark(function t(n){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest({function:"SaveWalletAddress",wallet:n});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getWalletAddress",value:function(){var t=(0,l.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest({function:"GetWalletAddress"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"deleteAccount",value:function(){var t=(0,l.default)(a.default.mark(function t(){return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.wsRequest({function:"DeleteAccount"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"postRequest",value:function(){var e=(0,l.default)(a.default.mark(function e(t){var n,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0,r=t,e.prev=2,e.next=5,i.default.post("/api/auth",r);case 5:n=e.sent,e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(2),new Error("A network error occured");case 11:return e.abrupt("return",n.data);case 12:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t){return e.apply(this,arguments)}}()},{key:"ensureConnected",value:function(){var e=(0,l.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=5;break}return f=new c.default,e.next=4,f.connect();case 4:p=!0;case 5:if(p){e.next=10;break}return e.next=8,h(100);case 8:e.next=5;break;case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"wsRequest",value:function(){var t=(0,l.default)(a.default.mark(function t(n){var r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ensureConnected();case 2:return console.dir(n),t.next=5,f.request(n);case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),e}();t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(3)),a=c(n(0)),l=c(n(1)),s=c(n(4)),u=c(n(5)),o=n(2),i=c(o);function c(e){return e&&e.__esModule?e:{default:e}}n(169);var d=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.props=e,n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return i.default.createElement("div",{className:this.loadingClassName},i.default.createElement("div",{className:"lds-ripple"},i.default.createElement("div",null),i.default.createElement("div",null)))}},{key:"loadingClassName",get:function(){return this.props.fullScreen?this.props.enabled?"loadingOverlayFullScreen":"loadingOverlayFullScreen loadingOverlayDisabled":this.props.enabled?"loadingOverlay":"loadingOverlay loadingOverlayDisabled"}}]),t}(o.Component);d.defaultProps={fullScreen:!0},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(13)),a=u(n(0)),l=u(n(1)),s=(u(n(9)),u(n(34)));function u(e){return e&&e.__esModule?e:{default:e}}var o=function(){function e(t){(0,a.default)(this,e),(0,r.default)(this,t)}return(0,l.default)(e,[{key:"timeRemaining",get:function(){var e=(0,s.default)(),t=(0,s.default)(1e3*this.pollTime),n=s.default.duration(t.diff(e));return n.get("days")>0?n.get("days")+"D "+n.get("hours")+"H":n.get("hours")+":"+(n.get("minutes")<10?"0"+n.get("minutes"):n.get("minutes"))}},{key:"hasExpired",get:function(){var e=(0,s.default)();return(0,s.default)(1e3*this.pollTime)<=e}},{key:"votes",get:function(){return function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}(this.pollVotes)}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(3)),a=f(n(0)),l=f(n(1)),s=f(n(4)),u=f(n(5)),o=n(2),i=f(o),c=f(n(16)),d=n(6);function f(e){return e&&e.__esModule?e:{default:e}}n(173);var p=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={searchText:e.searchText||""},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"doSearch",value:function(e){e&&"Enter"!==e.key||this.state.searchText.trim().length>0&&this.props.history.push("/search?q="+this.state.searchText.trim())}},{key:"openBrowsePolls",value:function(){this.props.history.push("/browse")}},{key:"openStarPolls",value:function(){this.props.history.push("/starPolls")}},{key:"openCreateWidget",value:function(){this.props.history.push("/createWidget")}},{key:"openSocial",value:function(){this.props.history.push("/social")}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"homeHeader"},i.default.createElement("div",{className:"homeLeft"},i.default.createElement("span",{className:"searchHeader"},"What do you care about?"),i.default.createElement("div",{className:"searchInputContainer"},i.default.createElement("input",{type:"text",className:"searchInput",placeholder:"Search by poll # or keyword",value:this.state.searchText,onChange:function(t){return e.setState({searchText:t.target.value})},onKeyPress:function(t){return e.doSearch(t)}}),i.default.createElement("span",{className:"searchButton",onClick:function(){return e.doSearch()}},i.default.createElement("img",{className:"searchIcon",src:n(47)})))),i.default.createElement("div",{className:"homeRight"},i.default.createElement("div",{className:"headerFeatureButton headerBrowsePolls",onClick:function(){return e.openBrowsePolls()}},i.default.createElement("img",{className:"pollIcon",src:n(101)}),i.default.createElement("span",{className:"headerFeatureButtonText"},"Browse Polls")),i.default.createElement("div",{className:"headerFeatureButton headerCreateWidgets",onClick:function(){return e.openCreateWidget()}},i.default.createElement("img",{className:"ratingIcon",src:n(102)}),i.default.createElement("span",{className:"headerFeatureButtonText"},"Create Widgets")),i.default.createElement("div",{className:"headerFeatureButton headerStarPolls",onClick:function(){return e.openStarPolls()}},i.default.createElement("img",{className:"starIcon",src:c.default["Star Polls"]}),i.default.createElement("span",{className:"headerFeatureButtonText"},"Star Polls")),i.default.createElement("div",{className:"headerFeatureButton headerSocialPolls",onClick:function(){return e.openSocial()}},i.default.createElement("img",{className:"socialIcon",src:c.default.Social}),i.default.createElement("span",{className:"headerFeatureButtonText"},"Social"))))}}]),t}(o.Component);t.default=(0,d.withRouter)(p)},function(e,t){e.exports=require("babel-runtime/core-js/object/assign")},function(e,t,n){e.exports=n.p+"static/media/poll_tick_icon.544b0463.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(3)),a=c(n(0)),l=c(n(1)),s=c(n(4)),u=c(n(5)),o=n(2),i=c(o);function c(e){return e&&e.__esModule?e:{default:e}}n(191);var d=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this;return this.props.moreAvailable?this.props.loading?i.default.createElement("div",{className:"showMore"},"Loading..."):i.default.createElement("div",{className:"showMore",onClick:function(){return e.props.onClick()}},"Show more"):null}}]),t}(o.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(28));t.default=(0,r.default)({Pol:n(38),Env:n(39),Lif:n(40),Hum:n(41),Oth:n(80),All:n(29),Jus:n(42),Spo:n(43),Ent:n(44),Tec:n(45),Pol_browse:n(81),Env_browse:n(82),Lif_browse:n(83),Hum_browse:n(84),Oth_browse:n(85),All_browse:n(86),Jus_browse:n(87),Spo_browse:n(88),Ent_browse:n(89),Tec_browse:n(90),Trending:n(91),"Ending Soon":n(92),Latest:n(93),"Star Polls":n(94),"My Votes":n(95),"My Polls":n(96),Local:n(97),National:n(98),"Friends Voted On...":n(46),Social:n(46),"Political & Human Rights":n(38),"News & Current Events":n(41),"Lifestyle & Health":n(40),"Sports, Hobbies & Games":n(43),"Business & Finance":n(45),"Science & Nature":n(39),"Technology & Gadgets":n(42),"Arts & Entertainment":n(44),"Everything Else":n(99),Random:n(100),"All Categories":n(29)},"All Categories",n(29))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(3)),a=f(n(0)),l=f(n(1)),s=f(n(4)),u=f(n(5)),o=n(2),i=f(o),c=(f(n(10)),f(n(9)),f(n(30))),d=f(n(18));function f(e){return e&&e.__esModule?e:{default:e}}n(193);var p=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={sortOrder:"mostVotes"},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"changeSortOrder",value:function(e){this.setState({sortOrder:e}),this.forceUpdate()}},{key:"applySortOrder",value:function(e){switch(this.state.sortOrder){case"mostVotes":e.sort(function(e,t){return t.pollVotes-e.pollVotes});break;case"endingSoonest":e.sort(function(e,t){return e.pollTime-t.pollTime});break;case"newest":e.sort(function(e,t){return t.pollTime-e.pollTime})}}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"fullScreenPollListContainer"},i.default.createElement("div",{className:"headerContainer"},this.props.showSortOrder&&i.default.createElement(d.default,{sortOrder:this.state.sortOrder,onChange:function(t){return e.changeSortOrder(t)}})),i.default.createElement("div",{className:"pollListContainer"},i.default.createElement("div",{className:"polls"},this.pollElements)))}},{key:"pollElements",get:function(){var e=this;return this.props.polls?this.props.polls.slice(0).map(function(t,n){return i.default.createElement(c.default,{poll:t,key:t.id,forceNormal:e.props.forceNormal})}):null}}]),t}(o.Component);p.defaultProps={showSortOrder:!0,forceNormal:!1},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(3)),a=c(n(0)),l=c(n(1)),s=c(n(4)),u=c(n(5)),o=n(2),i=c(o);function c(e){return e&&e.__esModule?e:{default:e}}n(197);var d=[{name:"Most Votes",value:"mostVotes"},{name:"Ending Soon",value:"endingSoonest"},{name:"Newest",value:"newest"}],f=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e)),l=d.find(function(e){return e.value==n.props.sortOrder}).name;return n.state={sortOrder:l,listOpen:!1},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"toggleList",value:function(e){this.setState({listOpen:e})}},{key:"setSelected",value:function(e){this.props.onChange(e.value),this.setState({listOpen:!1,sortOrder:e.name})}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"sortListWrapper",onMouseOver:function(){return e.toggleList(!0)},onMouseOut:function(){return e.toggleList(!1)}},i.default.createElement("div",{className:"sortListHeader"},i.default.createElement("div",{className:"sortListTitle"},this.state.sortOrder,i.default.createElement("img",{src:n(117)}))),this.listElements)}},{key:"listElements",get:function(){var e=this,t=this.state.listOpen?"sortList":"sortListDisabled";return i.default.createElement("ul",{className:t},d.map(function(t,n){return i.default.createElement("li",{className:"sortListItem",key:n,onClick:function(){return e.setSelected(t)}},t.name)}))}}]),t}(o.Component);t.default=f},function(e,t){e.exports=require("babel-runtime/core-js/json/stringify")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=p(n(3)),l=p(n(0)),s=p(n(1)),u=p(n(4)),o=p(n(5)),i=p(n(28)),c=n(2),d=p(c),f=p(n(16));function p(e){return e&&e.__esModule?e:{default:e}}n(205);var h=(r={Pol:{title:"Political & Human Rights"},Env:{title:"Science & Nature"},Lif:{title:"Lifestyle & Health"},Hum:{title:"News & Current Events"},Oth:{title:"Everything Else"},All:{title:"All Categories"},Jus:{title:"Technology & Gadgets"},Spo:{title:"Sports, Hobbies & Games"},Ent:{title:"Arts & Entertainment"},Tec:{title:"Business & Finance"}},(0,i.default)(r,"All",{title:"All Categories"}),(0,i.default)(r,"Star",{title:"Star Polls"}),(0,i.default)(r,"MyVotes",{title:"My Votes"}),(0,i.default)(r,"MyPolls",{title:"My Polls"}),(0,i.default)(r,"Social",{title:"Social"}),r),m=function(e){function t(){return(0,l.default)(this,t),(0,u.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=h[this.props.category];return d.default.createElement("div",{className:"catSummaryHeader"},d.default.createElement("img",{src:f.default[e.title]}),d.default.createElement("span",null,e.title))}}]),t}(c.Component);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(13)),a=f(n(58)),l=f(n(22)),s=f(n(7)),u=f(n(8)),o=f(n(0)),i=f(n(1)),c=f(n(33)),d=f(n(34));f(n(59));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){(0,o.default)(this,e),this.auth=t||{},this.voteHistory=[],this.historyFetched=!1}return(0,i.default)(e,null,[{key:"request",value:function(){var e=(0,u.default)(s.default.mark(function e(t){var n,r;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=void 0,r=t,e.prev=2,e.next=5,c.default.post("https://node.clearpoll.com/Clearpoll",r);case 5:n=e.sent,e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),console.dir(e.t0),new Error("A network error occured");case 12:if("false"!==n.data.success){e.next=14;break}throw new Error(n.data.comment||"An unknown error occured");case 14:return e.abrupt("return",n.data);case 15:case"end":return e.stop()}},e,this,[[2,8]])}));return function(t){return e.apply(this,arguments)}}()}]),(0,i.default)(e,[{key:"getHasVoted",value:function(e){var t=this.voteHistory.find(function(t){return t.pollID==e});return t?{hasVoted:!0,answerId:t.answerID}:{}}},{key:"fetchHome",value:function(){var t=(0,u.default)(s.default.mark(function t(){var n,u,o=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"GetPollListHome"},this.auth));case 2:n=t.sent,this.voteHistory=n.voteHistory,this.historyFetched=!0,t.t0=s.default.keys(n);case 6:if((t.t1=t.t0()).done){t.next=13;break}if(u=t.t1.value,"object"==(0,a.default)(n[u])){t.next=10;break}return t.abrupt("continue",6);case 10:n[u]=n[u].map(function(e){if(e.id)return(0,r.default)(e,o.getHasVoted(e.id))}),t.next=6;break;case 13:return console.dir(n.starPolls),t.abrupt("return",n);case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"fetchPoll",value:function(){var t=(0,u.default)(s.default.mark(function t(n){var a,l,u,o,i,c;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.historyFetched){t.next=3;break}return t.next=3,this.fetchVotehistory();case 3:return t.next=5,e.request({function:"GetPoll",pollId:n});case 5:if(a=t.sent,l=(0,r.default)(this.getHasVoted(n),a.poll[0],{pollId:n}),!((0,d.default)(1e3*l.pollTime)<(0,d.default)())&&!l.hasVoted){t.next=18;break}return t.next=11,this.getPollResult(n);case 11:u=t.sent,(l=(0,r.default)(l,u.pollInfo[0],{pollId:n})).results=u.votesPerAnswer,l.votedOn=u.voted,l.pollVotes=u.totalVotes,t.next=22;break;case 18:return t.next=20,this.getPollAnswers(n);case 20:o=t.sent,l.answers=o.answer;case 22:if("Ratings"!=l.type){t.next=30;break}if(l.results){t.next=28;break}return t.next=26,e.request({function:"GetPublicPollResult",pollId:n});case 26:i=t.sent,l.results=i.votesPerAnswer;case 28:c=l.pollVotes,l.averageRating=0==c?0:l.results.reduce(function(e,t){return e+Number(t.answerText)*(t.voteCount/c)},0);case 30:return t.abrupt("return",l);case 31:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"fetchUnauthPoll",value:function(){var t=(0,u.default)(s.default.mark(function t(n){var a,l,u,o;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request({function:"GetPoll",pollId:n});case 2:return a=t.sent,l=(0,r.default)(this.getHasVoted(n),a.poll[0],{pollId:n}),console.dir(l),t.next=7,e.request({function:"GetPublicPollResult",pollId:n});case 7:return u=t.sent,(l=(0,r.default)(l,u.pollInfo[0],{pollId:n})).results=u.votesPerAnswer,l.votedOn=u.voted,l.pollVotes=u.totalVotes,"Ratings"==l.type&&(o=l.pollVotes,l.averageRating=0==o?0:l.results.reduce(function(e,t){return e+Number(t.answerText)*(t.voteCount/o)},0)),t.abrupt("return",l);case 14:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"fetchVotehistory",value:function(){var t=(0,u.default)(s.default.mark(function t(n){var r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"GetVoteHistory"},this.auth));case 2:return r=t.sent,this.voteHistory=r.voteHistory,this.historyFetched=!0,t.abrupt("return",this.voteHistory);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"voteOnPoll",value:function(){var t=(0,u.default)(s.default.mark(function t(n){var r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.showOnFeed=n.showOnFeed?1:0,t.next=3,e.request((0,l.default)({function:"VoteOnPoll"},n,this.auth));case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getPollResult",value:function(){var t=(0,u.default)(s.default.mark(function t(n){var r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"GetPollResult",pollId:n},this.auth));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getPollAnswers",value:function(){var t=(0,u.default)(s.default.mark(function t(n){var r;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"GetPollAnswer",pollId:n},this.auth));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getPollList",value:function(){var t=(0,u.default)(s.default.mark(function t(n){var a,u=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"GetPollList"},n,this.auth));case 2:return a=t.sent,this.voteHistory=a.voteHistory,t.abrupt("return",a.poll.map(function(e){return(0,r.default)(e,u.getHasVoted(e.id))}));case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"doSearch",value:function(){var t=(0,u.default)(s.default.mark(function t(n){var a,u,o=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"SearchPolls",searchString:n},this.auth));case 2:return a=t.sent,this.voteHistory=a.voteHistory,u=a.poll.map(function(e){return(0,r.default)(e,o.getHasVoted(e.Id))}),t.abrupt("return",u);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getSocialFeed",value:function(){var t=(0,u.default)(s.default.mark(function t(n){var a,u,o=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"GetFeed"},n,this.auth));case 2:return a=t.sent,this.voteHistory=a.voteHistory,u=a.feed.map(function(e){return(0,r.default)(e,o.getHasVoted(e.pollId))}),t.abrupt("return",u);case 6:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getFriendRequests",value:function(){var t=(0,u.default)(s.default.mark(function t(){var n;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=void 0,t.prev=1,t.next=4,e.request((0,l.default)({function:"GetFriendRequest"},this.auth));case 4:n=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),n={requests:[]};case 10:return t.abrupt("return",n.requests);case 11:case"end":return t.stop()}},t,this,[[1,7]])}));return function(){return t.apply(this,arguments)}}()},{key:"getFriends",value:function(){var t=(0,u.default)(s.default.mark(function t(){var n;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"GetFriends"},this.auth));case 2:return n=t.sent,t.abrupt("return",n.friends);case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getUserSettings",value:function(){var t=(0,u.default)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"GetUserSettings"},this.auth));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"muteFriend",value:function(){var t=(0,u.default)(s.default.mark(function t(n){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"MuteFriend",friendId:n},this.auth));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"unmuteFriend",value:function(){var t=(0,u.default)(s.default.mark(function t(n){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"UnmuteFriend",friendId:n},this.auth));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"ignoreFriendRequest",value:function(){var t=(0,u.default)(s.default.mark(function t(n){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"IgnoreFriendRequest",requestId:n},this.auth));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"searchUsername",value:function(){var t=(0,u.default)(s.default.mark(function t(n){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"SearchUsername",searchString:n},this.auth));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"sendFriendRequest",value:function(){var t=(0,u.default)(s.default.mark(function t(n){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"SendFriendRequest",friendId:n},this.auth));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"approveFriendRequest",value:function(){var t=(0,u.default)(s.default.mark(function t(n){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"ApproveFriendRequest",requestId:n},this.auth));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"approveFriendRequest",value:function(){var t=(0,u.default)(s.default.mark(function t(n){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"ApproveFriendRequest",requestId:n},this.auth));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"saveWalletAddress",value:function(){var t=(0,u.default)(s.default.mark(function t(n){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"SaveEthereumWallet",wallet:n},this.auth));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"getWalletAddress",value:function(){var t=(0,u.default)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.request((0,l.default)({function:"GetEthereumWallet"},this.auth));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",{success:!1,error:t.t0.message});case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}()},{key:"deleteAccount",value:function(){var t=(0,u.default)(s.default.mark(function t(){return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request((0,l.default)({function:"DeleteAccount"},this.auth));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}();t.default=p},function(e,t){e.exports=require("babel-runtime/helpers/extends")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(13)),a=s(n(0)),l=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(this,e),this.data=(0,r.default)({polls:{},searchResults:{},category:{},starPolls:[],myVotes:[],socialFeed:[],userSettings:{},authenticated:!0},t),this.initialPage=!0}return(0,l.default)(e,[{key:"hydrateCheck",value:function(){return!!this.initialPage&&(this.initialPage=!1,!0)}},{key:"getPoll",value:function(e){return this.data.polls[e]}},{key:"setPoll",value:function(e,t){this.data.polls[e]=t}},{key:"setSearchResult",value:function(e,t){this.data.searchResults[e]=t}},{key:"getSearchResult",value:function(e){return this.data.searchResults[e]||[]}},{key:"setCategoryPolls",value:function(e,t){this.data.category[e]=t}},{key:"getCategoryPolls",value:function(e){return this.data.category[e]||[]}},{key:"getStarPolls",value:function(){return this.data.starPolls||[]}},{key:"setStarPolls",value:function(e){this.data.starPolls=e}},{key:"getMyVotes",value:function(){return this.data.myVotes||[]}},{key:"setMyVotes",value:function(e){this.data.myVotes=e}},{key:"getSocialFeed",value:function(){return this.data.socialFeed||[]}},{key:"setSocialFeed",value:function(e){this.data.socialFeed=e}},{key:"setUserSettings",value:function(e){this.data.userSettings=e}},{key:"getUserSettings",value:function(){return this.data.userSettings}},{key:"setAuthenticated",value:function(e){this.data.authenticated=e}},{key:"getAuthenticated",value:function(){return this.data.authenticated}}]),e}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(7)),a=c(n(8)),l=c(n(0)),s=c(n(1)),u=c(n(21)),o=c(n(60)),i=c(n(61));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){(0,l.default)(this,e)}return(0,s.default)(e,null,[{key:"login",value:function(){var e=(0,a.default)(r.default.mark(function e(t,n){var a,l;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={function:"DesktopSignup",username:t,desktopCode:n},e.next=3,u.default.request(a);case 3:if((l=e.sent).success){e.next=6;break}throw new Error("Invalid Auth");case 6:return e.abrupt("return",o.default.sign({phoneNumber:l.phoneNumber,userId:l.userId,code:l.code},i.default.signingKey));case 7:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"verify",value:function(e){var t=o.default.verify(e,i.default.signingKey);return{phoneNumber:t.phoneNumber,userId:t.userId,code:t.code}}}]),e}();t.default=d},function(e,t,n){e.exports=n.p+"static/media/poll_clock_icon.05f75bb6.png"},function(e,t,n){e.exports=n.p+"static/media/poll_hash_icon.d796e847.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=["rgba(1, 191, 193, 255)","rgba(239, 114, 69, 255)","rgba(126, 202, 111, 255)","rgba(240, 113, 140, 255)","rgba(183, 123, 198, 255)","rgba(138, 157, 190, 255)","rgba(205, 192, 52, 255)","rgba(86, 147, 209, 255)","rgba(200, 82, 151, 255)","rgba(70, 143, 157, 255)","rgba(29, 131, 133, 255)","rgba(231, 95, 93, 255)","rgba(118, 132, 42, 255)","rgba(71, 97, 184, 255)","rgba(160, 135, 63, 255)","rgba(73, 106, 150, 255)","rgba(140, 69, 106, 255)","rgba(170, 87, 64, 255)","rgba(154, 94, 106, 255)","rgba(172, 136, 115, 255)","rgba(117, 80, 121, 255)","rgba(98, 106, 120, 255)","rgba(62, 92, 111, 255)","rgba(119, 103, 219, 255)","rgba(61, 150, 180, 255)","rgba(75, 142, 126, 255)","rgba(88, 170, 124, 255)","rgba(114, 159, 110, 255)","rgba(133, 122, 107, 255)","rgba(159, 120, 76, 255)"]},function(e,t){e.exports=require("babel-runtime/helpers/defineProperty")},function(e,t,n){e.exports=n.p+"static/media/all_icon.51be82a5.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(3)),a=f(n(0)),l=f(n(1)),s=f(n(4)),u=f(n(5)),o=n(2),i=f(o),c=n(6),d=f(n(11));function f(e){return e&&e.__esModule?e:{default:e}}n(177);var p=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.poll=new d.default(e.poll),n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"openPoll",value:function(){console.log("Open "+this.poll.id),this.props.history.push("/poll/"+this.poll.id)}},{key:"button",value:function(){var e=this;return this.poll.hasVoted||this.poll.hasExpired?i.default.createElement("span",{className:"pollVoteButton resultsButton",onClick:function(){return e.openPoll()}},"Results"):i.default.createElement("span",{className:"pollVoteButton",onClick:function(){return e.openPoll()}},"Vote")}},{key:"renderStar",value:function(){return i.default.createElement("div",{className:"starPoll"},i.default.createElement("div",{className:"pollTop"},i.default.createElement("div",{className:"pollStarImage"},i.default.createElement("img",{src:this.props.poll.twitterAvatar})),i.default.createElement("div",{className:"pollTopQuestion"},i.default.createElement("div",{className:"pollTopName"},this.props.poll.twitterName),i.default.createElement("div",{className:"pollTopQuestionText"},this.props.poll.question))),i.default.createElement("div",{className:"pollBottom"},i.default.createElement("span",{className:"pollVotes"},i.default.createElement("img",{src:n(14)}),this.props.poll.pollVotes),!this.poll.hasExpired&&i.default.createElement("span",{className:"pollTimeRemaining"},i.default.createElement("img",{src:n(25)}),this.poll.timeRemaining),this.button()))}},{key:"renderNormal",value:function(){return i.default.createElement("div",{className:"poll"},i.default.createElement("div",{className:"pollTop"},i.default.createElement("div",{className:"pollTopHeader"},i.default.createElement("span",{className:"pollNumber"},i.default.createElement("img",{src:n(26)}),this.poll.id),!this.poll.hasExpired&&i.default.createElement("span",{className:"pollTimeRemaining"},i.default.createElement("img",{src:n(25)}),this.poll.timeRemaining)),i.default.createElement("div",{className:"pollTopQuestion"},this.poll.question)),i.default.createElement("div",{className:"pollBottom"},i.default.createElement("span",{className:"pollVotes"},i.default.createElement("img",{src:n(14)}),this.poll.pollVotes),this.button()))}},{key:"render",value:function(){return this.props.forceNormal||"Star"!=this.poll.type?this.renderNormal():this.renderStar()}}]),t}(o.Component);p.defaultProps={forceNormal:!1},t.default=(0,c.withRouter)(p)},function(e,t){e.exports=require("query-string")},function(e,t){e.exports=require("react-dom/server")},function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("moment")},function(e,t){e.exports=require("babel-runtime/core-js/promise")},function(e,t,n){e.exports=n.p+"static/media/google_play_icon.15797297.png"},function(e,t,n){e.exports=n.p+"static/media/app_store_icon.2928664f.svg"},function(e,t,n){e.exports=n.p+"static/media/political_icon.4b4fa7f2.png"},function(e,t,n){e.exports=n.p+"static/media/science_icon.22621bb8.png"},function(e,t,n){e.exports=n.p+"static/media/lifestyle_icon.4f920170.png"},function(e,t,n){e.exports=n.p+"static/media/news_icon.eb3ab87e.png"},function(e,t,n){e.exports=n.p+"static/media/technology_icon.7d30c564.png"},function(e,t,n){e.exports=n.p+"static/media/sports_icon.acc4312c.png"},function(e,t,n){e.exports=n.p+"static/media/arts_icon.f440cb40.png"},function(e,t,n){e.exports=n.p+"static/media/business_icon.9ad593bd.png"},function(e,t,n){e.exports=n.p+"static/media/social_icon.b7b15409.png"},function(e,t,n){e.exports=n.p+"static/media/search_icon.85560f1c.png"},function(e,t,n){e.exports=n.p+"static/media/add_friends_icon.f0674b63.png"},function(e,t,n){e.exports=n.p+"static/media/friend_accept_icon.0bb1770c.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(22)),a=h(n(3)),l=h(n(0)),s=h(n(1)),u=h(n(4)),o=h(n(5)),i=n(2),c=h(i),d=n(6),f=h(n(23)),p=h(n(149));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){(0,l.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.props=e,n.store=e.store||new f.default(window.storeData),"undefined"!=typeof window&&window&&delete window.storeData,n}return(0,o.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=this;return c.default.createElement(d.Switch,null,c.default.createElement(d.Route,{path:"/poll/:pollId/widget",render:function(t){return c.default.createElement(p.default,(0,r.default)({},t,{store:e.store}))}}))}}]),t}(i.Component);t.default=(0,d.withRouter)(m)},function(e,t,n){"use strict";var r=p(n(52)),a=(p(n(53)),p(n(54))),l=p(n(55)),s=p(n(56)),u=n(57),o=n(159),i=p(n(160)),c=p(n(161)),d=p(n(162)),f=p(n(163));function p(e){return e&&e.__esModule?e:{default:e}}l.default.isMaster?function(){console.log("Master "+process.pid+" is running");for(var e=s.default.cpus().length,t=0;t<e;t++)console.log("Forking process number "+t+"..."),l.default.fork()}():function(){console.log("Worker "+process.pid+" started...");var e=(0,r.default)();(0,a.default)(e),e.use(d.default.urlencoded({extended:!1})),e.use(d.default.json()),e.use((0,f.default)()),e.use("/public",r.default.static("public")),e.post("/api/auth",i.default.login),e.get("/logout",i.default.logout),e.get("/",u.Home),e.get("/login",u.Login),e.get("/poll/:pollId",u.Poll),e.get("/poll/:pollId/widget",o.WidgetPoll),e.get("/search",u.Search),e.get("/completed/:category*?",u.CompletedPolls),e.get("/browse/:category*?",u.CompletedPolls),e.get("/starPolls",u.StarPolls),e.get("/myVotes",u.MyVotes),e.get("/myPolls",u.MyPolls),e.get("/social",u.SocialFeed),e.get("/social/manageFriends",u.ManageFriends),e.get("/account",u.Account),e.get("/createWidget",u.CreateWidget),e.get("/rewards",u.Rewards),e.get("/rewards",u.Rewards),e.ws("/api/ws",c.default),e.listen(3001)}()},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("express-ws")},function(e,t){e.exports=require("cluster")},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rewards=t.CreateWidget=t.Account=t.ManageFriends=t.SocialFeed=t.MyPolls=t.MyVotes=t.StarPolls=t.CompletedPolls=t.Search=t.Poll=t.Login=t.Home=void 0;var r=g(n(19)),a=g(n(13)),l=g(n(7)),s=g(n(8)),u=function(){var e=(0,s.default)(l.default.mark(function e(t,n,r,s){var u,o,i,c;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=new f.default(s),o=new p.default,e.next=4,u.fetchPoll(r);case 4:i=e.sent,o.setAuthenticated(!0),o.setPoll(r,i),c=(0,a.default)({},y,{title:i.question}),O(t,n,c),q(t,n,o);case 10:case"end":return e.stop()}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),o=function(){var e=(0,s.default)(l.default.mark(function e(t,n,r,s){var u,o,i,c;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=new f.default(s),o=new p.default,e.next=4,u.fetchUnauthPoll(r);case 4:i=e.sent,o.setAuthenticated(!1),o.setPoll(r,i),c=(0,a.default)({},y,{title:i.question}),O(t,n,c),q(t,n,o);case 10:case"end":return e.stop()}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),i=g(n(2)),c=n(32),d=n(6),f=g(n(21)),p=g(n(23)),h=g(n(24)),m=g(n(62)),v=(g(n(50)),g(n(158)));function g(e){return e&&e.__esModule?e:{default:e}}var y={title:"Clearpoll Desktop",description:"ClearPoll - Vote on anything, any time. Earn crypto rewards for creating polls. Get the ClearPoll app now!",imageUrl:"https://web.clearpoll.com/public/share_thumbnail.png"},w=function(){var e=(0,s.default)(l.default.mark(function e(t,n){var r,a,s;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,e.prev=1,r=h.default.verify(t.cookies._auth),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),n.redirect("/login"),e.abrupt("return");case 9:return O(t,n),a=new f.default(r),e.t1=p.default,e.next=14,a.fetchHome();case 14:e.t2=e.sent,e.t3={homePolls:e.t2},s=new e.t1(e.t3),q(t,n,s);case 18:case"end":return e.stop()}},e,void 0,[[1,5]])}));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=(0,s.default)(l.default.mark(function e(t,n){var r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=new p.default({}),O(t,n),q(t,n,r);case 3:case"end":return e.stop()}},e,void 0)}));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=(0,s.default)(l.default.mark(function e(t,n){var r,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,a=t.params.pollId;try{r=h.default.verify(t.cookies._auth)}catch(e){}t.params.pollId||n.status(404).end(),r?u(t,n,a,r):o(t,n,a);case 5:case"end":return e.stop()}},e,void 0)}));return function(t,n){return e.apply(this,arguments)}}(),E=function(){var e=(0,s.default)(l.default.mark(function e(t,n){var r,a,s,u;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,e.prev=1,r=h.default.verify(t.cookies._auth),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),n.redirect("/login"),e.abrupt("return");case 9:if(a=t.query.q){e.next=13;break}return n.status(404).end(),e.abrupt("return");case 13:return O(t,n),s=new f.default(r),u=new p.default,e.t1=u,e.t2=a,e.next=20,s.doSearch(a);case 20:e.t3=e.sent,e.t1.setSearchResult.call(e.t1,e.t2,e.t3),q(t,n,u);case 23:case"end":return e.stop()}},e,void 0,[[1,5]])}));return function(t,n){return e.apply(this,arguments)}}(),_=function(){var e=(0,s.default)(l.default.mark(function e(t,n){var r,a,s,u,o,i;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,e.prev=1,r=h.default.verify(t.cookies._auth),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),n.redirect("/login"),e.abrupt("return");case 9:if(O(t,n),a=t.url.startsWith("/completed"),s=new f.default(r),u=new p.default,!(o=t.params.category)){e.next=19;break}return e.next=17,s.getPollList({active:a?"false":"true",type:a?"Completed":"Normal",category:o,sortOrder:"mostVotes",recordStartNo:0,recordQty:20,positionLatitude:"",positionLongitude:"",locationFilter:"Global"});case 17:i=e.sent,u.setCategoryPolls(o,i);case 19:q(t,n,u);case 20:case"end":return e.stop()}},e,void 0,[[1,5]])}));return function(t,n){return e.apply(this,arguments)}}(),x=(function(){var e=(0,s.default)(l.default.mark(function e(t,n){var r,a,s,u,o;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,e.prev=1,r=h.default.verify(t.cookies._auth),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),n.redirect("/login"),e.abrupt("return");case 9:if(O(t,n),a=new f.default(r),s=new p.default,!(u=t.params.category)){e.next=18;break}return e.next=16,a.getPollList({active:"false",type:"Completed",category:u,sortOrder:"mostVotes",recordStartNo:0,recordQty:20,positionLatitude:"",positionLongitude:"",locationFilter:"Global"});case 16:o=e.sent,s.setCategoryPolls(u,o);case 18:q(t,n,s);case 19:case"end":return e.stop()}},e,void 0,[[1,5]])}))}(),function(){var e=(0,s.default)(l.default.mark(function e(t,n){var r,a,s,u;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,e.prev=1,r=h.default.verify(t.cookies._auth),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),n.redirect("/login"),e.abrupt("return");case 9:return O(t,n),a=new f.default(r),s=new p.default,e.next=14,a.getPollList({category:"All",type:"Star",active:"true",sortOrder:"mostVotes",recordStartNo:0,recordQty:12,positionLatitude:"",positionLongitude:"",locationFilter:""});case 14:u=e.sent,s.setStarPolls(u),q(t,n,s);case 17:case"end":return e.stop()}},e,void 0,[[1,5]])}));return function(t,n){return e.apply(this,arguments)}}()),P=function(){var e=(0,s.default)(l.default.mark(function e(t,n){var r,a,s,u;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,e.prev=1,r=h.default.verify(t.cookies._auth),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),n.redirect("/login"),e.abrupt("return");case 9:return O(t,n),a=new f.default(r),s=new p.default,e.next=14,a.getPollList({category:"All",type:"MyVotes",active:"true",sortOrder:"mostVotes",recordStartNo:0,recordQty:20,positionLatitude:"",positionLongitude:"",locationFilter:""});case 14:u=e.sent,s.setMyVotes(u),q(t,n,s);case 17:case"end":return e.stop()}},e,void 0,[[1,5]])}));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=(0,s.default)(l.default.mark(function e(t,n){var r,a,s,u;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,e.prev=1,r=h.default.verify(t.cookies._auth),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),n.redirect("/login"),e.abrupt("return");case 9:return O(t,n),a=new f.default(r),s=new p.default,e.next=14,a.getPollList({category:"All",type:"MyPolls",active:"true",sortOrder:"mostVotes",recordStartNo:0,recordQty:20,positionLatitude:"",positionLongitude:"",locationFilter:""});case 14:u=e.sent,s.setMyVotes(u),q(t,n,s);case 17:case"end":return e.stop()}},e,void 0,[[1,5]])}));return function(t,n){return e.apply(this,arguments)}}(),S=function(){var e=(0,s.default)(l.default.mark(function e(t,n){var r,a,s,u;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,e.prev=1,r=h.default.verify(t.cookies._auth),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),n.redirect("/login"),e.abrupt("return");case 9:return O(t,n),a=new f.default(r),s=new p.default,e.next=14,a.getSocialFeed({recordStartNo:0,recordQty:20});case 14:u=e.sent,s.setSocialFeed(u),q(t,n,s);case 17:case"end":return e.stop()}},e,void 0,[[1,5]])}));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=(0,s.default)(l.default.mark(function e(t,n){var r,a;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,e.prev=1,r=h.default.verify(t.cookies._auth),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),n.redirect("/login"),e.abrupt("return");case 9:O(t,n),new f.default(r),a=new p.default,q(t,n,a);case 13:case"end":return e.stop()}},e,void 0,[[1,5]])}));return function(t,n){return e.apply(this,arguments)}}(),M=function(){var e=(0,s.default)(l.default.mark(function e(t,n){var r,a,s,u;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,e.prev=1,r=h.default.verify(t.cookies._auth),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),n.redirect("/login"),e.abrupt("return");case 9:return O(t,n),a=new f.default(r),s=new p.default,e.next=14,a.getUserSettings();case 14:u=e.sent,s.setUserSettings(u),q(t,n,s);case 17:case"end":return e.stop()}},e,void 0,[[1,5]])}));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=(0,s.default)(l.default.mark(function e(t,n){var r;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:void 0,e.prev=1,h.default.verify(t.cookies._auth),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),n.redirect("/login"),e.abrupt("return");case 9:O(t,n),r=new p.default,q(t,n,r);case 12:case"end":return e.stop()}},e,void 0,[[1,5]])}));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=(0,s.default)(l.default.mark(function e(t,n){var r,a,s,u;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=void 0,e.prev=1,r=h.default.verify(t.cookies._auth),e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(1),n.redirect("/login"),e.abrupt("return");case 9:return O(t,n),a=new f.default(r),s=new p.default,e.next=14,a.getUserSettings();case 14:u=e.sent,s.setUserSettings(u),q(t,n,s);case 17:case"end":return e.stop()}},e,void 0,[[1,5]])}));return function(t,n){return e.apply(this,arguments)}}();function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y,r=v.default.format({protocol:e.protocol,host:e.get("host"),pathname:e.originalUrl});t.writeHead(200,{"Content-Type":"text/html"}),t.write(I(r,n))}function q(e,t,n){var r=e.url,a=i.default.createElement(d.StaticRouter,{context:{},location:r},i.default.createElement(m.default,{store:n})),l=(0,c.renderToStaticNodeStream)(a);l.pipe(t,{end:!1}),l.on("end",function(){t.end(L(n))})}var I=function(e,t){return'\n<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="initial-scale=1.0, width=device-width">\n  \t<link rel="shortcut icon" href="/public/favicon.png" type="image/x-icon" />\n\n    <meta property="og:url"         content="'+e+'" />\n    <meta property="og:type"        content="website" />\n    <meta property="og:title"       content="'+t.title+'" />\n    <meta property="og:description" content="'+t.description+'" />\n    <meta property="og:image"       content="'+t.imageUrl+'" />\n    <meta name="twitter:card" content="summary" />\n    <meta name="twitter:site" content="@voteclearpoll" />\n\n    <link href="/public/style.css" rel="stylesheet" type="text/css">\n\n    <title>Clearpoll Desktop</title>\n\n    <style>\n      @font-face {\n        font-family: \'Roboto-Light-CPL\';\n        src: url(\'/public/fonts/Roboto-Light.ttf\') format(\'truetype\');\n      }\n\n      html {\n          margin: 0;\n          padding: 0;\n          font-family: \'Roboto-Light-CPL\';\n      }\n\n      body {\n          position: absolute;\n          margin: 0;\n          padding: 0;\n          min-height: 100%;\n          float: left;\n          width: 100%;\n          background: #057cab; /* Old browsers */\n          background: -moz-linear-gradient(top, #019eba 1%, #057cab 11%, #234588 40%, #2c3372 60%, #24145e 80%, #271148 100%); /* FF3.6-15 */\n          background: -webkit-linear-gradient(top, #019eba 1%, #057cab 11%,#234588 40%,#2c3372 60%,#24145e 80%, #271148 100%); /* Chrome10-25,Safari5.1-6 */\n          background: linear-gradient(to bottom, #019eba 1%, #057cab 11%,#234588 40%,#2c3372 60%,#24145e 80%, #271148 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n          filter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\'#019eba\', endColorstr=\'#24145e\',GradientType=0 ); background-attachment: fixed;\n          font-family: \'Roboto-Light-CPL\';\n      }\n    </style>\n  </head>\n  <body>\n    <div id="root" style="width: 100%; height: 100%; margin: 0; padding: 0;">\n'},L=function(e){return'\n      </div>\n      <script>\n        if(window.parent){\n          window.parent.postMessage({event: "loadingComplete"}, \'*\');\n          console.log("Message sent");\n        }\n        window.storeData = '+(0,r.default)(e.data)+';\n      <\/script>\n      <script type="text/javascript" src="/public/bundle.js"><\/script>\n    </body>\n  </html>\n'};t.Home=w,t.Login=k,t.Poll=b,t.Search=E,t.CompletedPolls=_,t.StarPolls=x,t.MyVotes=P,t.MyPolls=N,t.SocialFeed=S,t.ManageFriends=C,t.Account=M,t.CreateWidget=F,t.Rewards=R},function(e,t){e.exports=require("babel-runtime/helpers/typeof")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(19)),a=s(n(0)),l=s(n(1));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(){(0,a.default)(this,e),this.state={}}return(0,l.default)(e,[{key:"isLoggedIn",value:function(){}},{key:"setAuth",value:function(e){var t={code:e.code,phoneNumber:e.phoneNumber,userId:e.userId};return localStorage.setItem("auth",(0,r.default)(t))}},{key:"auth",get:function(){var e=localStorage.getItem("auth");return e?JSON.parse(e):null}}]),e}();t.default=new u},function(e,t){e.exports=require("jsonwebtoken")},function(e){e.exports={signingKey:"ng0VKpTdXpLU747VYE0Z"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=C(n(22)),a=C(n(3)),l=C(n(0)),s=C(n(1)),u=C(n(4)),o=C(n(5)),i=n(2),c=C(i),d=n(6),f=C(n(63)),p=C(n(76)),h=C(n(79)),m=C(n(106)),v=C(n(116)),g=C(n(118)),y=C(n(121)),w=C(n(122)),k=C(n(123)),b=C(n(124)),E=C(n(138)),_=C(n(139)),x=C(n(142)),P=C(n(144)),N=C(n(23)),S=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(31));function C(e){return e&&e.__esModule?e:{default:e}}n(229);var M=function(e){function t(e){(0,l.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));n.props=e,n.store=e.store||new N.default(window.storeData),"undefined"!=typeof window&&window&&delete window.storeData;var r=S.parse(e.location.search);return n.storeContext=c.default.createContext(n.store),n.embedded=!!r.embedded,n}return(0,o.default)(t,e),(0,s.default)(t,[{key:"handleLogoClick",value:function(){this.store.getAuthenticated()?this.props.history.push("/"):this.props.history.push("/login")}},{key:"handleContactClick",value:function(){window.location="https://clearpoll.com/"}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"templateContainer"},c.default.createElement("div",{className:"templateInnerContainer"},!this.embedded&&c.default.createElement("div",{className:"templateHeader"},c.default.createElement("img",{src:n(148),onClick:function(){return e.handleLogoClick()}}),this.showMenu&&c.default.createElement(f.default,null)),c.default.createElement(d.Switch,null,c.default.createElement(d.Route,{path:"/rewards",render:function(t){return c.default.createElement(P.default,(0,r.default)({},t,{store:e.store}))}}),c.default.createElement(d.Route,{path:"/createWidget",render:function(t){return c.default.createElement(x.default,(0,r.default)({},t,{store:e.store}))}}),c.default.createElement(d.Route,{path:"/completed/:category?",render:function(t){return c.default.createElement(g.default,(0,r.default)({},t,{store:e.store}))}}),c.default.createElement(d.Route,{path:"/browse/:category?",render:function(t){return c.default.createElement(g.default,(0,r.default)({},t,{store:e.store}))}}),c.default.createElement(d.Route,{path:"/starPolls",render:function(t){return c.default.createElement(y.default,(0,r.default)({},t,{store:e.store}))}}),c.default.createElement(d.Route,{path:"/myVotes",render:function(t){return c.default.createElement(w.default,(0,r.default)({},t,{store:e.store}))}}),c.default.createElement(d.Route,{path:"/myPolls",render:function(t){return c.default.createElement(k.default,(0,r.default)({},t,{store:e.store}))}}),c.default.createElement(d.Route,{path:"/social/manageFriends",render:function(t){return c.default.createElement(E.default,(0,r.default)({},t,{store:e.store}))}}),c.default.createElement(d.Route,{path:"/social",render:function(t){return c.default.createElement(b.default,(0,r.default)({},t,{store:e.store}))}}),c.default.createElement(d.Route,{path:"/account",render:function(t){return c.default.createElement(_.default,(0,r.default)({},t,{store:e.store}))}}),c.default.createElement(d.Route,{path:"/search",render:function(t){return c.default.createElement(v.default,(0,r.default)({},t,{store:e.store}))}}),c.default.createElement(d.Route,{path:"/poll/:pollId",render:function(t){return c.default.createElement(m.default,(0,r.default)({},t,{store:e.store}))}}),c.default.createElement(d.Route,{path:"/login",render:function(t){return c.default.createElement(p.default,(0,r.default)({},t,{store:e.store}))}}),c.default.createElement(d.Route,{path:"/",render:function(t){return c.default.createElement(h.default,(0,r.default)({},t,{store:e.store}))}}))),c.default.createElement("div",{className:"templateFooter"}," Copyright 2018 Nextech Developments - Australia |",c.default.createElement("span",{style:{cursor:"pointer"},onClick:function(){return e.handleContactClick()}}," Contact Us")))}},{key:"showMenu",get:function(){return this.store.getAuthenticated()&&"/login"!=this.props.location.pathname}}]),t}(i.Component);t.default=(0,d.withRouter)(M)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(3)),a=d(n(0)),l=d(n(1)),s=d(n(4)),u=d(n(5)),o=n(2),i=d(o),c=n(6);function d(e){return e&&e.__esModule?e:{default:e}}n(164);var f=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={active:!1},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"toggleMenu",value:function(e){this.setState({active:e})}},{key:"openUrl",value:function(e){this.setState({active:!1}),this.props.history.push(e)}},{key:"openExternalUrl",value:function(e){window.location=e}},{key:"touchMenuOpen",value:function(){}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"menuContainer",onMouseOver:function(){return e.toggleMenu(!0)},onMouseOut:function(){return e.toggleMenu(!1)}},i.default.createElement("img",{src:n(64),onClick:function(){return e.touchMenuOpen()}}),i.default.createElement("div",{className:this.state.active?"menu":"menu inactive"},i.default.createElement("div",{onClick:function(){return e.openUrl("/browse")}},i.default.createElement("img",{src:n(65)}),"Vote"),i.default.createElement("div",{onClick:function(){return e.openUrl("/createWidget")}},i.default.createElement("img",{src:n(66)}),"Create Widgets"),i.default.createElement("div",{onClick:function(){return e.openUrl("/completed")}},i.default.createElement("img",{src:n(67)}),"View Completed Polls"),i.default.createElement("div",{onClick:function(){return e.openUrl("/social")}},i.default.createElement("img",{src:n(68)}),"Social"),i.default.createElement("div",{onClick:function(){return e.openUrl("/rewards")}},i.default.createElement("img",{src:n(69)}),"Rewards"),i.default.createElement("div",{onClick:function(){return e.openUrl("/myVotes")}},i.default.createElement("img",{src:n(70)}),"My Votes"),i.default.createElement("div",{onClick:function(){return e.openUrl("/myPolls")}},i.default.createElement("img",{src:n(71)}),"My Polls"),i.default.createElement("div",{onClick:function(){return e.openUrl("/starPolls")}},i.default.createElement("img",{src:n(72)}),"Star Polls"),i.default.createElement("div",{onClick:function(){return e.openUrl("/account")}},i.default.createElement("img",{src:n(73)}),"Account & Settings"),i.default.createElement("div",{onClick:function(){return e.openExternalUrl("https://clearpoll.com/faq/")}},i.default.createElement("img",{src:n(74)}),"FAQ & Support"),i.default.createElement("div",{onClick:function(){return e.openExternalUrl("/logout")}},i.default.createElement("img",{src:n(75)}),"Logout")))}}]),t}(o.Component);t.default=(0,c.withRouter)(f)},function(e,t,n){e.exports=n.p+"static/media/menu_icon.287713b5.png"},function(e,t,n){e.exports=n.p+"static/media/vote_icon.13f4538e.png"},function(e,t,n){e.exports=n.p+"static/media/create_icon.9cf4b8ec.png"},function(e,t,n){e.exports=n.p+"static/media/completed_icon.0c7bda38.png"},function(e,t,n){e.exports=n.p+"static/media/social_icon.df189819.png"},function(e,t,n){e.exports=n.p+"static/media/rewards_icon.b5b10b45.png"},function(e,t,n){e.exports=n.p+"static/media/myvotes_icon.3eb514b4.png"},function(e,t,n){e.exports=n.p+"static/media/mypolls_icon.b67826c6.png"},function(e,t,n){e.exports=n.p+"static/media/star_icon.58cb01f9.png"},function(e,t,n){e.exports=n.p+"static/media/account_icon.c3348e90.png"},function(e,t,n){e.exports=n.p+"static/media/support_icon.fbef243a.png"},function(e,t,n){e.exports=n.p+"static/media/logout_icon.e5bdee5b.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(7)),a=h(n(8)),l=h(n(3)),s=h(n(0)),u=h(n(1)),o=h(n(4)),i=h(n(5)),c=n(2),d=h(c),f=(n(6),h(n(10))),p=h(n(9));function h(e){return e&&e.__esModule?e:{default:e}}n(171);var m=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.props=e,n.state={username:"",desktopCode:"",loading:!1},n.props.store.hydrateCheck(),n}return(0,i.default)(t,e),(0,u.default)(t,[{key:"doLogin",value:function(){var e=(0,a.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=this.state.username.length&&0!=this.state.desktopCode.length){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0}),e.prev=3,e.next=6,p.default.login(this.state.username,this.state.desktopCode);case 6:if(e.sent){e.next=9;break}throw new Error("Incorrect username or desktop code");case 9:window.parent&&window.parent.postMessage({event:"loggedIn"},"*"),this.props.history.push("/"),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),alert(e.t0.message);case 16:this.setState({loading:!1});case 17:case"end":return e.stop()}},e,this,[[3,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:"loginContent"},d.default.createElement(f.default,{enabled:this.state.loading}),d.default.createElement("div",{className:"loginHeader"},d.default.createElement("img",{src:n(78)}),"ClearPoll Login"),d.default.createElement("div",{className:"loginField"},d.default.createElement("span",{className:"loginFieldText"},"Username"),d.default.createElement("input",{type:"text",className:"loginFieldUsername",value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})}})),d.default.createElement("div",{className:"loginField"},d.default.createElement("span",{className:"loginFieldText"},"Desktop Code"),d.default.createElement("input",{type:"text",className:"loginFieldDesktopCode",value:this.state.desktopCode,onChange:function(t){return e.setState({desktopCode:t.target.value})}})),d.default.createElement("div",{className:"loginSubText"},'You can find your code inside the ClearPoll app under "Desktop Connect" in the main menu'),d.default.createElement("button",{className:"loginButton",onClick:this.doLogin.bind(this)},"Login"),d.default.createElement("div",{className:"installBanner"},d.default.createElement("div",{className:"installBannerText"},"Not registered? Install ClearPoll app to get started!"),d.default.createElement("div",{className:"installBannerImages"},d.default.createElement("a",{href:"https://play.google.com/store/apps/developer?id=ClearPoll",target:"_blank"},d.default.createElement("img",{src:n(36)})),d.default.createElement("a",{href:"https://itunes.apple.com/us/app/clearpoll/id1347664374",target:"_blank"},d.default.createElement("img",{src:n(37)})))))}}]),t}(c.Component);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(19)),a=o(n(13)),l=o(n(35)),s=o(n(0)),u=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(){(0,s.default)(this,e),this.open=!1,this._msgId=0,this._pendingPromises={}}return(0,u.default)(e,[{key:"connect",value:function(){var e=this;return new l.default(function(t){var n="https:"!=location.protocol?"ws://":"wss://";e.socket=new WebSocket(n+location.host+"/api/ws"),e.socket.addEventListener("open",function(n){e.open=!0,t()}),e.socket.addEventListener("close",e.handleError.bind(e)),e.socket.addEventListener("message",e.handleMessage.bind(e))})}},{key:"handleError",value:function(){var e=this;this.open=!1,setTimeout(function(){return e.connect()},1e3)}},{key:"handleMessage",value:function(e){var t=JSON.parse(e.data),n=this._pendingPromises[t.id];n&&n.res(t)}},{key:"request",value:function(e){var t=this;return new l.default(function(n,l){t._pendingPromises[++t._msgId]={res:n,rej:l};var s=(0,a.default)(e,{id:t._msgId});t.socket.send((0,r.default)(s))})}}]),e}();t.default=i},function(e,t,n){e.exports=n.p+"static/media/desktop-connect.e679d04d.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(7)),a=v(n(8)),l=v(n(3)),s=v(n(0)),u=v(n(1)),o=v(n(4)),i=v(n(5)),c=n(2),d=v(c),f=(n(6),v(n(9))),p=v(n(10)),h=v(n(12)),m=v(n(103));function v(e){return e&&e.__esModule?e:{default:e}}n(183);var g=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.store=e.store,n.state={loading:!1},n}return(0,i.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){0}},{key:"webFetch",value:function(){var e=(0,a.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.hydrateCheck()){e.next=3;break}return this.setState({loading:!1}),e.abrupt("return");case 3:return this.setState({loading:!0}),e.prev=4,e.next=7,f.default.fetchHome();case 7:this.store.data.homePolls=e.sent,this.setState({loading:!1}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.log("API fail",e.t0),this.props.history.push("/login");case 15:case"end":return e.stop()}},e,this,[[4,11]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.default.createElement("div",{className:"App"},d.default.createElement(p.default,{enabled:this.state.loading}),d.default.createElement(h.default,null),!this.state.loading&&d.default.createElement(m.default,{polls:this.store.data.homePolls}))}}]),t}(c.Component);t.default=g},function(e,t,n){e.exports=n.p+"static/media/other_icon.51be82a5.png"},function(e,t,n){e.exports=n.p+"static/media/political_icon.2883cc12.png"},function(e,t,n){e.exports=n.p+"static/media/science_icon.6007ba38.png"},function(e,t,n){e.exports=n.p+"static/media/lifestyle_icon.eac6edf7.png"},function(e,t,n){e.exports=n.p+"static/media/news_icon.a6ff7d81.png"},function(e,t,n){e.exports=n.p+"static/media/other_icon.3702b31e.png"},function(e,t,n){e.exports=n.p+"static/media/all_icon.51b565fe.png"},function(e,t,n){e.exports=n.p+"static/media/technology_icon.308753f0.png"},function(e,t,n){e.exports=n.p+"static/media/sports_icon.1760ee57.png"},function(e,t,n){e.exports=n.p+"static/media/arts_icon.b520a344.png"},function(e,t,n){e.exports=n.p+"static/media/business_icon.edf912ab.png"},function(e,t,n){e.exports=n.p+"static/media/trending_icon.9c09b7ce.png"},function(e,t,n){e.exports=n.p+"static/media/endingsoon_icon.b0d02bb9.png"},function(e,t,n){e.exports=n.p+"static/media/latestPolls_icon.960154f2.png"},function(e,t,n){e.exports=n.p+"static/media/starPolls_icon.25f3f611.png"},function(e,t,n){e.exports=n.p+"static/media/myVotes_icon.dca7aee0.png"},function(e,t,n){e.exports=n.p+"static/media/myPolls_icon.cf1ac01e.png"},function(e,t,n){e.exports=n.p+"static/media/local_icon.fe40b3de.png"},function(e,t,n){e.exports=n.p+"static/media/national_icon.bda8bb84.png"},function(e,t,n){e.exports=n.p+"static/media/everythingElse_icon.42f60e81.png"},function(e,t,n){e.exports=n.p+"static/media/random_icon.b8256baa.png"},function(e,t,n){e.exports=n.p+"static/media/vote_icon.48622bff.png"},function(e,t,n){e.exports=n.p+"static/media/rating_icon.b073f595.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(3)),a=p(n(0)),l=p(n(1)),s=p(n(4)),u=p(n(5)),o=n(2),i=p(o),c=p(n(104)),d=p(n(105)),f=p(n(16));function p(e){return e&&e.__esModule?e:{default:e}}n(181);var h={trendingPolls:{title:"Trending"},endingSoonest:{title:"Ending Soon"},latestPolls:{title:"Latest"},starPolls:{title:"Star Polls",url:"/starPolls"},myVotes:{title:"My Votes",url:"/myVotes"},localPolls:{title:"Local"},nationalPolls:{title:"National"},socialPolls:{title:"Friends Voted On...",url:"/social"},politicalPolls:{title:"Political & Human Rights",url:"/browse/Pol"},humanRightsPolls:{title:"News & Current Events",url:"/browse/Hum"},lifestylePolls:{title:"Lifestyle & Health",url:"/browse/Lif"},sportsPolls:{title:"Sports, Hobbies & Games",url:"/browse/Spo"},technologyPolls:{title:"Business & Finance",url:"/browse/Tec"},environmentPolls:{title:"Science & Nature",url:"/browse/Env"},justForFunPolls:{title:"Technology & Gadgets",url:"/browse/Jus"},entertainmentPolls:{title:"Arts & Entertainment",url:"/browse/Ent"},otherPolls:{title:"Everything Else",url:"/browse/Oth"},randomPolls:{title:"Random"}},m=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.props=e,n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"getPollsFor",value:function(e,t){var n=this.countPolls(e);if(n>t){var r=Math.floor(Math.random()*(n-t+1));return this.props.polls[e].slice(r,r+t)}return this.props.polls[e]}},{key:"countPolls",value:function(e){return this.props.polls[e]?this.props.polls[e].length:0}},{key:"getRowFor",value:function(e){if(this.countPolls(e)>0){var t=h[e];return i.default.createElement("div",null,i.default.createElement(c.default,{title:t.title,image:f.default[t.title],url:t.url}),i.default.createElement(d.default,{polls:this.getPollsFor(e,5)}))}}},{key:"starPolls",value:function(){if(this.countPolls("starPolls")>0)return i.default.createElement("div",null,i.default.createElement(c.default,{title:"Star Polls",image:f.default["Star Polls"],url:"/starPolls"}),i.default.createElement(d.default,{polls:this.getPollsFor("starPolls",3),forceNormal:!1}))}},{key:"render",value:function(){return this.props.polls?i.default.createElement("div",{className:"pollSummary"},this.getRowFor("trendingPolls"),this.getRowFor("endingSoonest"),this.getRowFor("latestPolls"),this.starPolls(),this.getRowFor("myVotes"),this.getRowFor("localPolls"),this.getRowFor("nationalPolls"),this.getRowFor("socialPolls"),this.getRowFor("politicalPolls"),this.getRowFor("humanRightsPolls"),this.getRowFor("lifestylePolls"),this.getRowFor("sportsPolls"),this.getRowFor("technologyPolls"),this.getRowFor("environmentPolls"),this.getRowFor("justForFunPolls"),this.getRowFor("entertainmentPolls"),this.getRowFor("otherPolls"),this.getRowFor("randomPolls")):i.default.createElement("div",{className:"pollSummary"})}}]),t}(o.Component);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(3)),a=d(n(0)),l=d(n(1)),s=d(n(4)),u=d(n(5)),o=n(2),i=d(o),c=n(6);function d(e){return e&&e.__esModule?e:{default:e}}n(175);var f=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"onClick",value:function(){this.props.url&&this.props.history.push(this.props.url)}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"summaryHeader",onClick:function(){return e.onClick()}},i.default.createElement("img",{src:this.props.image}),i.default.createElement("span",null,this.props.title))}}]),t}(o.Component);t.default=(0,c.withRouter)(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(3)),a=d(n(0)),l=d(n(1)),s=d(n(4)),u=d(n(5)),o=n(2),i=d(o),c=d(n(30));function d(e){return e&&e.__esModule?e:{default:e}}n(179);var f=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.props=e,n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this,t=this.props.polls.map(function(t){return i.default.createElement(c.default,{key:t.id,poll:t,forceNormal:e.props.forceNormal})});return i.default.createElement("div",{className:"pollRow"},t)}}]),t}(o.Component);f.defaultProps={forceNormal:!0},t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=w(n(7)),a=w(n(8)),l=w(n(3)),s=w(n(0)),u=w(n(1)),o=w(n(4)),i=w(n(5)),c=n(2),d=w(c),f=(n(6),w(n(9))),p=w(n(11)),h=w(n(10)),m=w(n(107)),v=w(n(108)),g=w(n(109)),y=w(n(110));function w(e){return e&&e.__esModule?e:{default:e}}n(195);var k=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.store=e.store,n.pollId=n.props.match.params.pollId,n.state={authenticated:n.store.getAuthenticated(),loading:!1,showOnFeed:!0,showVote:!0},n}return(0,i.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.pollId=e.match.params.pollId,this.store.setPoll(this.pollId,null),this.setState({loading:!0}),this.webFetch()}},{key:"componentDidMount",value:function(){var e=(0,a.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toggleSocial",value:function(){this.setState({showOnFeed:!this.state.showOnFeed})}},{key:"toggleVote",value:function(){this.setState({showVote:!this.state.showVote})}},{key:"webFetch",value:function(){var e=(0,a.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.hydrateCheck()&&this.store.getAuthenticated()){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0}),e.next=5,f.default.fetchPoll(this.pollId);case 5:t=e.sent,this.store.setPoll(this.pollId,t),this.setState({loading:!1});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"performVote",value:function(){var e=(0,a.default)(r.default.mark(function e(t){var n,a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,f.default.voteOnPoll(this.pollId,t,this.state.showOnFeed);case 3:(n=e.sent).success?((a=this.store.getPoll(this.pollId)).results=n.results,a.hasVoted=!0,a.votedOn=[{answerText:t}],this.store.setPoll(this.pollId,a)):alert("Error"),this.setState({loading:!1});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"shouldShowResults",value:function(e){return e.hasVoted||e.hasExpired||!this.store.getAuthenticated()}},{key:"containerContent",value:function(e){var t=this;return this.shouldShowResults(e)?d.default.createElement(v.default,{poll:e,showVote:this.state.showVote}):d.default.createElement(m.default,{answers:e.answers,onVote:function(e){return t.performVote(e)}})}},{key:"numberToCommaFormat",value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"summaryContent",value:function(e){return this.state.authenticated?d.default.createElement("div",{className:"summaryContainer"},d.default.createElement(g.default,{category:e.category}),d.default.createElement(y.default,{category:e.category})):d.default.createElement("div",{className:"pollInstallBanner"},d.default.createElement("div",{className:"installBannerText"},"Not registered? Install ClearPoll app to get started!"),d.default.createElement("div",{className:"installBannerImages"},d.default.createElement("a",{href:"https://play.google.com/store/apps/developer?id=ClearPoll",target:"_blank"},d.default.createElement("img",{src:n(36)})),d.default.createElement("a",{href:"https://itunes.apple.com/us/app/clearpoll/id1347664374",target:"_blank"},d.default.createElement("img",{src:n(37)}))))}},{key:"pollElement",value:function(){var e=this,t=this.store.getPoll(this.pollId);if(!t)return null;var r=new p.default(t);return d.default.createElement("div",null,d.default.createElement("div",{className:"pollQuestion"},r.question),d.default.createElement("div",{className:"mainRow"},d.default.createElement("div",{className:"detailsContainer"},d.default.createElement("div",{className:"field"},d.default.createElement("img",{src:n(26)}),r.pollId),d.default.createElement("div",{className:"field"},d.default.createElement("img",{src:n(14)}),this.numberToCommaFormat(r.pollVotes)),!r.hasExpired&&d.default.createElement("div",{className:"field"},d.default.createElement("img",{src:n(25)}),r.timeRemaining),!this.shouldShowResults(r)&&d.default.createElement("div",{className:"field socialField"},d.default.createElement("div",{className:"socialFeedText"},"Share vote on your social feed?"),d.default.createElement("div",{className:"socialFeedContainer"},d.default.createElement("img",{src:n(111)}),this.state.showOnFeed?d.default.createElement("span",{className:"socialButton enabled",onClick:function(){return e.toggleSocial()}},"Yes"):d.default.createElement("span",{className:"socialButton disabled",onClick:function(){return e.toggleSocial()}},"No")))),d.default.createElement("div",{className:"contentContainer"},this.containerContent(r))),this.store.getAuthenticated()&&this.shouldShowResults(r)&&d.default.createElement("div",{className:"voteControlContainer"},d.default.createElement("div",{className:"voteControl",onClick:function(){return e.toggleVote()}},this.state.showVote?"Hide Vote":"Show Vote")),this.socialContent,this.summaryContent(r))}},{key:"render",value:function(){return d.default.createElement("div",{className:"viewPoll"},d.default.createElement(h.default,{enabled:this.state.loading}),!this.state.loading&&this.pollElement())}},{key:"currentUrlEscaped",get:function(){return"https://web.clearpoll.com"+this.props.location.pathname}},{key:"twitterShareUrl",get:function(){return"https://twitter.com/home?status="+this.currentUrlEscaped}},{key:"facebookShareUrl",get:function(){return"https://www.facebook.com/sharer/sharer.php?u="+this.currentUrlEscaped}},{key:"googleShareUrl",get:function(){return"https://plus.google.com/share?url="+this.currentUrlEscaped}},{key:"redditShareUrl",get:function(){return"http://www.reddit.com/submit?url="+this.currentUrlEscaped}},{key:"socialContent",get:function(){return this.state.authenticated?d.default.createElement("div",{className:"socialContainer"},d.default.createElement("div",{className:"socialBanner"},"Share this poll!"),d.default.createElement("div",{className:"socialButtons"},d.default.createElement("a",{target:"_blank",href:this.twitterShareUrl},d.default.createElement("img",{src:n(112)})),d.default.createElement("a",{target:"_blank",href:this.facebookShareUrl},d.default.createElement("img",{src:n(113)})),d.default.createElement("a",{target:"_blank",href:this.googleShareUrl},d.default.createElement("img",{src:n(114)})),d.default.createElement("a",{target:"_blank",href:this.redditShareUrl},d.default.createElement("img",{src:n(115)})))):d.default.createElement("div",{className:"socialContainer"},d.default.createElement("div",{className:"socialBanner"},d.default.createElement("a",{className:"voteButton",href:"/login"},"Vote")))}}]),t}(c.Component);t.default=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(3)),a=d(n(0)),l=d(n(1)),s=d(n(4)),u=d(n(5)),o=n(2),i=d(o),c=d(n(27));function d(e){return e&&e.__esModule?e:{default:e}}n(185);var f=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.props=e,n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"onVote",value:function(e){this.props.onVote(e)}},{key:"render",value:function(){var e=this,t=this.props.answers.map(function(t,n){return i.default.createElement("div",{className:"answer",key:n,style:{backgroundColor:c.default[n]},onClick:function(){return e.onVote(t)}},t)});return i.default.createElement("div",{style:{display:"flex"}},i.default.createElement("div",{className:"answersContainer"},t),i.default.createElement("div",{className:"answersSpacer"}))}}]),t}(o.Component);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(13)),a=f(n(3)),l=f(n(0)),s=f(n(1)),u=f(n(4)),o=f(n(5)),i=n(2),c=f(i),d=f(n(27));function f(e){return e&&e.__esModule?e:{default:e}}n(187);var p=function(e){function t(e){(0,l.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.props=e,n}return(0,o.default)(t,e),(0,s.default)(t,[{key:"graphElement",value:function(e,t){var r=Math.floor(100*e.voteCount/(this.props.poll.pollVotes||1)),a=this.props.poll.votedOn&&this.props.poll.votedOn[0];return c.default.createElement("div",{className:"resultContainer",key:t},c.default.createElement("div",{className:"resultAnswer"},this.props.showVote&&a&&e.answerText==a.answerText&&c.default.createElement("img",{src:n(14)}),c.default.createElement("span",{className:"resultAnswerText"},e.answerText)),c.default.createElement("div",{className:"graph"},c.default.createElement("div",{className:"voteCount"},e.voteCount),c.default.createElement("div",{className:"votePercentage"},e.votePercentage,"%"),c.default.createElement("div",{className:"voteBarContainer"},c.default.createElement("div",{className:"voteBarInner",style:{width:r+"%",backgroundColor:d.default[t]}}))))}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"graphContainer"},this.resultsWithPercentages.map(function(t,n){return e.graphElement(t,n)}))}},{key:"totalVotes",get:function(){return this.props.poll.results.reduce(function(e,t){return e+t.voteCount},0)}},{key:"resultsWithPercentages",get:function(){for(var e=this,t=this.props.poll.results.map(function(t){var n=0==e.totalVotes?0:Math.floor(100*t.voteCount/e.totalVotes);return(0,r.default)(t,{votePercentage:n})}),n=function(){var n=-1,r=0;if(t.forEach(function(t,a){var l=100*t.voteCount/e.totalVotes-t.votePercentage;l>0&&l>r&&(n=a,r=l)}),n<0)return"break";t[n].votePercentage++};100-t.reduce(function(e,t){return e+t.votePercentage},0)>0;){if("break"===n())break}return t}}]),t}(i.Component);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=p(n(3)),l=p(n(0)),s=p(n(1)),u=p(n(4)),o=p(n(5)),i=p(n(28)),c=n(2),d=p(c),f=p(n(16));function p(e){return e&&e.__esModule?e:{default:e}}n(189);var h=(r={Pol:{title:"Political & Human Rights"},Env:{title:"Science & Nature"},Lif:{title:"Lifestyle & Health"},Hum:{title:"News & Current Events"},Oth:{title:"Everything Else"},All:{title:"All Categories"},Jus:{title:"Technology & Gadgets"},Spo:{title:"Sports, Hobbies & Games"},Ent:{title:"Arts & Entertainment"},Tec:{title:"Business & Finance"}},(0,i.default)(r,"All",{title:"All Categories"}),(0,i.default)(r,"Star",{title:"Star Polls"}),(0,i.default)(r,"MyVotes",{title:"My Votes"}),(0,i.default)(r,"MyPolls",{title:"My Polls"}),(0,i.default)(r,"Social",{title:"Social"}),r),m=function(e){function t(e){(0,l.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.props=e,n}return(0,o.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){var e=h[this.props.category];return d.default.createElement("div",{className:"pollSummaryHeader"},d.default.createElement("img",{src:f.default[e.title]}),d.default.createElement("span",null,e.title))}}]),t}(c.Component);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(7)),a=v(n(8)),l=v(n(3)),s=v(n(0)),u=v(n(1)),o=v(n(4)),i=v(n(5)),c=n(2),d=v(c),f=v(n(10)),p=v(n(9)),h=v(n(30)),m=v(n(15));function v(e){return e&&e.__esModule?e:{default:e}}n(193);var g=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.state={loading:!0,polls:[],loadingMore:!0,canLoadMore:!0},n}return(0,i.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){0}},{key:"webFetch",value:function(){var e=(0,a.default)(r.default.mark(function e(){var t,n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loadingMore:!0}),t=this.state.polls.length,e.next=4,p.default.getPolls({active:"true",type:"Normal",category:this.props.category,sortOrder:"mostVotes",recordStartNo:t,recordQty:20});case 4:n=e.sent,this.setState({loading:!1,loadingMore:!1,canLoadMore:n.polls&&20==n.polls.length,polls:this.state.polls.concat(n.polls||[])});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:"pollListContainer"},d.default.createElement(f.default,{enabled:this.state.loading,fullScreen:!1}),d.default.createElement("div",{className:"polls"},this.pollElements),!this.state.loading&&d.default.createElement(m.default,{moreAvailable:this.state.canLoadMore,loading:this.state.loadingMore,onClick:function(){return e.webFetch()}}))}},{key:"pollElements",get:function(){return this.state.polls.map(function(e,t){return d.default.createElement(h.default,{poll:e})})}}]),t}(c.Component);t.default=g},function(e,t,n){e.exports=n.p+"static/media/social_share_icon.487c40e9.png"},function(e,t,n){e.exports=n.p+"static/media/twitter_icon.ea04b00c.png"},function(e,t,n){e.exports=n.p+"static/media/facebook_icon.53934be6.png"},function(e,t,n){e.exports=n.p+"static/media/google_icon.27b33027.png"},function(e,t,n){e.exports=n.p+"static/media/reddit_icon.14da617d.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(7)),a=g(n(8)),l=g(n(3)),s=g(n(0)),u=g(n(1)),o=g(n(4)),i=g(n(5)),c=n(2),d=g(c),f=(n(6),g(n(9))),p=(g(n(11)),g(n(10))),h=g(n(17)),m=g(n(12)),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(31));function g(e){return e&&e.__esModule?e:{default:e}}n(199);var y=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));n.store=e.store;var r=v.parse(e.location.search);return n.searchTerm=r.q,n.state={loading:!1},n}return(0,i.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=v.parse(e.location.search);this.searchTerm=t.q,this.webFetch()}},{key:"componentDidMount",value:function(){var e=(0,a.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"webFetch",value:function(){var e=(0,a.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.hydrateCheck()){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0}),e.next=5,f.default.doSearch(this.searchTerm);case 5:t=e.sent,this.store.setSearchResult(this.searchTerm,t.polls),this.setState({loading:!1});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.default.createElement("div",{className:"search"},d.default.createElement(p.default,{enabled:this.state.loading}),d.default.createElement(m.default,{searchText:this.searchTerm}),d.default.createElement(h.default,{polls:this.store.getSearchResult(this.searchTerm),forceNormal:!0,showSortOrder:!1}))}}]),t}(c.Component);t.default=y},function(e,t,n){e.exports=n.p+"static/media/sort_icon.92823863.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=E(n(13)),a=E(n(7)),l=E(n(8)),s=E(n(3)),u=E(n(0)),o=E(n(1)),i=E(n(4)),c=E(n(5)),d=n(2),f=E(d),p=(n(6),E(n(9))),h=(E(n(11)),E(n(10))),m=E(n(17)),v=E(n(12)),g=E(n(119)),y=E(n(120)),w=E(n(20)),k=E(n(18)),b=E(n(15));function E(e){return e&&e.__esModule?e:{default:e}}n(207);var _=function(e){function t(e){(0,u.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.store=e.store,n.category=n.props.match.params.category,n.url=n.props.match.url,console.dir(n.props.match),n.state={loading:!1,locationFilter:"Global",sortOrder:"mostVotes",loadingMore:!1,canLoadMore:!0},n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentWillReceiveProps",value:function(e){this.props=e,this.category=e.match.params.category?e.match.params.category:null,this.url=e.match.url,this.webFetch(!0)}},{key:"componentDidMount",value:function(){var e=(0,l.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"webFetch",value:function(){var e=(0,l.default)(a.default.mark(function e(){var t,n,l=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.hydrateCheck()&&this.isCategorySelected){e.next=2;break}return e.abrupt("return");case 2:return l&&this.store.setCategoryPolls(this.category,[]),this.setState({loading:l,loadingMore:!0}),t=this.store.getCategoryPolls(this.category),console.log(this.state.sortOrder),e.next=8,p.default.getPolls((0,r.default)(this.filterParams,{category:this.category,sortOrder:this.state.sortOrder,recordStartNo:t.length,recordQty:20,positionLatitude:"",positionLongitude:"",locationFilter:this.state.locationFilter}));case 8:n=e.sent,this.store.setCategoryPolls(this.category,t.concat(n.polls)),this.setState({loading:!1,loadingMore:!1,canLoadMore:n.polls&&20==n.polls.length});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"changeLocationFilter",value:function(e){this.state.locationFilter!=e&&(this.state.locationFilter=e,this.webFetch(!0))}},{key:"changeSortOrder",value:function(e){this.state.sortOrder!=e&&(this.state.sortOrder=e,this.webFetch(!0))}},{key:"render",value:function(){return f.default.createElement("div",{className:"completedPolls"},f.default.createElement(h.default,{enabled:this.state.loading}),f.default.createElement(v.default,null),this.content,this.showMoreElement)}},{key:"isCategorySelected",get:function(){return"string"==typeof this.category}},{key:"pageType",get:function(){return this.url.startsWith("/completed")?"completed":this.url.startsWith("/browse")?"browse":void 0}},{key:"filterParams",get:function(){switch(this.pageType){case"completed":return{active:"false",type:"Completed"};case"browse":return{active:"true",type:"Normal"}}}},{key:"content",get:function(){var e=this;return this.isCategorySelected?f.default.createElement("div",{style:{margin:0,padding:0}},f.default.createElement("div",{className:"headerLocation"},f.default.createElement(y.default,{defaultLocation:this.state.locationFilter,onChange:function(t){return e.changeLocationFilter(t)}})),f.default.createElement("div",{className:"headerNameFilter"},f.default.createElement(w.default,{category:this.category}),f.default.createElement(k.default,{sortOrder:this.state.sortOrder,onChange:function(t){return e.changeSortOrder(t)}})),f.default.createElement(m.default,{polls:this.store.getCategoryPolls(this.category),showSortOrder:!1})):f.default.createElement(g.default,{basePath:this.pageType})}},{key:"showMoreElement",get:function(){var e=this;if(this.isCategorySelected&&!this.state.loading)return f.default.createElement(b.default,{moreAvailable:this.state.canLoadMore,loading:this.state.loadingMore,onClick:function(){return e.webFetch(!1)}})}}]),t}(d.Component);t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(3)),a=f(n(0)),l=f(n(1)),s=f(n(4)),u=f(n(5)),o=n(2),i=f(o),c=n(6),d=f(n(16));function f(e){return e&&e.__esModule?e:{default:e}}n(201);var p=[{name:"Political & Human Rights",shortName:"Pol",color:"#7776be"},{name:"News & Current Events",shortName:"Hum",color:"#8a9dbe"},{name:"Lifestyle & Health",shortName:"Lif",color:"#f0718c"},{name:"Arts & Entertainment",shortName:"Ent",color:"#ef7245"},{name:"Sports, Hobbies & Games",shortName:"Spo",color:"#cdc034"},{name:"Business & Finance",shortName:"Tec",color:"#0581aa"},{name:"Science & Nature",shortName:"Env",color:"#7eca6f"},{name:"Technology & Gadgets",shortName:"Jus",color:"#c85297"},{name:"Everything Else",shortName:"Oth",color:"#5693d1"},{name:"All Categories",shortName:"All",color:"#01bec0"}],h=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"openCategory",value:function(e){this.props.history.push("/"+this.props.basePath+"/"+e)}},{key:"render",value:function(){return console.log("test"),i.default.createElement("div",{className:"categoryList"},this.categoryElements)}},{key:"categoryElements",get:function(){var e=this;return console.dir(p),p.map(function(t,n){return i.default.createElement("div",{className:"category",key:n,style:{backgroundColor:t.color},onClick:function(){return e.openCategory(t.shortName)}},i.default.createElement("span",{className:"categoryImage"},i.default.createElement("img",{src:d.default[t.shortName+"_browse"]})),i.default.createElement("span",null,t.name))})}}]),t}(o.Component);t.default=(0,c.withRouter)(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(3)),a=c(n(0)),l=c(n(1)),s=c(n(4)),u=c(n(5)),o=n(2),i=c(o);function c(e){return e&&e.__esModule?e:{default:e}}n(203);var d=["Global","National","Local"],f=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.state={selected:d.indexOf(n.props.defaultLocation)},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"changeSelected",value:function(e){this.setState({selected:e}),this.props.onChange(d[e])}},{key:"render",value:function(){return i.default.createElement("div",{className:"locationListWrapper"},this.optionElements)}},{key:"optionElements",get:function(){var e=this;return d.map(function(t,n){var r=n==e.state.selected?"selected":"unselected";return i.default.createElement("div",{key:n,className:r,onClick:function(){return e.changeSelected(n)}},t)})}}]),t}(o.Component);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=w(n(7)),a=w(n(8)),l=w(n(3)),s=w(n(0)),u=w(n(1)),o=w(n(4)),i=w(n(5)),c=n(2),d=w(c),f=(n(6),w(n(9))),p=(w(n(11)),w(n(10))),h=w(n(17)),m=w(n(12)),v=w(n(20)),g=w(n(18)),y=w(n(15));function w(e){return e&&e.__esModule?e:{default:e}}n(207);var k=36,b=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.store=e.store,n.state={loading:!0,sortOrder:"mostVotes",loadingMore:!1,canLoadMore:n.store.getStarPolls()==k},n}return(0,i.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=(0,a.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"webFetch",value:function(){var e=(0,a.default)(r.default.mark(function e(){var t,n,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.hydrateCheck()){e.next=3;break}return this.setState({loading:!1}),e.abrupt("return");case 3:return this.setState({loadingMore:!0}),t=a?[]:this.store.getStarPolls(),e.next=7,f.default.getPolls({category:"All",type:"Star",active:"true",sortOrder:this.state.sortOrder,recordStartNo:t.length,recordQty:k,positionLatitude:"",positionLongitude:"",locationFilter:""});case 7:n=e.sent,this.store.setStarPolls(t.concat(n.polls)),this.setState({loading:!1,loadingMore:!1,canLoadMore:n.polls&&n.polls.length==k});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"changeSortOrder",value:function(e){this.state.sortOrder!=e&&(this.state.sortOrder=e,this.webFetch(!0))}},{key:"render",value:function(){return d.default.createElement("div",{className:"completedPolls"},d.default.createElement(p.default,{enabled:this.state.loading}),d.default.createElement(m.default,null),this.content,this.showMoreElement)}},{key:"content",get:function(){var e=this;return d.default.createElement("div",null,d.default.createElement("div",{className:"headerNameFilter"},d.default.createElement(v.default,{category:"Star"}),d.default.createElement(g.default,{sortOrder:this.state.sortOrder,onChange:function(t){return e.changeSortOrder(t)}})),d.default.createElement(h.default,{polls:this.store.getStarPolls(),showSortOrder:!1}))}},{key:"showMoreElement",get:function(){var e=this;return d.default.createElement(y.default,{moreAvailable:this.state.canLoadMore,loading:this.state.loadingMore,onClick:function(){return e.webFetch(!1)}})}}]),t}(c.Component);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=w(n(7)),a=w(n(8)),l=w(n(3)),s=w(n(0)),u=w(n(1)),o=w(n(4)),i=w(n(5)),c=n(2),d=w(c),f=(n(6),w(n(9))),p=(w(n(11)),w(n(10))),h=w(n(17)),m=w(n(12)),v=w(n(20)),g=w(n(18)),y=w(n(15));function w(e){return e&&e.__esModule?e:{default:e}}n(207);var k=20,b=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.store=e.store,n.state={loading:!0,sortOrder:"mostVotes",loadingMore:!1,canLoadMore:n.store.getMyVotes()==k},n}return(0,i.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=(0,a.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"webFetch",value:function(){var e=(0,a.default)(r.default.mark(function e(){var t,n,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.hydrateCheck()){e.next=3;break}return this.setState({loading:!1}),e.abrupt("return");case 3:return this.setState({loadingMore:!0}),t=a?[]:this.store.getMyVotes(),e.next=7,f.default.getPolls({category:"All",type:"MyVotes",active:"true",sortOrder:this.state.sortOrder,recordStartNo:t.length,recordQty:k,positionLatitude:"",positionLongitude:"",locationFilter:""});case 7:n=e.sent,this.store.setMyVotes(t.concat(n.polls)),this.setState({loading:!1,loadingMore:!1,canLoadMore:n.polls&&n.polls.length==k});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"changeSortOrder",value:function(e){this.state.sortOrder!=e&&(this.state.sortOrder=e,this.webFetch(!0))}},{key:"render",value:function(){return d.default.createElement("div",{className:"completedPolls"},d.default.createElement(p.default,{enabled:this.state.loading}),d.default.createElement(m.default,null),this.content,this.showMoreElement)}},{key:"content",get:function(){var e=this;return d.default.createElement("div",null,d.default.createElement("div",{className:"headerNameFilter"},d.default.createElement(v.default,{category:"MyVotes"}),d.default.createElement(g.default,{sortOrder:this.state.sortOrder,onChange:function(t){return e.changeSortOrder(t)}})),d.default.createElement(h.default,{polls:this.store.getMyVotes(),showSortOrder:!1,forceNormal:!0}))}},{key:"showMoreElement",get:function(){var e=this;return d.default.createElement(y.default,{moreAvailable:this.state.canLoadMore,loading:this.state.loadingMore,onClick:function(){return e.webFetch(!1)}})}}]),t}(c.Component);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=w(n(7)),a=w(n(8)),l=w(n(3)),s=w(n(0)),u=w(n(1)),o=w(n(4)),i=w(n(5)),c=n(2),d=w(c),f=(n(6),w(n(9))),p=(w(n(11)),w(n(10))),h=w(n(17)),m=w(n(12)),v=w(n(20)),g=w(n(18)),y=w(n(15));function w(e){return e&&e.__esModule?e:{default:e}}n(207);var k=20,b=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.store=e.store,n.state={loading:!0,sortOrder:"mostVotes",loadingMore:!1,canLoadMore:n.store.getMyVotes()==k},n}return(0,i.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=(0,a.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"webFetch",value:function(){var e=(0,a.default)(r.default.mark(function e(){var t,n,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.hydrateCheck()){e.next=3;break}return this.setState({loading:!1}),e.abrupt("return");case 3:return this.setState({loadingMore:!0}),t=a?[]:this.store.getMyVotes(),e.next=7,f.default.getPolls({category:"All",type:"MyPolls",active:"true",sortOrder:this.state.sortOrder,recordStartNo:t.length,recordQty:k,positionLatitude:"",positionLongitude:"",locationFilter:""});case 7:n=e.sent,this.store.setMyVotes(t.concat(n.polls)),this.setState({loading:!1,loadingMore:!1,canLoadMore:n.polls&&n.polls.length==k});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"changeSortOrder",value:function(e){this.state.sortOrder!=e&&(this.state.sortOrder=e,this.webFetch(!0))}},{key:"render",value:function(){return d.default.createElement("div",{className:"completedPolls"},d.default.createElement(p.default,{enabled:this.state.loading}),d.default.createElement(m.default,null),this.content,this.showMoreElement)}},{key:"content",get:function(){var e=this;return d.default.createElement("div",null,d.default.createElement("div",{className:"headerNameFilter"},d.default.createElement(v.default,{category:"MyPolls"}),d.default.createElement(g.default,{sortOrder:this.state.sortOrder,onChange:function(t){return e.changeSortOrder(t)}})),d.default.createElement(h.default,{polls:this.store.getMyVotes(),showSortOrder:!1,forceNormal:!0}))}},{key:"showMoreElement",get:function(){var e=this;return d.default.createElement(y.default,{moreAvailable:this.state.canLoadMore,loading:this.state.loadingMore,onClick:function(){return e.webFetch(!1)}})}}]),t}(c.Component);t.default=b},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(3)),a=m(n(0)),l=m(n(1)),s=m(n(4)),u=m(n(5)),o=n(2),i=m(o),c=(n(6),m(n(9)),m(n(11)),m(n(10))),d=(m(n(17)),m(n(12))),f=(m(n(20)),m(n(18)),m(n(15)),m(n(125))),p=m(n(127)),h=m(n(16));function m(e){return e&&e.__esModule?e:{default:e}}n(221);var v=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.store=e.store,n.pollList=i.default.createRef(),n.state={loading:!1},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"socialFeed"},i.default.createElement(c.default,{enabled:this.state.loading}),i.default.createElement(d.default,null),i.default.createElement("div",{className:"socialPageHeader"},i.default.createElement("img",{src:h.default.Social}),"Social"),i.default.createElement("div",{className:"socialContent"},i.default.createElement(f.default,{ref:this.pollList,store:this.store}),i.default.createElement(p.default,{onRefresh:function(t){return e.pollList.current.refresh(t)}})))}}]),t}(o.Component);t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(7)),a=v(n(8)),l=v(n(3)),s=v(n(0)),u=v(n(1)),o=v(n(4)),i=v(n(5)),c=n(2),d=v(c),f=v(n(9)),p=(v(n(11)),v(n(10))),h=v(n(126)),m=v(n(15));function v(e){return e&&e.__esModule?e:{default:e}}n(211);var g=20,y=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.store=e.store,n.state={loading:!0,canLoadMore:n.store.getSocialFeed().length==g},n}return(0,i.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=(0,a.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"refresh",value:function(e){e?this.webFetch():this.setState({loading:!0})}},{key:"webFetch",value:function(){var e=(0,a.default)(r.default.mark(function e(){var t,n,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.hydrateCheck()){e.next=3;break}return this.setState({loading:!1}),e.abrupt("return");case 3:return this.setState({loading:a,loadingMore:!0}),t=a?[]:this.store.getSocialFeed(),e.next=7,f.default.fetchSocialFeed({recordQty:g,recordStartNo:t.length});case 7:n=e.sent,console.dir(n),this.store.setSocialFeed(t.concat(n.polls)),this.setState({loading:!1,loadingMore:!1,canLoadMore:n.polls&&n.polls.length==g});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.default.createElement("div",{className:"socialPollList"},d.default.createElement(p.default,{enabled:this.state.loading,fullScreen:!1}),!this.state.loading&&this.store.getSocialFeed().map(function(e,t){return d.default.createElement(h.default,{poll:e,key:t})}),!this.state.loading&&this.showMoreElement)}},{key:"showMoreElement",get:function(){var e=this;return d.default.createElement(m.default,{moreAvailable:this.state.canLoadMore,loading:this.state.loadingMore,onClick:function(){return e.webFetch(!1)}})}}]),t}(c.Component);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(3)),a=d(n(0)),l=d(n(1)),s=d(n(4)),u=d(n(5)),o=n(2),i=d(o),c=n(6);function d(e){return e&&e.__esModule?e:{default:e}}n(209);var f=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.poll=e.poll,n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"openPoll",value:function(){this.props.history.push("/poll/"+this.poll.pollId)}},{key:"button",value:function(){var e=this;return this.poll.hasVoted||this.poll.hasExpired?i.default.createElement("span",{className:"pollVoteButton resultsButton",onClick:function(){return e.openPoll()}},"Results"):i.default.createElement("span",{className:"pollVoteButton",onClick:function(){return e.openPoll()}},"Vote")}},{key:"render",value:function(){return console.dir(this.poll),i.default.createElement("div",{className:"socialPoll"},this.descriptionText,i.default.createElement("div",{className:"pollRight"},this.button()))}},{key:"descriptionText",get:function(){return"T"==this.poll.createdPoll?i.default.createElement("div",{className:"pollLeft"},i.default.createElement("span",{className:"textHightlightGreen"},this.poll.friendName)," created poll #",this.poll.pollId,i.default.createElement("span",{className:"textHightlightBlack"}," '",this.poll.topic,"'")):i.default.createElement("div",{className:"pollLeft"},i.default.createElement("span",{className:"textHightlightGreen"},this.poll.friendName)," voted on on poll #",this.poll.pollId,i.default.createElement("span",{className:"textHightlightBlack"}," '",this.poll.topic,"'"))}}]),t}(o.Component);f.defaultProps={forceNormal:!1},t.default=(0,c.withRouter)(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(3)),a=p(n(0)),l=p(n(1)),s=p(n(4)),u=p(n(5)),o=n(2),i=p(o),c=(p(n(9)),p(n(11)),p(n(10)),p(n(128))),d=p(n(130)),f=p(n(133));function p(e){return e&&e.__esModule?e:{default:e}}n(219);var h=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.store=e.store,n.friendList=i.default.createRef(),n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"refresh",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.friendList.current.refresh(e),this.props.onRefresh(e)}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"socialFriendControls"},i.default.createElement("div",{className:"socialHeader"},i.default.createElement("span",null,"Manage Friends"),i.default.createElement("img",{src:n(48)})),i.default.createElement(c.default,null),i.default.createElement(d.default,{onRefresh:function(t){return e.refresh(t)}}),i.default.createElement(f.default,{ref:this.friendList,onRefresh:function(t){return e.props.onRefresh(t)}}))}}]),t}(o.Component);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(7)),a=h(n(8)),l=h(n(3)),s=h(n(0)),u=h(n(1)),o=h(n(4)),i=h(n(5)),c=n(2),d=h(c),f=(n(6),h(n(9))),p=h(n(10));function h(e){return e&&e.__esModule?e:{default:e}}n(213);var m=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.state={searchText:"",resultsOpen:!1,loading:!1,results:[],requestsSent:[]},n}return(0,i.default)(t,e),(0,u.default)(t,[{key:"closeResults",value:function(){this.setState({resultsOpen:!1})}},{key:"sendFriendRequest",value:function(){var e=(0,a.default)(r.default.mark(function e(t){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f.default.sendFriendRequest(t),this.state.requestsSent.push(t),this.forceUpdate();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"doSearch",value:function(){var e=(0,a.default)(r.default.mark(function e(t){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=this.searchString.length){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0,resultsOpen:!0,results:[]}),e.next=5,f.default.searchUsername(this.searchString);case 5:n=e.sent,console.dir(n),this.setState({loading:!1,results:n.users});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:"socialSearch"},d.default.createElement("div",{className:"searchHeader"},d.default.createElement("img",{src:n(48)})),d.default.createElement("div",{className:"socialSeachContainer"},d.default.createElement("input",{type:"text",placeholder:"Add friend by username",value:this.state.searchText,onChange:function(t){return e.setState({searchText:t.target.value})}}),d.default.createElement("span",{className:"socialSearchButton",onClick:function(){return e.doSearch()}},d.default.createElement("img",{className:"searchIcon",src:n(47)}))),d.default.createElement("div",{className:this.state.resultsOpen?"socialSearchResults":"socialSearchResults inactive"},d.default.createElement(p.default,{enabled:this.state.loading,fullScreen:!1}),!this.state.loading&&d.default.createElement("div",{className:"userResultsContainer"},this.results),!this.state.loading&&d.default.createElement("div",{className:"closeResults",onClick:function(){return e.closeResults()}},"Close")))}},{key:"searchString",get:function(){return this.state.searchText.trim()}},{key:"results",get:function(){var e=this;return this.state.results.map(function(t,r){return d.default.createElement("div",{className:"searchResult"},d.default.createElement("span",null,t.username),e.state.requestsSent.includes(t.id)?d.default.createElement("img",{src:n(49)}):d.default.createElement("img",{src:n(129),onClick:function(){return e.sendFriendRequest(t.id)}}))})}}]),t}(c.Component);t.default=m},function(e,t,n){e.exports=n.p+"static/media/friend_add_icon.b4614e4e.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(7)),a=p(n(8)),l=p(n(3)),s=p(n(0)),u=p(n(1)),o=p(n(4)),i=p(n(5)),c=n(2),d=p(c),f=(n(6),p(n(9)));function p(e){return e&&e.__esModule?e:{default:e}}n(215);var h=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.state={requests:[]},n}return(0,i.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){0}},{key:"fetchRequests",value:function(){var e=(0,a.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,f.default.fetchFriendRequests();case 3:t=e.sent,this.setState({loading:!1,requests:t.requests});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"rejectFriend",value:function(){var e=(0,a.default)(r.default.mark(function e(t){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,f.default.ignoreFriendRequest(t);case 3:return this.props.onRefresh(),e.next=6,f.default.fetchFriendRequests();case 6:n=e.sent,this.setState({loading:!1,requests:n.requests});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"acceptFriend",value:function(){var e=(0,a.default)(r.default.mark(function e(t){var n;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,f.default.approveFriendRequest(t);case 3:return this.props.onRefresh(),e.next=6,f.default.fetchFriendRequests();case 6:n=e.sent,this.setState({loading:!1,requests:n.requests});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"friendRequest",value:function(e,t){var r=this;return d.default.createElement("div",{className:"friendRequest",key:t},d.default.createElement("div",{className:"requestName"},e.friendName),d.default.createElement("div",{className:"rejectRequest",onClick:function(){return r.rejectFriend(e.id)}},d.default.createElement("img",{src:n(131)})),d.default.createElement("div",{className:"acceptRequest",onClick:function(){return r.acceptFriend(e.id)}},d.default.createElement("img",{src:n(49)})))}},{key:"render",value:function(){return d.default.createElement("div",{className:"socialFriendRequests"},d.default.createElement("div",{className:"requestHeader"},d.default.createElement("img",{src:n(132)}),d.default.createElement("span",null,"Friend Requests")),this.content)}},{key:"friendRequests",get:function(){var e=this;return 0==this.state.requests.length?d.default.createElement("span",{className:"lolNoFriends"},"No friend requests"):this.state.requests.map(function(t){return e.friendRequest(t)})}},{key:"content",get:function(){return this.state.loading?d.default.createElement("div",{className:"friendContainer"},d.default.createElement("span",{className:"lolNoFriends"},"Loading")):d.default.createElement("div",{className:"friendContainer"},this.friendRequests)}}]),t}(c.Component);t.default=h},function(e,t,n){e.exports=n.p+"static/media/friend_reject_icon.fb70dc63.png"},function(e,t,n){e.exports=n.p+"static/media/friend_request_icon.1434f83d.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(7)),a=p(n(8)),l=p(n(3)),s=p(n(0)),u=p(n(1)),o=p(n(4)),i=p(n(5)),c=n(2),d=p(c),f=(n(6),p(n(9)));function p(e){return e&&e.__esModule?e:{default:e}}n(217);var h=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.state={loading:!0,friends:[]},n}return(0,i.default)(t,e),(0,u.default)(t,[{key:"componentWillMount",value:function(){0}},{key:"refresh",value:function(e){this.fetchRequests()}},{key:"fetchRequests",value:function(){var e=(0,a.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,f.default.fetchFriends();case 3:t=e.sent,this.setState({loading:!1,friends:t.friends});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"toggleMute",value:function(){var e=(0,a.default)(r.default.mark(function e(t){var n,a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.onRefresh(!1),n=this.state.friends.find(function(e){return e.id==t}),a=void 0,0==n.muted?(n.muted=1,a=f.default.muteFriend(t)):(n.muted=0,a=f.default.unmuteFriend(t)),this.forceUpdate(),e.next=7,a;case 7:this.props.onRefresh(!0);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"removeFriend",value:function(){var e=(0,a.default)(r.default.mark(function e(t){var n,a,l;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state.friends.find(function(e){return e.id==t}),!confirm("Are you sure you want to remove "+n.username+"?")){e.next=9;break}return this.props.onRefresh(!1),a=f.default.ignoreFriendRequest(t),l=this.state.friends.filter(function(e){return e.id!=t}),this.setState({friends:l}),e.next=8,a;case 8:this.props.onRefresh(!0);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"friend",value:function(e,t){var r=this;return console.dir(e),d.default.createElement("div",{className:"friend",key:t},d.default.createElement("div",{className:"muteToggle "+(0==e.muted?"notMuted":"muted"),onClick:function(){return r.toggleMute(e.id)}},0==e.muted?d.default.createElement("img",{src:n(134)}):d.default.createElement("img",{src:n(135)})),d.default.createElement("div",{className:"friendName"},e.username),d.default.createElement("div",{className:"unfriend",onClick:function(){return r.removeFriend(e.id)}},d.default.createElement("img",{src:n(136)})))}},{key:"render",value:function(){return d.default.createElement("div",{className:"socialFriends"},d.default.createElement("div",{className:"friendsHeader"},d.default.createElement("img",{src:n(137)})),this.content)}},{key:"friends",get:function(){var e=this;return 0==this.state.friends.length?d.default.createElement("span",{className:"lolNoFriends"},"No friends"):this.state.friends.map(function(t){return e.friend(t)})}},{key:"content",get:function(){return this.state.loading?d.default.createElement("div",{className:"friendContainer"},d.default.createElement("div",{className:"friend loading"},"Loading")):d.default.createElement("div",{className:"friendContainer"},this.friends)}}]),t}(c.Component);t.default=h},function(e,t,n){e.exports=n.p+"static/media/friend_unmuted_icon.42ae4b2c.png"},function(e,t,n){e.exports=n.p+"static/media/friend_muted_icon.d4ca5040.png"},function(e,t,n){e.exports=n.p+"static/media/friend_remove_icon.067915ba.png"},function(e,t,n){e.exports=n.p+"static/media/friends_icon.66dd06f7.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(3)),a=c(n(0)),l=c(n(1)),s=c(n(4)),u=c(n(5)),o=n(2),i=c(o);n(6),c(n(9)),c(n(10));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.store=e.store,n.state={loading:!1},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"manageFriends"})}}]),t}(o.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(140)),a=v(n(7)),l=v(n(8)),s=v(n(3)),u=v(n(0)),o=v(n(1)),i=v(n(4)),c=v(n(5)),d=n(2),f=v(d),p=(n(6),v(n(9))),h=v(n(10)),m=v(n(12));function v(e){return e&&e.__esModule?e:{default:e}}n(223);var g=function(e){function t(e){(0,u.default)(this,t);var n=(0,i.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e));return n.store=e.store,n.state={loading:!0},n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=(0,l.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"webFetch",value:function(){var e=(0,l.default)(a.default.mark(function e(){var t;!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.hydrateCheck()){e.next=3;break}return this.setState({loading:!1}),e.abrupt("return");case 3:return this.setState({loading:!0}),e.next=6,p.default.getUserSettings();case 6:t=e.sent,this.store.setUserSettings(t),this.setState({loading:!1});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"performDeleteAccount",value:function(){var e=(0,l.default)(a.default.mark(function e(){return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("Are you sure you want to delete your account?")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p.default.deleteAccount();case 4:e.sent.success?window.location="/logout":alert("An error occured");case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return f.default.createElement("div",{className:"accountDetails"},f.default.createElement(h.default,{enabled:this.state.loading}),f.default.createElement(m.default,null),this.settingsElement)}},{key:"settingsElement",get:function(){var e=this,t=this.store.getUserSettings();return console.dir(t),0==(0,r.default)(t).length?null:f.default.createElement("div",{className:"settingsContainer"},f.default.createElement("div",{className:"settingsHeader"},f.default.createElement("img",{src:n(141)})," Account & Settings"),f.default.createElement("div",{className:"settingsRow"},f.default.createElement("div",{className:"settingsItem"},"Username: ",f.default.createElement("span",{className:"settingsHighlight"},t.userName))),f.default.createElement("div",{className:"settingsRow"},f.default.createElement("div",{className:"settingsItem"},"Polls created: ",f.default.createElement("span",{className:"settingsHighlight"},t.pollsCreated)),f.default.createElement("div",{className:"settingsItem"},"Polls voted on: ",f.default.createElement("span",{className:"settingsHighlight"},t.pollsVotedOn))),f.default.createElement("div",{className:"settingsRow"},f.default.createElement("div",{className:"settingsItem"},"User for: ",f.default.createElement("span",{className:"settingsHighlight"},t.age)),f.default.createElement("div",{className:"settingsItem"},"Followers: ",f.default.createElement("span",{className:"settingsHighlight"},t.followers))),f.default.createElement("div",{className:"settingsRow"},f.default.createElement("div",{className:"settingsItem"},"Total points: ",f.default.createElement("span",{className:"settingsHighlight"},t.RP)),f.default.createElement("div",{className:"settingsItem"},"User ranking: ",f.default.createElement("span",{className:"settingsHighlight"},t.userRanking))),f.default.createElement("span",{className:"accountHeader"},"Account Removal"),f.default.createElement("div",{className:"accountText"},"Decided not to use ClearPoll? We're sorry to see you go! You can delete your account and remove all your profile data."),f.default.createElement("div",{className:"accountText"},"Your previous votes will anonymously count towards the poll result total for statistical purposes, with no profile attached."),f.default.createElement("div",{className:"deleteAccountButton",onClick:function(){return e.performDeleteAccount()}},"Delete Account & Profile Data"),f.default.createElement("div",{className:"accountText"},f.default.createElement("span",{className:"totesImportants"},"IMPORTANT:")," This cannot be undone!"))}}]),t}(d.Component);t.default=g},function(e,t){e.exports=require("babel-runtime/core-js/object/keys")},function(e,t,n){e.exports=n.p+"static/media/account_icon.8b0db1b0.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(3)),a=f(n(0)),l=f(n(1)),s=f(n(4)),u=f(n(5)),o=n(2),i=f(o),c=(n(6),n(143)),d=(f(n(9)),f(n(10)),f(n(12)));function f(e){return e&&e.__esModule?e:{default:e}}n(225);var p=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.store=e.store,n.state={widgetPollId:"",ratingPollId:""},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"updateWidgetPollId",value:function(e){this.setState({widgetPollId:e.target.value.replace(/\D/g,"")})}},{key:"updateRatingPollId",value:function(e){this.setState({ratingPollId:e.target.value.replace(/\D/g,"")})}},{key:"selectCode",value:function(e){var t=e.target||e.srcElement,n=void 0,r=void 0;document.body.createTextRange?((n=document.body.createTextRange()).moveToElementText(t),n.select()):window.getSelection&&(r=window.getSelection(),(n=document.createRange()).selectNodeContents(t),r.removeAllRanges(),r.addRange(n)),e.stopPropagation(),document.execCommand("copy")}},{key:"render",value:function(){return i.default.createElement("div",null,i.default.createElement(d.default,null),i.default.createElement("div",{className:"createWidget"},this.createPollWidgetForm,this.createRatingsWidgetForm))}},{key:"widgetCode",get:function(){return'<script async charset="utf-8" src="https://web.clearpoll.com/public/widget.js"><\/script><div style="width: 380px; height: 560px;" data-clearpoll-pollId="'+this.state.widgetPollId+'"></div>'}},{key:"ratingWidgetCode",get:function(){return'<script async charset="utf-8" src="https://web.clearpoll.com/public/widget.js"><\/script><div style="width: 590px; height: 100px;" data-clearpoll-type="rating" data-clearpoll-pollId="'+this.state.ratingPollId+'"></div>'}},{key:"createPollWidgetForm",get:function(){var e=this;return i.default.createElement("div",{className:"widgetFormContainer"},i.default.createElement("div",{className:"header"},i.default.createElement("span",null,"Create a Poll Widget"),i.default.createElement("img",{src:n(14)})),i.default.createElement("div",{className:"summary"},"Clearpoll polls can be embedded on any website, allowing logged in users to vote on-site and view live results. Poll widgets are ideal for news articles or audience interaction."),i.default.createElement("div",{className:"description"},"First, create the poll inside ClearPoll App, or find an existing poll you wish to embed. Then enter the Poll ID below."),i.default.createElement("div",{className:"form"},i.default.createElement("span",null,"Enter Poll ID:"),i.default.createElement("input",{type:"text",value:this.state.widgetPollId,onChange:function(t){return e.updateWidgetPollId(t)}})),i.default.createElement("pre",{className:"code",onClick:function(t){return e.selectCode(t)}},this.widgetCode),i.default.createElement(c.CopyToClipboard,{text:this.widgetCode},i.default.createElement("div",{className:"copyButton"},"Copy")),i.default.createElement("div",{className:"footerText"},"Paste the widget code anywhere in your websites's HTML."))}},{key:"createRatingsWidgetForm",get:function(){var e=this;return i.default.createElement("div",{className:"widgetFormContainer"},i.default.createElement("div",{className:"header"},i.default.createElement("span",null,"Create a a Ratings Bar Widget"),i.default.createElement("img",{src:n(14)})),i.default.createElement("div",{className:"summary"},"Ratings bars allow your website visitors to rate anything out of 10. No Multiple votes or bot votes. Visitors can rate directly on your site, or by searching the ID in the ClearPoll app."),i.default.createElement("div",{className:"description"},"First, create the ratings bar poll inside the ClearPoll app. Then enter the Poll Id below."),i.default.createElement("div",{className:"form"},i.default.createElement("span",null,"Enter Poll ID:"),i.default.createElement("input",{type:"text",value:this.state.ratingPollId,onChange:function(t){return e.updateRatingPollId(t)}})),i.default.createElement("pre",{className:"code",onClick:function(t){return e.selectCode(t)}},this.ratingWidgetCode),i.default.createElement(c.CopyToClipboard,{text:this.ratingWidgetCode},i.default.createElement("div",{className:"copyButton"},"Copy")),i.default.createElement("div",{className:"footerText"},"Paste the widget code anywhere in your websites's HTML."))}}]),t}(o.Component);t.default=p},function(e,t){e.exports=require("react-copy-to-clipboard")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(7)),a=v(n(8)),l=v(n(3)),s=v(n(0)),u=v(n(1)),o=v(n(4)),i=v(n(5)),c=n(2),d=v(c),f=(n(6),v(n(9))),p=v(n(10)),h=v(n(12)),m=v(n(145));function v(e){return e&&e.__esModule?e:{default:e}}n(227);var g=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.store=e.store,n.state={loading:!0},n}return(0,i.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=(0,a.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"webFetch",value:function(){var e=(0,a.default)(r.default.mark(function e(){var t;!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.hydrateCheck()){e.next=3;break}return this.setState({loading:!1}),e.abrupt("return");case 3:return this.setState({loading:!0}),e.next=6,f.default.getUserSettings();case 6:t=e.sent,this.store.setUserSettings(t),this.setState({loading:!1});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.default.createElement("div",{className:"rewardsPage"},d.default.createElement(p.default,{enabled:this.state.loading}),d.default.createElement(h.default,null),this.rewardsElement)}},{key:"rewardsElement",get:function(){var e=this.store.getUserSettings();return d.default.createElement("div",{className:"rewardsContent"},d.default.createElement("div",{className:"rewardsHeader"},d.default.createElement("img",{src:n(147)}),"User Rewards"),d.default.createElement("div",{className:"row"},d.default.createElement("div",{className:"rowItem"},d.default.createElement("div",{className:"itemHeader"},"Points Received"),d.default.createElement("div",{className:"itemValue"},e.RP),d.default.createElement("div",{className:"itemFooter"},d.default.createElement("div",null,"Points reset at the end of each rewards period."))),d.default.createElement("div",{className:"rowItem"},d.default.createElement("div",{className:"itemHeader"},"POLL Token Balance"),d.default.createElement("div",{className:"itemValue"},e.BP),d.default.createElement("div",{className:"itemFooter"},d.default.createElement("div",{className:"payoutButton"},"Request Payout"),d.default.createElement("div",null,"The minimum payout amount is 50 POLL."))),d.default.createElement("div",{className:"rowItem"},d.default.createElement("div",{className:"itemHeader"},"Current Multiplier Level"),d.default.createElement("div",{className:"itemValue"},"x",e.BM),d.default.createElement("div",{className:"itemFooter"},d.default.createElement("div",null,"Multiplier levels are based on your existing POLL balance in your wallet and caluclated daily."),d.default.createElement("a",{className:"itemLink",href:"https://www.clearpoll.com/multiplier",target:"_blank"},"More information.")))),d.default.createElement("div",{className:"bottomContainer"},d.default.createElement("div",{className:"bottomHeader"},"Poll Wallet Address"),d.default.createElement("div",null,"Your wallet address is where your POLL tokens will be send when you request a payout. It is also the wallet we check for balance to determine your multiplier level."),d.default.createElement("a",{className:"walletButton",href:"https://clearpoll.com/beginners-guide-to-creating-a-poll-token-wallet",target:"_blank"},"Get a Wallet"),d.default.createElement(m.default,null),d.default.createElement("div",null,d.default.createElement("span",{className:"important"},"Important."),"Changing your POLL wallet address after entering it will reset your points for the current period. Your POLL balance will remain.")))}}]),t}(c.Component);t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(7)),a=h(n(8)),l=h(n(3)),s=h(n(0)),u=h(n(1)),o=h(n(4)),i=h(n(5)),c=n(2),d=h(c),f=h(n(9)),p=h(n(10));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return n.state={loading:!1,ethAddress:null},n}return(0,i.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=(0,a.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"webFetch",value:function(){var e=(0,a.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,f.default.getWalletAddress();case 3:t=e.sent,this.setState({ethAddress:t.wallet}),this.setState({loading:!1});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"saveAddress",value:function(){var e=(0,a.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,f.default.saveWalletAddress(this.state.ethAddress);case 3:(t=e.sent).success||alert(t.error),this.setState({loading:!1});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.default.createElement("div",{className:"addressField"},d.default.createElement(p.default,{enabled:this.state.loading}),d.default.createElement("span",null,"Address"),d.default.createElement("input",{type:"text",placeholder:"POLL wallet address",value:this.state.ethAddress,onChange:function(t){return e.setState({ethAddress:t.target.value})}}),d.default.createElement("span",{className:"saveButton",onClick:function(){return e.saveAddress()}},d.default.createElement("img",{src:n(146)})))}}]),t}(c.Component);t.default=m},function(e,t,n){e.exports=n.p+"static/media/save_icon.1a867146.png"},function(e,t,n){e.exports=n.p+"static/media/rewards_icon.10477903.png"},function(e,t,n){e.exports=n.p+"static/media/ClearPoll-Logo.9bf788d6.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(7)),a=b(n(8)),l=b(n(3)),s=b(n(0)),u=b(n(1)),o=b(n(4)),i=b(n(5)),c=n(2),d=b(c),f=(n(6),function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(31))),p=b(n(9)),h=b(n(11)),m=b(n(10)),v=b(n(150)),g=b(n(151)),y=b(n(152)),w=b(n(154)),k=b(n(155));function b(e){return e&&e.__esModule?e:{default:e}}n(243);var E=function(e){function t(e){(0,s.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));n.store=e.store,n.pollId=n.props.match.params.pollId;var r=f.parse(e.location.search);return n.widgetType=r.type,n.state={loading:!1,showOnFeed:!0},n}return(0,i.default)(t,e),(0,u.default)(t,[{key:"componentDidMount",value:function(){var e=(0,a.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0;case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"webFetch",value:function(){var e=(0,a.default)(r.default.mark(function e(){var t;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.store.hydrateCheck()){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0}),e.next=5,p.default.fetchPoll(this.pollId);case 5:t=e.sent,this.store.setPoll(this.pollId,t),this.setState({loading:!1});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"emitLoginMessage",value:function(){window.parent.postMessage({event:"openLogin",pollId:this.pollId},"*")}},{key:"performVote",value:function(){var e=(0,a.default)(r.default.mark(function e(t){var n,a,l;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.store.getAuthenticated()){e.next=3;break}return this.emitLoginMessage(),e.abrupt("return");case 3:if(n=this.store.getPoll(this.pollId),!(a=new h.default(n)).hasVoted&&!a.hasExpired){e.next=7;break}return e.abrupt("return");case 7:return this.setState({loading:!0}),e.next=10,p.default.voteOnPoll(this.pollId,t,this.state.showOnFeed);case 10:(l=e.sent).success?(a.results=l.results,a.pollVotes+=1,a.hasVoted=!0,a.votedOn=[{answerId:t,answerText:a.answers[t]}],this.store.setPoll(this.pollId,a)):alert("Error"),this.setState({loading:!1});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"containerContent",value:function(e){var t=this;return!this.store.getAuthenticated()||e.hasVoted||e.hasExpired?d.default.createElement(g.default,{results:e.results,totalVotes:e.pollVotes}):d.default.createElement(v.default,{answers:e.answers,onVote:function(e){return t.performVote(e)}})}},{key:"numberToCommaFormat",value:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}},{key:"pollElement",value:function(e){return d.default.createElement("div",{className:"scrollableContainer"},d.default.createElement("div",{className:"pollQuestion"},e.question),d.default.createElement("div",{className:"contentContainer"},this.containerContent(e)))}},{key:"standardPoll",value:function(e){var t=this;return d.default.createElement("div",{className:"widgetPoll"},d.default.createElement(m.default,{enabled:this.state.loading}),e&&d.default.createElement(y.default,{poll:e,pollVotes:e.votes}),this.pollElement(e),!this.store.getAuthenticated()&&d.default.createElement(w.default,{onClick:function(){return t.emitLoginMessage()}}))}},{key:"render",value:function(){var e=this,t=this.store.getPoll(this.pollId),n=t?new h.default(t):null;return"rating"==this.widgetType?d.default.createElement(k.default,{poll:n,loading:this.state.loading,onAnswer:function(t){return e.performVote(t)}}):this.standardPoll(n)}}]),t}(c.Component);t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(3)),a=d(n(0)),l=d(n(1)),s=d(n(4)),u=d(n(5)),o=n(2),i=d(o),c=d(n(27));function d(e){return e&&e.__esModule?e:{default:e}}n(231);var f=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.props=e,n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"onVote",value:function(e){this.props.onVote(e)}},{key:"render",value:function(){var e=this,t=this.props.answers.map(function(t,n){return i.default.createElement("div",{className:"answer",key:n,style:{backgroundColor:c.default[n]+"!important"},onClick:function(){return e.onVote(t)}},t)});return i.default.createElement("div",{className:"answersContainer"},t)}}]),t}(o.Component);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(13)),a=f(n(3)),l=f(n(0)),s=f(n(1)),u=f(n(4)),o=f(n(5)),i=n(2),c=f(i),d=f(n(27));function f(e){return e&&e.__esModule?e:{default:e}}n(233);var p=function(e){function t(e){(0,l.default)(this,t);var n=(0,u.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.props=e,n}return(0,o.default)(t,e),(0,s.default)(t,[{key:"graphElement",value:function(e,t){var n=.8*Math.floor(100*e.votePercentage/this.highestVotePercent);return c.default.createElement("div",{className:"resultContainer",key:t},c.default.createElement("div",{className:"resultAnswer"},e.answerText),c.default.createElement("div",{className:"graph"},c.default.createElement("div",{className:"voteCount"},e.voteCount),c.default.createElement("div",{className:"votePercentage"},e.votePercentage,"%"),c.default.createElement("div",{className:"voteBarContainer"},c.default.createElement("div",{className:"voteBarInner",style:{width:n+"%",backgroundColor:d.default[t]+" !important"}}))))}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:"graphContainer"},this.resultsWithPercentages.map(function(t,n){return e.graphElement(t,n)}))}},{key:"totalVotes",get:function(){return this.props.results.reduce(function(e,t){return e+t.voteCount},0)}},{key:"highestVotePercent",get:function(){return this.resultsWithPercentages.reduce(function(e,t){return t.votePercentage>e?t.votePercentage:e},0)}},{key:"resultsWithPercentages",get:function(){for(var e=this,t=this.props.results.map(function(t){return(0,r.default)(t,{votePercentage:Math.floor(100*t.voteCount/e.totalVotes)})}),n=function(){var n=-1,r=0;if(t.forEach(function(t,a){var l=100*t.voteCount/e.totalVotes-t.votePercentage;l>0&&l>r&&(n=a,r=l)}),n<0)return"break";t[n].votePercentage++};100-t.reduce(function(e,t){return e+t.votePercentage},0)>0;){if("break"===n())break}return t}}]),t}(i.Component);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(3)),a=c(n(0)),l=c(n(1)),s=c(n(4)),u=c(n(5)),o=n(2),i=c(o);function c(e){return e&&e.__esModule?e:{default:e}}n(235);var d=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return n.props=e,n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"widgetHeaderContainer"},i.default.createElement("a",{className:"widgetHeader",href:"https://clearpoll.com",target:"_blank"},i.default.createElement("img",{className:"logo",src:n(153)})),i.default.createElement("div",{className:"widgetHeaderDetails"},i.default.createElement("div",null,i.default.createElement("img",{src:n(14)}),this.props.pollVotes),i.default.createElement("div",null,i.default.createElement("img",{src:n(26)}),this.props.poll.pollId),!this.props.poll.hasExpired&&i.default.createElement("div",null,i.default.createElement("img",{src:n(25)}),this.props.poll.timeRemaining)))}}]),t}(o.Component);t.default=d},function(e,t,n){e.exports=n.p+"static/media/clearpoll_logo_white.eb4d7977.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(3)),a=c(n(0)),l=c(n(1)),s=c(n(4)),u=c(n(5)),o=n(2),i=c(o);function c(e){return e&&e.__esModule?e:{default:e}}n(237);var d=function(e){function t(){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"widgetFooter"},i.default.createElement("div",{className:"voteButton",onClick:this.props.onClick},"Vote"))}}]),t}(o.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(3)),a=f(n(0)),l=f(n(1)),s=f(n(4)),u=f(n(5)),o=n(2),i=f(o),c=(f(n(156)),f(n(10))),d=f(n(157));function f(e){return e&&e.__esModule?e:{default:e}}n(241);var p=function(e){function t(e){return(0,a.default)(this,t),(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e))}return(0,u.default)(t,e),(0,l.default)(t,[{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"ratingPoll"},i.default.createElement(c.default,{enabled:this.props.loading}),i.default.createElement("div",{className:"topRow"},i.default.createElement("div",{className:"avgScore"},this.averageScoreString),i.default.createElement("div",{className:"question",style:{fontSize:this.questionFontSize+"vw"}},this.props.poll.question),i.default.createElement("div",{className:"votes"},i.default.createElement("img",{src:n(14)}),this.props.poll.votes),i.default.createElement("div",{className:"id"},i.default.createElement("img",{src:n(26)}),this.props.poll.pollId)),i.default.createElement("div",{className:"bottomRow"},i.default.createElement(d.default,{enabled:!this.props.poll.hasExpired,averageRating:this.props.poll.averageRating,onClick:function(t){return e.props.onAnswer(t)},userAnswer:this.props.poll.votedOn&&this.props.poll.votedOn[0]})))}},{key:"averageScoreString",get:function(){return parseFloat(Math.round(10*this.props.poll.averageRating)/10).toFixed(1)}},{key:"questionFontSize",get:function(){var e=5-.2*Math.max(0,this.props.poll.question.length-14);return Math.min(5,e)}}]),t}(o.Component);t.default=p},function(e,t){e.exports=require("react-cursor-position")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(3)),a=c(n(0)),l=c(n(1)),s=c(n(4)),u=c(n(5)),o=n(2),i=c(o);function c(e){return e&&e.__esModule?e:{default:e}}n(239);var d=function(e){function t(e){(0,a.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e)),l=n.props.userAnswer?Number(n.props.userAnswer.answerText):null;return n.state={lockToAnswer:l>0,mouseOver:!1,mouseStarPosition:l>0?l-1:0,animationScale:0},n}return(0,u.default)(t,e),(0,l.default)(t,[{key:"componentDidMount",value:function(){0}},{key:"animateIn",value:function(e){this.animationStartTime||(this.animationStartTime=e);var t=(1+e-this.animationStartTime)/1e3;t<1?(this.setState({animationScale:t}),window.requestAnimationFrame(this.animateIn.bind(this))):this.setState({animationScale:1})}},{key:"onMouseMove",value:function(e){if(!this.state.lockToAnswer){var t=e.currentTarget.getBoundingClientRect(),n=100*(e.pageX-t.left)/t.width;this.setState({mouseStarPosition:Math.floor(n/10)})}}},{key:"onClick",value:function(){this.props.onClick(this.state.mouseStarPosition+1)}},{key:"toggleMousePointer",value:function(e){this.setState({mouseOver:e})}},{key:"render",value:function(){var e=this;return i.default.createElement("svg",{id:"Layer_1",viewBox:"0 0 1000 100",className:"starGraph",onMouseMove:this.onMouseMove.bind(this),onMouseOver:function(){return e.toggleMousePointer(!0)},onMouseOut:function(){return e.toggleMousePointer(!1)},onClick:this.onClick.bind(this)},i.default.createElement("rect",{x:"15",y:"0",width:this.state.animationScale*this.highlightWidth,height:"95",fill:"#06bfc1"}),i.default.createElement("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",y1:121.5,x2:1e3,y2:121.5,gradientTransform:"translate(0 -73)"},i.default.createElement("stop",{offset:0,id:"stop3813",stopColor:"#450069"}),i.default.createElement("stop",{offset:.326,id:"stop3815",stopColor:"#352888"}),i.default.createElement("stop",{offset:.662,id:"stop3817",stopColor:"#3e4da2"}),i.default.createElement("stop",{offset:1,id:"stop3819",stopColor:"#2586b3"})),i.default.createElement("path",{d:"M0 0v91c0 3.3 2.7 6 6 6h988c3.3 0 6-2.7 6-6V0zm101.4 40.8L80.1 60.5 85.8 89c.1.5-.1 1-.5 1.3-.2.2-.5.3-.8.3-.2 0-.4-.1-.6-.2L58.6 76.2 33.3 90.4c-.5.3-1 .2-1.4-.1-.4-.3-.6-.8-.5-1.3l5.7-28.5-21.3-19.7c-.4-.4-.5-.9-.4-1.4.2-.5.6-.8 1.1-.9l28.8-3.4L57.5 8.8c.2-.5.7-.8 1.2-.8s1 .3 1.2.8l12.2 26.3 28.8 3.4c.5.1.9.4 1.1.9-.1.5-.2 1.1-.6 1.4zm98 0l-21.3 19.7 5.7 28.5c.1.5-.1 1-.5 1.3-.2.2-.5.3-.8.3-.2 0-.4-.1-.6-.2l-25.3-14.2-25.3 14.2c-.5.3-1 .2-1.4-.1-.4-.3-.6-.8-.5-1.3l5.7-28.5-21.3-19.7c-.4-.4-.5-.9-.4-1.4.2-.5.6-.8 1.1-.9l28.8-3.4 12.2-26.3c.2-.5.7-.8 1.2-.8s1 .3 1.2.8l12.2 26.3 28.8 3.4c.5.1.9.4 1.1.9-.1.5-.2 1.1-.6 1.4zm98 0l-21.3 19.7 5.7 28.5c.1.5-.1 1-.5 1.3-.2.2-.5.3-.8.3-.2 0-.4-.1-.6-.2l-25.3-14.2-25.3 14.2c-.5.3-1 .2-1.4-.1-.4-.3-.6-.8-.5-1.3l5.7-28.5-21.3-19.7c-.4-.4-.5-.9-.4-1.4.2-.5.6-.8 1.1-.9l28.8-3.4 12.2-26.3c.2-.5.7-.8 1.2-.8s1 .3 1.2.8l12.2 26.3 28.8 3.4c.5.1.9.4 1.1.9-.1.5-.2 1.1-.6 1.4zm98 0l-21.3 19.7 5.7 28.5c.1.5-.1 1-.5 1.3-.2.2-.5.3-.8.3-.2 0-.4-.1-.6-.2l-25.3-14.2-25.3 14.2c-.5.3-1 .2-1.4-.1-.4-.3-.6-.8-.5-1.3l5.7-28.5-21.3-19.7c-.4-.4-.5-.9-.4-1.4.2-.5.6-.8 1.1-.9l28.8-3.4 12.2-26.3c.2-.5.7-.8 1.2-.8s1 .3 1.2.8l12.2 26.3 28.8 3.4c.5.1.9.4 1.1.9-.1.5-.2 1.1-.6 1.4zm98 0l-21.3 19.7 5.7 28.5c.1.5-.1 1-.5 1.3-.2.2-.5.3-.8.3-.2 0-.4-.1-.6-.2l-25.3-14.2-25.3 14.2c-.5.3-1 .2-1.4-.1-.4-.3-.6-.8-.5-1.3l5.7-28.5-21.3-19.7c-.4-.4-.5-.9-.4-1.4.2-.5.6-.8 1.1-.9l28.8-3.4 12.2-26.3c.2-.5.7-.8 1.2-.8s1 .3 1.2.8l12.2 26.3 28.8 3.4c.5.1.9.4 1.1.9-.1.5-.2 1.1-.6 1.4zm98 0l-21.3 19.7 5.7 28.5c.1.5-.1 1-.5 1.3-.2.2-.5.3-.8.3-.2 0-.4-.1-.6-.2l-25.3-14.2-25.3 14.2c-.5.3-1 .2-1.4-.1-.4-.3-.6-.8-.5-1.3l5.7-28.5-21.3-19.7c-.4-.4-.5-.9-.4-1.4.2-.5.6-.8 1.1-.9l28.8-3.4 12.2-26.3c.2-.5.7-.8 1.2-.8s1 .3 1.2.8l12.2 26.3 28.8 3.4c.5.1.9.4 1.1.9-.1.5-.2 1.1-.6 1.4zm98 0l-21.3 19.7 5.7 28.5c.1.5-.1 1-.5 1.3-.2.2-.5.3-.8.3-.2 0-.4-.1-.6-.2l-25.3-14.2-25.3 14.2c-.5.3-1 .2-1.4-.1-.4-.3-.6-.8-.5-1.3l5.7-28.5-21.3-19.7c-.4-.4-.5-.9-.4-1.4.2-.5.6-.8 1.1-.9l28.8-3.4 12.2-26.3c.2-.5.7-.8 1.2-.8s1 .3 1.2.8l12.2 26.3 28.8 3.4c.5.1.9.4 1.1.9-.1.5-.2 1.1-.6 1.4zm98 0l-21.3 19.7 5.7 28.5c.1.5-.1 1-.5 1.3-.2.2-.5.3-.8.3-.2 0-.4-.1-.6-.2l-25.3-14.2-25.3 14.2c-.5.3-1 .2-1.4-.1-.4-.3-.6-.8-.5-1.3l5.7-28.5-21.3-19.7c-.4-.4-.5-.9-.4-1.4.2-.5.6-.8 1.1-.9l28.8-3.4 12.2-26.3c.2-.5.7-.8 1.2-.8s1 .3 1.2.8l12.2 26.3 28.8 3.4c.5.1.9.4 1.1.9-.1.5-.2 1.1-.6 1.4zm98 0l-21.3 19.7 5.7 28.5c.1.5-.1 1-.5 1.3-.2.2-.5.3-.8.3-.2 0-.4-.1-.6-.2l-25.3-14.2-25.3 14.2c-.5.3-1 .2-1.4-.1-.4-.3-.6-.8-.5-1.3l5.7-28.5-21.3-19.7c-.4-.4-.5-.9-.4-1.4.2-.5.6-.8 1.1-.9l28.8-3.4 12.2-26.3c.2-.5.7-.8 1.2-.8s1 .3 1.2.8l12.2 26.3 28.8 3.4c.5.1.9.4 1.1.9-.1.5-.2 1.1-.6 1.4zm98 0l-21.3 19.7 5.7 28.5c.1.5-.1 1-.5 1.3-.2.2-.5.3-.8.3-.2 0-.4-.1-.6-.2l-25.3-14.2-25.3 14.2c-.5.3-1 .2-1.4-.1-.4-.3-.6-.8-.5-1.3l5.7-28.5-21.3-19.7c-.4-.4-.5-.9-.4-1.4.2-.5.6-.8 1.1-.9l28.8-3.4 12.2-26.3c.2-.5.7-.8 1.2-.8s1 .3 1.2.8l12.2 26.3 28.8 3.4c.5.1.9.4 1.1.9-.1.5-.2 1.1-.6 1.4z",id:"path3822",fill:"url(#SVGID_1_)"}),this.mousePointer)}},{key:"highlightWidth",get:function(){return 10*Math.floor(this.props.averageRating)+88*this.props.averageRating}},{key:"mousePointer",get:function(){if(this.props.enabled&&(this.state.mouseOver||this.state.lockToAnswer)){var e=35+98*this.state.mouseStarPosition;return i.default.createElement("polygon",{points:"48,13.7 24,0 0,13.7 ",fill:"#EF7244",transform:"translate("+e+",83)"})}}}]),t}(o.Component);t.default=d},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetPoll=void 0;var r=m(n(19)),a=m(n(7)),l=m(n(8)),s=function(){var e=(0,l.default)(a.default.mark(function e(t,n,r,l){var s,u;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=new f.default,u=new d.default(l),s.setAuthenticated(!0),e.t0=s,e.t1=r,e.next=7,u.fetchPoll(r);case 7:e.t2=e.sent,e.t0.setPoll.call(e.t0,e.t1,e.t2),y(t,n,s,r);case 10:case"end":return e.stop()}},e,this)}));return function(t,n,r,a){return e.apply(this,arguments)}}(),u=function(){var e=(0,l.default)(a.default.mark(function e(t,n,r){var l,s;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l=new f.default,s=new d.default,l.setAuthenticated(!1),e.t0=l,e.t1=r,e.next=7,s.fetchUnauthPoll(r);case 7:e.t2=e.sent,e.t0.setPoll.call(e.t0,e.t1,e.t2),y(t,n,l,r);case 10:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}(),o=m(n(2)),i=n(32),c=n(6),d=m(n(21)),f=m(n(23)),p=m(n(24)),h=m(n(50));function m(e){return e&&e.__esModule?e:{default:e}}var v=function(){var e=(0,l.default)(a.default.mark(function e(t,n){var r,l;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.params.pollId,l=void 0;try{l=p.default.verify(t.cookies._auth)}catch(e){}if(r){e.next=6;break}return n.status(404).end(),e.abrupt("return");case 6:g(t,n),l?s(t,n,r,l):u(t,n,r);case 8:case"end":return e.stop()}},e,void 0)}));return function(t,n){return e.apply(this,arguments)}}();function g(e,t){t.writeHead(200,{"Content-Type":"text/html"}),t.write(w)}function y(e,t,n,r){var a=e.url,l=o.default.createElement(c.StaticRouter,{context:{},location:a},o.default.createElement(h.default,{store:n})),s=(0,i.renderToStaticNodeStream)(l);s.pipe(t,{end:!1}),s.on("end",function(){t.end(k(n,r))})}var w='\n<!DOCTYPE html>\n<html lang="en">\n  <head>\n    <meta charset="utf-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">\n    <meta name="theme-color" content="#000000">\n\n  \t<link rel="shortcut icon" href="/public/favicon.png" type="image/x-icon" />\n    <link href="/public/widgetStyle.css" rel="stylesheet" type="text/css">\n\n    <title>Clearpoll Widget</title>\n\n    <style>\n      @font-face {\n        font-family: \'Roboto-Light-CPL\';\n        src: url(\'/public/fonts/Roboto-Light.ttf\') format(\'truetype\');\n      }\n\n      html,\n      body {\n        min-height: 100%;\n        padding: 0;\n        margin: 0;\n        font-family: \'Roboto-Light-CPL\';\n      }\n\n      #root {\n        height:100%;\n        width:100%;\n        position:absolute;\n        top: 0;\n        left: 0\n        padding: 0;\n        margin: 0;\n      }\n\n    </style>\n  </head>\n  <body>\n    <div id="root">\n',k=function(e,t){return'\n      </div>\n      <script>\n        if(window.parent){\n          window.parent.postMessage({event: "loadingComplete", pollId: '+t+"}, '*');\n          console.log(\"Message sent\");\n        }\n        window.storeData = "+(0,r.default)(e.data)+';\n      <\/script>\n      <script type="text/javascript" src="/public/widgetBundle.js"><\/script>\n    </body>\n  </html>\n'};t.WidgetPoll=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(7)),a=o(n(8)),l=o(n(0)),s=o(n(1)),u=o(n(24));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(){(0,l.default)(this,e)}return(0,s.default)(e,null,[{key:"login",value:function(){var e=(0,a.default)(r.default.mark(function e(t,n){var a;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.default.login(t.body.username,t.body.desktopCode);case 3:a=e.sent,n.cookie("_auth",a),n.send({success:!0}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),n.clearCookie("_auth"),n.send({success:!1});case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=(0,a.default)(r.default.mark(function e(t,n){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.clearCookie("_auth"),n.redirect("/login");case 2:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(7)),a=d(n(19)),l=d(n(13)),s=d(n(8)),u=d(n(0)),o=d(n(1)),i=d(n(24)),c=d(n(21));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(){function e(t,n){(0,u.default)(this,e),this.ws=t,this.auth=n,this.apiClient=new c.default(n),t.on("message",this.handleMessage.bind(this))}return(0,o.default)(e,null,[{key:"connectionHandler",value:function(t,n){var r=void 0;try{r=i.default.verify(n.cookies._auth)}catch(e){return void t.close()}new e(t,r)}}]),(0,o.default)(e,[{key:"handleMessage",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,s;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=JSON.parse(t),e.prev=1,e.t0=n.function,e.next="GetPollListHome"===e.t0?5:"GetPoll"===e.t0?8:"VoteOnPoll"===e.t0?11:"GetPollList"===e.t0?14:"SearchPolls"===e.t0?17:"SocialFeed"===e.t0?20:"GetUserSettings"===e.t0?23:"GetFriendRequests"===e.t0?26:"GetFriends"===e.t0?29:"MuteFriend"===e.t0?32:"UnmuteFriend"===e.t0?35:"IgnoreFriendRequest"===e.t0?38:"SearchUsername"===e.t0?41:"SendFriendRequest"===e.t0?44:"ApproveFriendRequest"===e.t0?47:"SaveWalletAddress"===e.t0?50:"GetWalletAddress"===e.t0?53:"DeleteAccount"===e.t0?56:59;break;case 5:return e.next=7,this.replyHome(n);case 7:return e.abrupt("break",59);case 8:return e.next=10,this.replyGetPoll(n);case 10:return e.abrupt("break",59);case 11:return e.next=13,this.replyVoteOnPoll(n);case 13:return e.abrupt("break",59);case 14:return e.next=16,this.replyGetPollList(n);case 16:return e.abrupt("break",59);case 17:return e.next=19,this.replySearchPolls(n);case 19:return e.abrupt("break",59);case 20:return e.next=22,this.replySocialFeed(n);case 22:return e.abrupt("break",59);case 23:return e.next=25,this.replyGetUserSettings(n);case 25:return e.abrupt("break",59);case 26:return e.next=28,this.replyGetFriendRequests(n);case 28:return e.abrupt("break",59);case 29:return e.next=31,this.replyGetFriends(n);case 31:return e.abrupt("break",59);case 32:return e.next=34,this.replyMuteFriend(n);case 34:return e.abrupt("break",59);case 35:return e.next=37,this.replyUnmuteFriend(n);case 37:return e.abrupt("break",59);case 38:return e.next=40,this.replyIgnoreFriendRequest(n);case 40:return e.abrupt("break",59);case 41:return e.next=43,this.replySearchUsername(n);case 43:return e.abrupt("break",59);case 44:return e.next=46,this.replySendFriendRequest(n);case 46:return e.abrupt("break",59);case 47:return e.next=49,this.replyApproveFriendRequest(n);case 49:return e.abrupt("break",59);case 50:return e.next=52,this.replySaveWalletAddress(n);case 52:return e.abrupt("break",59);case 53:return e.next=55,this.replyGetWalletAddress(n);case 55:return e.abrupt("break",59);case 56:return e.next=58,this.replyDeleteAccount(n);case 58:return e.abrupt("break",59);case 59:e.next=66;break;case 61:e.prev=61,e.t1=e.catch(1),console.dir(e.t1),s=(0,l.default)({success:!1,error:e.t1.message},{id:n.id}),this.ws.send((0,a.default)(s));case 66:case"end":return e.stop()}},e,this,[[1,61]])}));return function(t){return e.apply(this,arguments)}}()},{key:"replyHome",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,s,u=t.id;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.fetchHome();case 2:n=e.sent,s=(0,l.default)(n,{id:u}),this.ws.send((0,a.default)(s));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"replyGetPoll",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,s,u=t.id,o=t.pollId;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.fetchPoll(o);case 2:n=e.sent,s=(0,l.default)(n,{id:u}),this.ws.send((0,a.default)(s));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"replyVoteOnPoll",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,l,s,u=t.id,o=t.pollId,i=t.voteAnswer,c=t.showOnFeed;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.apiClient.voteOnPoll({pollId:o,voteAnswer:i,showOnFeed:c});case 3:return e.sent,e.next=6,this.apiClient.getPollResult(o);case 6:n=e.sent,l={id:u,success:!0,results:n.votesPerAnswer},this.ws.send((0,a.default)(l)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),s={id:u,success:!1},this.ws.send((0,a.default)(s));case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}()},{key:"replyGetPollList",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,s,u;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,this.apiClient.getPollList(t);case 3:s=e.sent,u=(0,l.default)({polls:s,id:n}),this.ws.send((0,a.default)(u));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"replySearchPolls",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,s,u=t.id,o=t.searchString;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.doSearch(o);case 2:n=e.sent,console.dir(n),s=(0,l.default)({polls:n,id:u}),this.ws.send((0,a.default)(s));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"replySocialFeed",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,s,u=t.id,o=t.recordQty,i=t.recordStartNo;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.getSocialFeed({recordQty:o,recordStartNo:i});case 2:n=e.sent,s=(0,l.default)({polls:n,id:u}),this.ws.send((0,a.default)(s));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"replyGetUserSettings",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,s,u=t.id;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.getUserSettings();case 2:n=e.sent,s=(0,l.default)(n,{id:u}),this.ws.send((0,a.default)(s));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"replyGetFriendRequests",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,l,s=t.id;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.getFriendRequests();case 2:n=e.sent,l={id:s,requests:n},this.ws.send((0,a.default)(l));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"replyGetFriends",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,l,s=t.id;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.getFriends();case 2:n=e.sent,l={id:s,friends:n},this.ws.send((0,a.default)(l));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"replyMuteFriend",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,s,u=t.id,o=t.friendId;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.muteFriend(o);case 2:n=e.sent,s=(0,l.default)(n,{id:u}),this.ws.send((0,a.default)(s));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"replyUnmuteFriend",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,s,u=t.id,o=t.friendId;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.unmuteFriend(o);case 2:n=e.sent,s=(0,l.default)(n,{id:u}),this.ws.send((0,a.default)(s));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"replyIgnoreFriendRequest",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,s,u=t.id,o=t.friendId;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.ignoreFriendRequest(o);case 2:n=e.sent,s=(0,l.default)(n,{id:u}),this.ws.send((0,a.default)(s));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"replySearchUsername",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,s,u=t.id,o=t.searchString;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.searchUsername(o);case 2:n=e.sent,s=(0,l.default)(n,{id:u}),this.ws.send((0,a.default)(s));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"replySendFriendRequest",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,s,u=t.id,o=t.friendId;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.sendFriendRequest(o);case 2:n=e.sent,s=(0,l.default)(n,{id:u}),this.ws.send((0,a.default)(s));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"replyApproveFriendRequest",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,s,u=t.id,o=t.friendId;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.approveFriendRequest(o);case 2:n=e.sent,s=(0,l.default)(n,{id:u}),this.ws.send((0,a.default)(s));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"replySaveWalletAddress",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,s,u=t.id,o=t.wallet;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.saveWalletAddress(o);case 2:n=e.sent,s=(0,l.default)(n,{id:u}),this.ws.send((0,a.default)(s));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"replyGetWalletAddress",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,s,u=t.id;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.getWalletAddress();case 2:n=e.sent,s=(0,l.default)(n,{id:u}),this.ws.send((0,a.default)(s));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"replyDeleteAccount",value:function(){var e=(0,s.default)(r.default.mark(function e(t){var n,s,u=t.id;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apiClient.deleteAccount();case 2:n=e.sent,s=(0,l.default)(n,{id:u}),this.ws.send((0,a.default)(s));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=f.connectionHandler},function(e,t){e.exports=require("body-parser")},function(e,t){e.exports=require("cookie-parser")},function(e,t){},,,,,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){}]);