{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/account/Account.css","webpack:///./src/components/account/Account.js","webpack:///./src/components/common/CategoryIcon.js","webpack:///./src/components/common/CategoryList.css","webpack:///./src/components/common/CategoryList.js","webpack:///./src/components/common/FullScreenPollList.js","webpack:///./src/components/common/HomeHeader.css","webpack:///./src/components/common/HomeHeader.js","webpack:///./src/components/common/LocationControl.css","webpack:///./src/components/common/LocationControl.js","webpack:///./src/components/common/PollList.css","webpack:///./src/components/common/PollList.js","webpack:///./src/components/common/ShowMore.css","webpack:///./src/components/common/ShowMore.js","webpack:///./src/components/common/SortControl.css","webpack:///./src/components/common/SortControl.js","webpack:///./src/components/common/colors.js","webpack:///./src/components/common/poll.css","webpack:///./src/components/common/poll.js","webpack:///./src/components/completedPolls/CompletedPolls.css","webpack:///./src/components/completedPolls/CompletedPolls.js","webpack:///./src/components/completedPolls/components/SummaryHeader.css","webpack:///./src/components/completedPolls/components/SummaryHeader.js","webpack:///./src/components/createWidget/CreateWidget.css","webpack:///./src/components/createWidget/CreateWidget.js","webpack:///./src/components/home/Home.css","webpack:///./src/components/home/Home.js","webpack:///./src/components/home/components/PollRow.css","webpack:///./src/components/home/components/PollRow.js","webpack:///./src/components/home/components/PollSummary.css","webpack:///./src/components/home/components/PollSummary.js","webpack:///./src/components/home/components/SummaryHeader.css","webpack:///./src/components/home/components/SummaryHeader.js","webpack:///./src/components/images/ClearPoll-Logo.png","webpack:///./src/components/images/account_icon.png","webpack:///./src/components/images/add_friends_icon.png","webpack:///./src/components/images/app_store_icon.svg","webpack:///./src/components/images/browseCategories/all_icon.png","webpack:///./src/components/images/browseCategories/arts_icon.png","webpack:///./src/components/images/browseCategories/business_icon.png","webpack:///./src/components/images/browseCategories/lifestyle_icon.png","webpack:///./src/components/images/browseCategories/news_icon.png","webpack:///./src/components/images/browseCategories/other_icon.png","webpack:///./src/components/images/browseCategories/political_icon.png","webpack:///./src/components/images/browseCategories/science_icon.png","webpack:///./src/components/images/browseCategories/sports_icon.png","webpack:///./src/components/images/browseCategories/technology_icon.png","webpack:///./src/components/images/categories/all_icon.png","webpack:///./src/components/images/categories/arts_icon.png","webpack:///./src/components/images/categories/business_icon.png","webpack:///./src/components/images/categories/endingsoon_icon.png","webpack:///./src/components/images/categories/everythingElse_icon.png","webpack:///./src/components/images/categories/latestPolls_icon.png","webpack:///./src/components/images/categories/lifestyle_icon.png","webpack:///./src/components/images/categories/local_icon.png","webpack:///./src/components/images/categories/myPolls_icon.png","webpack:///./src/components/images/categories/myVotes_icon.png","webpack:///./src/components/images/categories/national_icon.png","webpack:///./src/components/images/categories/news_icon.png","webpack:///./src/components/images/categories/other_icon.png","webpack:///./src/components/images/categories/political_icon.png","webpack:///./src/components/images/categories/random_icon.png","webpack:///./src/components/images/categories/science_icon.png","webpack:///./src/components/images/categories/social_icon.png","webpack:///./src/components/images/categories/sports_icon.png","webpack:///./src/components/images/categories/starPolls_icon.png","webpack:///./src/components/images/categories/technology_icon.png","webpack:///./src/components/images/categories/trending_icon.png","webpack:///./src/components/images/clearpoll_logo_white.png","webpack:///./src/components/images/facebook_icon.png","webpack:///./src/components/images/friend_accept_icon.png","webpack:///./src/components/images/friend_add_icon.png","webpack:///./src/components/images/friend_muted_icon.png","webpack:///./src/components/images/friend_reject_icon.png","webpack:///./src/components/images/friend_remove_icon.png","webpack:///./src/components/images/friend_request_icon.png","webpack:///./src/components/images/friend_unmuted_icon.png","webpack:///./src/components/images/friends_icon.png","webpack:///./src/components/images/google_icon.png","webpack:///./src/components/images/google_play_icon.png","webpack:///./src/components/images/menuIcons/account_icon.png","webpack:///./src/components/images/menuIcons/completed_icon.png","webpack:///./src/components/images/menuIcons/create_icon.png","webpack:///./src/components/images/menuIcons/mypolls_icon.png","webpack:///./src/components/images/menuIcons/myvotes_icon.png","webpack:///./src/components/images/menuIcons/rewards_icon.png","webpack:///./src/components/images/menuIcons/social_icon.png","webpack:///./src/components/images/menuIcons/star_icon.png","webpack:///./src/components/images/menuIcons/support_icon.png","webpack:///./src/components/images/menuIcons/vote_icon.png","webpack:///./src/components/images/menu_icon.png","webpack:///./src/components/images/poll_clock_icon.png","webpack:///./src/components/images/poll_hash_icon.png","webpack:///./src/components/images/poll_tick_icon.png","webpack:///./src/components/images/rating_icon.png","webpack:///./src/components/images/rewards_icon.png","webpack:///./src/components/images/search_icon.png","webpack:///./src/components/images/sort_icon.png","webpack:///./src/components/images/twitter_icon.png","webpack:///./src/components/images/vote_icon.png","webpack:///./src/components/loadingOverlay/LoadingOverlay.css","webpack:///./src/components/loadingOverlay/LoadingOverlay.js","webpack:///./src/components/login/Login.css","webpack:///./src/components/login/Login.js","webpack:///./src/components/login/images/desktop-connect.png","webpack:///./src/components/myPolls/MyPolls.js","webpack:///./src/components/myVotes/MyVotes.js","webpack:///./src/components/rewards/Rewards.css","webpack:///./src/components/rewards/Rewards.js","webpack:///./src/components/search/Search.css","webpack:///./src/components/search/Search.js","webpack:///./src/components/socialFeed/ManageFriends.js","webpack:///./src/components/socialFeed/SocialFeed.css","webpack:///./src/components/socialFeed/SocialFeed.js","webpack:///./src/components/socialFeed/SocialFriendControls.css","webpack:///./src/components/socialFeed/SocialFriendControls.js","webpack:///./src/components/socialFeed/SocialFriendList.css","webpack:///./src/components/socialFeed/SocialFriendList.js","webpack:///./src/components/socialFeed/SocialFriendRequests.css","webpack:///./src/components/socialFeed/SocialFriendRequests.js","webpack:///./src/components/socialFeed/SocialPoll.css","webpack:///./src/components/socialFeed/SocialPoll.js","webpack:///./src/components/socialFeed/SocialPollList.css","webpack:///./src/components/socialFeed/SocialPollList.js","webpack:///./src/components/socialFeed/SocialSearch.css","webpack:///./src/components/socialFeed/SocialSearch.js","webpack:///./src/components/starPolls/StarPolls.js","webpack:///./src/components/template/Menu.css","webpack:///./src/components/template/Menu.js","webpack:///./src/components/template/template.css","webpack:///./src/components/template/template.js","webpack:///./src/components/viewPoll/ViewPoll.css","webpack:///./src/components/viewPoll/ViewPoll.js","webpack:///./src/components/viewPoll/WidgetPoll.css","webpack:///./src/components/viewPoll/WidgetPoll.js","webpack:///./src/components/viewPoll/components/AnswerList.css","webpack:///./src/components/viewPoll/components/AnswerList.js","webpack:///./src/components/viewPoll/components/ResultsGraph.css","webpack:///./src/components/viewPoll/components/ResultsGraph.js","webpack:///./src/components/viewPoll/components/SummaryHeader.css","webpack:///./src/components/viewPoll/components/SummaryHeader.js","webpack:///./src/components/viewPoll/widgetComponents/AnswerList.css","webpack:///./src/components/viewPoll/widgetComponents/AnswerList.js","webpack:///./src/components/viewPoll/widgetComponents/ResultsGraph.css","webpack:///./src/components/viewPoll/widgetComponents/ResultsGraph.js","webpack:///./src/components/viewPoll/widgetComponents/header.css","webpack:///./src/components/viewPoll/widgetComponents/header.js","webpack:///./src/components/widgetRouter.js","webpack:///./src/controllers/authController.js","webpack:///./src/controllers/reactRenderController.js","webpack:///./src/controllers/widgetRenderController.js","webpack:///./src/controllers/wsController.js","webpack:///./src/models/Poll.js","webpack:///./src/models/authenticator.js","webpack:///./src/models/serverApi.js","webpack:///./src/models/state.js","webpack:///./src/models/store.js","webpack:///./src/models/webApi.js","webpack:///./src/models/wsSocket.js","webpack:///./src/server.js","webpack:///external \"axios\"","webpack:///external \"babel-runtime/core-js/json/stringify\"","webpack:///external \"babel-runtime/core-js/object/assign\"","webpack:///external \"babel-runtime/core-js/object/get-prototype-of\"","webpack:///external \"babel-runtime/core-js/object/keys\"","webpack:///external \"babel-runtime/core-js/promise\"","webpack:///external \"babel-runtime/helpers/asyncToGenerator\"","webpack:///external \"babel-runtime/helpers/classCallCheck\"","webpack:///external \"babel-runtime/helpers/createClass\"","webpack:///external \"babel-runtime/helpers/defineProperty\"","webpack:///external \"babel-runtime/helpers/extends\"","webpack:///external \"babel-runtime/helpers/inherits\"","webpack:///external \"babel-runtime/helpers/possibleConstructorReturn\"","webpack:///external \"babel-runtime/helpers/typeof\"","webpack:///external \"babel-runtime/regenerator\"","webpack:///external \"body-parser\"","webpack:///external \"cookie-parser\"","webpack:///external \"express\"","webpack:///external \"express-ws\"","webpack:///external \"jsonwebtoken\"","webpack:///external \"moment\"","webpack:///external \"path\"","webpack:///external \"query-string\"","webpack:///external \"react\"","webpack:///external \"react-copy-to-clipboard\"","webpack:///external \"react-dom/server\"","webpack:///external \"react-router-dom\""],"names":["Account","props","store","state","loading","resetCache","hydrateCheck","setState","WebApi","getUserSettings","settings","setUserSettings","alert","settingsElement","console","dir","length","require","userName","pollsCreated","pollsVotedOn","age","followers","RP","userRanking","performDeleteAccount","Component","CATEGORIES","name","shortName","color","CategoryList","history","push","basePath","log","categoryElements","map","category","i","backgroundColor","openCategory","CategoryIcon","FullScreenPollList","sortOrder","forceUpdate","polls","sort","a","b","pollVotes","pollTime","showSortOrder","changeSortOrder","order","pollElements","slice","applySortOrder","poll","id","forceNormal","defaultProps","HomeHeader","searchText","event","key","trim","e","target","value","doSearch","openBrowsePolls","openCreateWidget","openStarPolls","openSocial","OPTIONS","LocationControl","selected","indexOf","defaultLocation","index","onChange","optionElements","option","className","changeSelected","LOAD_MORE_QTY","PollList","loadingMore","canLoadMore","currentPosition","getPolls","active","type","recordStartNo","recordQty","response","concat","webFetch","ShowMore","moreAvailable","onClick","SortControl","startingOrder","find","item","listOpen","visibility","toggleList","listElements","setSelected","COLORS","Poll","PollModel","hasVoted","hasExpired","openPoll","twitterAvatar","twitterName","question","timeRemaining","button","renderStar","renderNormal","CompletedPolls","match","params","url","locationFilter","isCategorySelected","setCategoryPolls","existingPolls","getCategoryPolls","filterParams","positionLatitude","positionLongitude","content","showMoreElement","startsWith","pageType","margin","padding","changeLocationFilter","location","CATEGORY_MAP","title","SummaryHeader","SERVER_ADDR","CreateWidget","widgetPollId","ratingPollId","replace","srcElement","range","selection","document","body","createTextRange","moveToElementText","select","window","getSelection","createRange","selectNodeContents","removeAllRanges","addRange","stopPropagation","execCommand","createPollWidgetForm","createRatingsWidgetForm","updateWidgetPollId","selectCode","widgetCode","updateRatingPollId","ratingWidgetCode","Home","IS_SERVER","fetchHome","data","homePolls","PollRow","trendingPolls","endingSoonest","latestPolls","starPolls","myVotes","localPolls","nationalPolls","socialPolls","politicalPolls","humanRightsPolls","lifestylePolls","sportsPolls","technologyPolls","environmentPolls","justForFunPolls","entertainmentPolls","otherPolls","randomPolls","PollSummary","limit","numOfPolls","countPolls","startIndex","Math","floor","random","details","getPollsFor","getRowFor","image","LoadingOverlay","loadingClassName","fullScreen","enabled","Login","username","desktopCode","login","message","doLogin","bind","MyPolls","getMyVotes","setMyVotes","MyVotes","Rewards","ethAddress","rewardsElement","BP","BM","qs","Search","parse","search","searchTerm","q","setSearchResult","getSearchResult","ManageFriends","SocialFeed","pollList","React","createRef","current","refresh","performFetch","SocialFriendControls","friendList","onRefresh","SocialFriendList","friends","fetchRequests","fetchFriends","friendId","friend","f","requestPromise","muted","muteFriend","unmuteFriend","confirm","removePromise","ignoreFriendRequest","filter","toggleMute","removeFriend","SocialFriendRequests","requests","fetchFriendRequests","approveFriendRequest","request","friendName","rejectFriend","acceptFriend","friendRequest","friendRequests","SocialPoll","pollId","friendVoted","topic","SocialPollList","getSocialFeed","fetchSocialFeed","sortingOrder","quantity","setSocialFeed","SocialSearch","resultsOpen","results","requestsSent","sendFriendRequest","searchString","searchUsername","users","closeResults","user","includes","getStarPolls","setStarPolls","Menu","toggleMenu","openUrl","openExternalUrl","Template","Store","storeData","storeContext","createContext","handleLogoClick","cursor","handleContactClick","ViewPoll","showOnFeed","setPoll","fetchPoll","answerIdx","voteOnPoll","success","getPoll","votedOn","answerId","answerText","answers","performVote","encodeURI","num","toString","pollData","numberToCommaFormat","containerContent","socialContent","pollElement","handleTwitterShare","handleFacebookShare","handleGoogleShare","WidgetPoll","AnswerList","answer","onVote","answerElements","display","ResultGraph","result","votePercentage","voteCount","totalVotes","width","resultsWithPercentages","graphElement","reduce","acc","highestIdx","highestDiff","forEach","percentDiff","IMAGE_PATH","barPercentage","highestVotePercent","Header","WidgetRouter","req","res","cookies","Authenticator","token","cookie","send","auth","verify","redirect","renderHead","apiClient","ServerApi","renderReact","status","end","query","isCompletedPage","getPollList","BrowsePolls","StarPolls","writeHead","write","htmlHead","context","jsx","appStream","pipe","on","htmlTail","setAuthenticated","WsController","ws","close","handleMessage","msgJSON","msg","JSON","function","replyHome","replyGetPoll","replyVoteOnPoll","replyGetPollList","replySearchPolls","replySocialFeed","replyGetUserSettings","replyGetFriendRequests","replyGetFriends","replyMuteFriend","replyUnmuteFriend","replyIgnoreFriendRequest","replySearchUsername","replySendFriendRequest","replyApproveFriendRequest","error","voteAnswer","getPollResult","votesPerAnswer","getFriendRequests","getFriends","connectionHandler","now","endTime","duration","moment","diff","get","ClearpollApi","Error","jwt","sign","phoneNumber","userId","code","signingKey","cookieString","SERVER_URL","requestParams","axios","post","comment","voteHistory","historyFetched","voteMatch","h","pollID","answerID","homeData","categories","cat","getHasVoted","fetchVotehistory","pollResults","pollInfo","voted","getPollAnswers","pollAnswers","Id","feed","requestId","State","authResponse","localStorage","setItem","authJson","getItem","prefetchData","searchResults","socialFeed","userSettings","initialPage","isAuthenticated","authenticated","AUTH_URL","socket","connected","delay","t","setTimeout","postRequest","wsRequest","WsSocket","connect","ensureConnected","WS_PATH","open","_msgId","_pendingPromises","WebSocket","host","addEventListener","handleError","promises","rej","app","use","bodyParser","urlencoded","extended","json","express","static","AuthController","listen"],"mappings":"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oF;;;;;;;;;;;ACAA,kF;;;;;;;;;;;ACAA,iF;;;;;;;;;;;ACAA,qF;;;;;;;;;;;ACAA,8E;;;;;;;;;;;ACAA,+E;;;;;;;;;;;ACAA,mF;;;;;;;;;;;ACAA,qF;;;;;;;;;;;ACAA,yF;;;;;;;;;;;ACAA,sF;;;;;;;;;;;ACAA,oF;;;;;;;;;;;ACAA,gF;;;;;;;;;;;ACAA,kF;;;;;;;;;;;ACAA,kF;;;;;;;;;;;ACAA,mF;;;;;;;;;;;ACAA,+E;;;;;;;;;;;ACAA,gF;;;;;;;;;;;ACAA,oF;;;;;;;;;;;ACAA,iF;;;;;;;;;;;ACAA,kF;;;;;;;;;;;ACAA,iF;;;;;;;;;;;ACAA,iF;;;;;;;;;;;ACAA,oF;;;;;;;;;;;ACAA,qF;;;;;;;;;;;ACAA,mF;;;;;;;;;;;ACAA,0F;;;;;;;;;;;ACAA,mF;;;;;;;;;;;ACAA,wF;;;;;;;;;;;ACAA,qF;;;;;;;;;;;ACAA,uF;;;;;;;;;;;ACAA,wF;;;;;;;;;;;ACAA,wF;;;;;;;;;;;ACAA,yF;;;;;;;;;;;ACAA,yF;;;;;;;;;;;ACAA,kF;;;;;;;;;;;ACAA,iF;;;;;;;;;;;ACAA,sF;;;;;;;;;;;ACAA,kF;;;;;;;;;;;ACAA,oF;;;;;;;;;;;ACAA,iF;;;;;;;;;;;ACAA,kF;;;;;;;;;;;ACAA,kF;;;;;;;;;;;ACAA,kF;;;;;;;;;;;ACAA,iF;;;;;;;;;;;ACAA,+E;;;;;;;;;;;ACAA,kF;;;;;;;;;;;ACAA,+E;;;;;;;;;;;ACAA,+E;;;;;;;;;;;ACAA,qF;;;;;;;;;;;ACAA,oF;;;;;;;;;;;ACAA,oF;;;;;;;;;;;ACAA,iF;;;;;;;;;;;ACAA,kF;;;;;;;;;;;ACAA,iF;;;;;;;;;;;ACAA,+E;;;;;;;;;;;ACAA,kF;;;;;;;;;;;ACAA,+E;;;;;;;;;;;ACAA,yC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;;AAEA;;;;IAEMiE,c;;;AAKJ,0BAAYlN,KAAZ,EAAkB;AAAA;;AAAA,sJACVA,KADU;;AAGhB,UAAKA,KAAL,GAAaA,KAAb;AAHgB;AAIjB;;;;6BASQ;AACP,aACE;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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/public/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/server.js\");\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport WebApi from '../../models/webApi';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport HomeHeader from '../common/HomeHeader';\n\nimport './Account.css';\n\nclass Account extends Component {\n   constructor(props){\n    super(props);\n\n    this.store = props.store;\n\n    this.state = {\n      loading: true,\n    };\n  }\n\n  async componentDidMount(){\n    if(!IS_SERVER){\n      this.webFetch();\n    }\n  }\n\n  async webFetch(resetCache = true){\n    if(this.store.hydrateCheck()){\n      this.setState({loading: false});\n      return;\n    }\n    \n    this.setState({\n      loading: true,\n    });\n\n    //let existingPolls = resetCache ? [] : this.store.getSocialFeed();\n\n    let settings = await WebApi.getUserSettings();\n    this.store.setUserSettings(settings);\n\n    this.setState({\n      loading: false\n    });\n  }\n\n  performDeleteAccount(){\n    //TODO Account delete endpoint\n    alert('No! You stay!');\n  }\n\n  get settingsElement(){\n    let settings = this.store.getUserSettings();\n    console.dir(settings);\n    if(Object.keys(settings).length == 0)\n      return null;\n    else\n      return (\n        <div className=\"settingsContainer\">\n          <div className=\"settingsHeader\">\n            <img src={ require('../images/account_icon.png') } /> Account & Settings\n          </div>\n\n          <div className=\"settingsRow\">\n            <div className=\"settingsItem\">\n              Username: <span className=\"settingsHighlight\">{ settings.userName }</span>\n            </div>\n          </div>\n\n          <div className=\"settingsRow\">\n            <div className=\"settingsItem\">\n              Polls created: <span className=\"settingsHighlight\">{ settings.pollsCreated }</span>\n            </div>\n\n            <div className=\"settingsItem\">\n              Polls voted on: <span className=\"settingsHighlight\">{ settings.pollsVotedOn }</span>\n            </div>\n          </div>\n\n          <div className=\"settingsRow\">\n            <div className=\"settingsItem\">\n              User for: <span className=\"settingsHighlight\">{ settings.age }</span>\n            </div>\n\n            <div className=\"settingsItem\">\n              Followers: <span className=\"settingsHighlight\">{ settings.followers }</span>\n            </div>\n          </div>\n\n          <div className=\"settingsRow\">\n            <div className=\"settingsItem\">\n              Total points: <span className=\"settingsHighlight\">{ settings.RP }</span>\n            </div>\n\n            <div className=\"settingsItem\">\n              User ranking: <span className=\"settingsHighlight\">{ settings.userRanking }</span>\n            </div>\n          </div>\n\n          <span className=\"accountHeader\">Account Removal</span>\n\n          <div className=\"accountText\">\n            Decided not to use ClearPoll? We're sorry to see you go! You can delete your account and remove all your profile data.\n          </div>\n          <div className=\"accountText\">\n            Your previous votes will anonymously count towards the poll\n            result total for statistical purposes, with no profile attached.\n          </div>\n\n          <div className=\"deleteAccountButton\" onClick={() => this.performDeleteAccount()}>\n            Delete Account & Profile Data\n          </div>\n\n          <div className=\"accountText\">\n            <span className=\"totesImportants\">IMPORTANT:</span> This cannot be undone!\n          </div>\n        </div>\n      );\n  }\n\n  render() {\n    return (\n      <div className=\"accountDetails\">\n        <LoadingOverlay enabled={ this.state.loading }/>\n        <HomeHeader />\n        { this.settingsElement }\n      </div>\n    );\n  }\n}\n\nexport default Account;\n","export default {\n  'Pol': require(\"../images/categories/political_icon.png\"),\n  'Env': require(\"../images/categories/science_icon.png\"),\n  'Lif': require(\"../images/categories/lifestyle_icon.png\"),\n  'Hum': require(\"../images/categories/news_icon.png\"),\n  'Oth': require(\"../images/categories/other_icon.png\"),\n  'All': require(\"../images/categories/all_icon.png\"),\n  'Jus': require(\"../images/categories/technology_icon.png\"),\n  'Spo': require(\"../images/categories/sports_icon.png\"),\n  'Ent': require(\"../images/categories/arts_icon.png\"),\n  'Tec': require(\"../images/categories/business_icon.png\"),\n\n  'Pol_browse': require(\"../images/browseCategories/political_icon.png\"),\n  'Env_browse': require(\"../images/browseCategories/science_icon.png\"),\n  'Lif_browse': require(\"../images/browseCategories/lifestyle_icon.png\"),\n  'Hum_browse': require(\"../images/browseCategories/news_icon.png\"),\n  'Oth_browse': require(\"../images/browseCategories/other_icon.png\"),\n  'All_browse': require(\"../images/browseCategories/all_icon.png\"),\n  'Jus_browse': require(\"../images/browseCategories/technology_icon.png\"),\n  'Spo_browse': require(\"../images/browseCategories/sports_icon.png\"),\n  'Ent_browse': require(\"../images/browseCategories/arts_icon.png\"),\n  'Tec_browse': require(\"../images/browseCategories/business_icon.png\"),\n\n  'Trending': require(\"../images/categories/trending_icon.png\"),\n  'Ending Soon': require(\"../images/categories/endingsoon_icon.png\"),\n  'Latest': require(\"../images/categories/latestPolls_icon.png\"),\n  'Star Polls': require(\"../images/categories/starPolls_icon.png\"),\n  'My Votes': require(\"../images/categories/myVotes_icon.png\"),\n  'My Polls': require(\"../images/categories/myPolls_icon.png\"),\n  'Local': require(\"../images/categories/local_icon.png\"),\n  'National': require(\"../images/categories/national_icon.png\"),\n  'Friends Voted On...': require(\"../images/categories/social_icon.png\"),\n  'Social': require(\"../images/categories/social_icon.png\"),\n  'Political & Human Rights': require(\"../images/categories/political_icon.png\"),\n  'News & Current Events': require(\"../images/categories/news_icon.png\"),\n  'Lifestyle & Health': require(\"../images/categories/lifestyle_icon.png\"),\n  'Sports, Hobbies & Games': require(\"../images/categories/sports_icon.png\"),\n  'Business & Finance': require(\"../images/categories/business_icon.png\"),\n  'Science & Nature': require(\"../images/categories/science_icon.png\"),\n  'Technology & Gadgets': require(\"../images/categories/technology_icon.png\"),\n  'Arts & Entertainment': require(\"../images/categories/arts_icon.png\"),\n  'Everything Else': require(\"../images/categories/everythingElse_icon.png\"),\n  'Random': require(\"../images/categories/random_icon.png\"),\n  'All Categories': require(\"../images/categories/all_icon.png\"),\n  'All Categories': require(\"../images/categories/all_icon.png\"),\n}\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport CategoryIcon from './CategoryIcon';\n\nimport './CategoryList.css';\n\nconst CATEGORIES = [\n  {name: \"Political & Human Rights\", shortName: \"Pol\", color: '#7776be'},\n  {name: \"News & Current Events\", shortName: \"Hum\", color: '#8a9dbe'},\n  {name: \"Lifestyle & Health\", shortName: \"Lif\", color: '#f0718c'},\n  {name: \"Arts & Entertainment\", shortName: \"Ent\", color: '#ef7245'},\n  {name: \"Sports, Hobbies & Games\", shortName: \"Spo\", color: '#cdc034'},\n  {name: \"Business & Finance\", shortName: \"Tec\", color: '#0581aa'},\n  {name: \"Science & Nature\", shortName: \"Env\", color: '#7eca6f'},\n  {name: \"Technology & Gadgets\", shortName: \"Jus\", color: '#c85297'},\n  {name: \"Everything Else\", shortName: \"Oth\", color: '#5693d1'},\n  {name: \"All Categories\", shortName: \"All\", color: '#01bec0'},\n];\n\n/*\n+----------+\n| category |\n+----------+\n| Spo      |\n| Pol      |\n| Lif      |\n| Hum      |\n| Ent      |\n| Tec      |\n| Env      |\n| Jus      |\n| Oth      |\n| All      |\n+----------+\n\n*/\n\nclass CategoryList extends Component {\n  openCategory(shortName){\n    this.props.history.push(`/${this.props.basePath}/${shortName}`);\n  }\n\n  get categoryElements(){\n    console.dir(CATEGORIES);\n    return CATEGORIES.map((category, i) => {\n      return (\n        <div\n          className=\"category\"\n          key={ i }\n          style={{backgroundColor: category.color}}\n          onClick={ () => this.openCategory(category.shortName) }\n        >\n          <span className=\"categoryImage\"><img src={ CategoryIcon[category.shortName + '_browse'] } /></span>\n          <span>{ category.name }</span>\n        </div>\n      );\n    });\n  }\n\n  render() {\n    console.log('test');\n    return (\n      <div className=\"categoryList\">\n        { this.categoryElements }\n      </div>\n    );\n  }\n}\n\nexport default withRouter(CategoryList);\n","import React, { Component } from 'react';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport WebApi from '../../models/webApi';\nimport Poll from '../common/poll';\nimport SortControl from '../common/SortControl';\n\nimport './PollList.css';\n\nclass FullScreenPollList extends Component {\n  static defaultProps = {\n    showSortOrder: true,\n    forceNormal: false\n  };\n\n  constructor(props){\n    super(props);\n\n    this.state = {\n      sortOrder: \"mostVotes\"\n    };\n  }\n\n  get pollElements(){\n    if(!this.props.polls) return null;\n\n    let polls = this.props.polls.slice(0);\n    this.applySortOrder(polls)\n\n    return polls.map( (poll, i) => {\n      return (\n        <Poll poll={ poll } key={poll.id} forceNormal={ this.props.forceNormal } />\n      );\n    });\n  }\n\n  changeSortOrder(sortOrder){\n    this.setState({sortOrder})\n    this.forceUpdate();\n  }\n\n  applySortOrder(polls){\n    switch(this.state.sortOrder){\n      case \"mostVotes\":\n        polls.sort((a,b) => {return b.pollVotes - a.pollVotes});\n        break;\n\n      case \"endingSoonest\":\n        polls.sort((a,b) => {return a.pollTime - b.pollTime});\n        break;\n\n      case \"newest\":\n        polls.sort((a,b) => {return b.pollTime - a.pollTime});\n        break;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"fullScreenPollListContainer\">\n        <div className=\"headerContainer\">\n\n          { this.props.showSortOrder && <SortControl sortOrder={ this.state.sortOrder} onChange={order => this.changeSortOrder(order)} /> }\n        </div>\n        <div className=\"pollListContainer\">\n          <div className=\"polls\">\n            { this.pollElements }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default FullScreenPollList;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport CategoryIcon from './CategoryIcon';\nimport { withRouter } from 'react-router-dom';\n\nimport './HomeHeader.css';\n\nclass HomeHeader extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      searchText: props.searchText || ''\n    };\n  }\n\n  doSearch(event){\n    if(event && event.key !== 'Enter') return;\n\n    if(this.state.searchText.trim().length > 0)\n      this.props.history.push(`/search?q=${this.state.searchText.trim()}`);\n  }\n\n  openBrowsePolls(){\n    this.props.history.push(`/browse`);\n  }\n\n  openStarPolls(){\n    this.props.history.push(`/starPolls`);\n  }\n\n  openCreateWidget(){\n    this.props.history.push(`/createWidget`);\n  }\n\n  openSocial(){\n    this.props.history.push(`/social`);\n  }\n\n  render() {\n    return (\n      <div className=\"homeHeader\">\n        <div className=\"homeLeft\">\n          <span className=\"searchHeader\">\n            What do you care about?\n          </span>\n\n          <div className=\"searchInputContainer\">\n            <input type=\"text\"\n              className=\"searchInput\"\n              placeholder=\"Search by poll # or keyword\"\n              value={this.state.searchText}\n              onChange={ e => this.setState({searchText: e.target.value}) }\n              onKeyPress={e => this.doSearch(e)}\n            />\n            <span className=\"searchButton\" onClick={() => this.doSearch()}>\n              <img className=\"searchIcon\" src={ require('../images/search_icon.png')} />\n            </span>\n          </div>\n        </div>\n        <div className=\"homeRight\">\n          <div className=\"headerFeatureButton headerBrowsePolls\" onClick={() => this.openBrowsePolls()}>\n            <img className=\"pollIcon\" src={ require(\"../images/vote_icon.png\") } />\n            <span className=\"headerFeatureButtonText\">Browse Polls</span>\n          </div>\n          <div className=\"headerFeatureButton headerCreateWidgets\" onClick={() => this.openCreateWidget()}>\n            <img className=\"ratingIcon\" src={ require(\"../images/rating_icon.png\") } />\n            <span className=\"headerFeatureButtonText\">Create Widgets</span>\n          </div>\n          <div className=\"headerFeatureButton headerStarPolls\" onClick={() => this.openStarPolls()}>\n            <img className=\"starIcon\" src={ CategoryIcon['Star Polls'] } />\n            <span className=\"headerFeatureButtonText\">Star Polls</span>\n          </div>\n          <div className=\"headerFeatureButton headerSocialPolls\" onClick={() => this.openSocial()}>\n            <img className=\"socialIcon\" src={ CategoryIcon['Social'] } />\n            <span className=\"headerFeatureButtonText\">Social</span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(HomeHeader);\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\n\nimport './LocationControl.css';\n\nconst OPTIONS = [\n  'Global',\n  'National',\n  'Local'\n];\n\nclass LocationControl extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      selected: OPTIONS.indexOf(this.props.defaultLocation)\n    };\n  }\n\n  changeSelected(index){\n    this.setState({selected: index});\n    this.props.onChange(OPTIONS[index]);\n  }\n\n  get optionElements(){\n    return OPTIONS.map( (option, i) => {\n      let className = i == this.state.selected ? 'selected' : 'unselected';\n\n      return (\n        <div key={ i } className={ className } onClick={ () => this.changeSelected(i) }> \n          { option }\n        </div>\n      );\n    });\n  }\n\n  render(){\n    return (\n      <div className=\"locationListWrapper\">\n        { this.optionElements }\n      </div>\n    )\n  }\n}\n\nexport default LocationControl;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport WebApi from '../../models/webApi';\nimport Poll from './poll';\nimport ShowMore from './ShowMore';\n\nimport './PollList.css';\n\nconst LOAD_MORE_QTY = 16;\n\nclass PollList extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      loading: true,\n      polls: [],\n      loadingMore: true,\n      canLoadMore: true\n    };    \n  }\n\n  componentDidMount(){\n    if(!IS_SERVER){\n      this.webFetch();\n    }\n  }\n\n  async webFetch(){\n    this.setState({\n      loadingMore: true,\n    });\n\n    let currentPosition = this.state.polls.length;\n\n    let response = await WebApi.getPolls({\n      active: 'true',\n      type: 'Normal',\n      category: this.props.category,\n      sortOrder: 'mostVotes',\n      recordStartNo: currentPosition,\n      recordQty: LOAD_MORE_QTY\n    });\n\n    this.setState({\n      loading: false,\n      loadingMore: false,\n      canLoadMore: response.polls && response.polls.length == LOAD_MORE_QTY,\n      polls: this.state.polls.concat(response.polls || [])\n    });\n  }\n\n  get pollElements(){\n    return this.state.polls.map( (poll, i) => {\n      return (\n        <Poll poll={ poll } />\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"pollListContainer\">\n        <LoadingOverlay enabled={ this.state.loading } fullScreen={ false } />\n        <div className=\"polls\">\n          { this.pollElements }\n        </div>\n        {!this.state.loading && \n          <ShowMore moreAvailable={ this.state.canLoadMore } loading={this.state.loadingMore} onClick={() => this.webFetch()} />\n        }\n      </div>\n    );\n  }\n}\n\nexport default PollList;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\n\nimport './ShowMore.css';\n\nclass ShowMore extends Component {\n  render(){\n    if(!this.props.moreAvailable)\n      return null;\n\n    if(this.props.loading){\n      return (\n        <div className=\"showMore\">\n          Loading...\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"showMore\" onClick={ () => this.props.onClick() }>\n          Show more\n        </div>\n      );\n    }\n  }\n}\n\nexport default ShowMore;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\n\nimport './SortControl.css';\n\nconst OPTIONS = [\n  {name: \"Most Votes\", value: \"mostVotes\"},\n  {name: \"Ending Soon\", value: \"endingSoonest\"},\n  {name: \"Newest\", value: \"newest\"},\n];\n\nclass SortControl extends Component {\n  constructor(props){\n    super(props);\n\n    let startingOrder = OPTIONS.find(item => item.value == this.props.sortOrder).name;\n    this.state = {\n      sortOrder: startingOrder,\n      listOpen: false\n    };\n  }\n\n  toggleList(visibility){\n    this.setState({\n      listOpen: visibility\n    });\n  }\n\n  setSelected(item){\n    this.props.onChange(item.value);\n\n    this.setState({\n      listOpen: false,\n      sortOrder: item.name\n    });\n  }\n\n  get listElements(){\n    let className = this.state.listOpen ? \"sortList\" : \"sortListDisabled\";\n\n    return (\n      <ul className={ className }>\n       {OPTIONS.map((item, i) => (\n         <li className=\"sortListItem\" key={i} onClick={() => this.setSelected(item)}>{item.name}</li>\n        ))}\n      </ul>\n    );\n  }\n\n  render(){\n    return (\n      <div className=\"sortListWrapper\"  onMouseOver={() => this.toggleList(true)} onMouseOut={() => this.toggleList(false)}>\n        <div className=\"sortListHeader\">\n          <div className=\"sortListTitle\">\n            { this.state.sortOrder }\n            <img src={require('../images/sort_icon.png')} />\n          </div>\n        </div>\n        { this.listElements }\n      </div>\n    )\n  }\n}\n\nexport default SortControl;\n","const COLORS = [\n  'rgb(1, 191, 193, 255)',\n  'rgb(239, 114, 69, 255)',\n  'rgb(126, 202, 111, 255)',\n  'rgb(240, 113, 140, 255)',\n  'rgb(183, 123, 198, 255)',\n  'rgb(138, 157, 190, 255)',\n  'rgb(205, 192, 52, 255)',\n  'rgb(86, 147, 209, 255)',\n  'rgb(200, 82, 151, 255)',\n  'rgb(70, 143, 157, 255)',\n  'rgb(29, 131, 133, 255)',\n  'rgb(231, 95, 93, 255)',\n  'rgb(118, 132, 42, 255)',\n  'rgb(71, 97, 184, 255)',\n  'rgb(160, 135, 63, 255)',\n  'rgb(73, 106, 150, 255)',\n  'rgb(140, 69, 106, 255)',\n  'rgb(170, 87, 64, 255)',\n  'rgb(154, 94, 106, 255)',\n  'rgb(172, 136, 115, 255)',\n  'rgb(117, 80, 121, 255)',\n  'rgb(98, 106, 120, 255)',\n  'rgb(62, 92, 111, 255)',\n  'rgb(119, 103, 219, 255)',\n  'rgb(61, 150, 180, 255)',\n  'rgb(75, 142, 126, 255)',\n  'rgb(88, 170, 124, 255)',\n  'rgb(114, 159, 110, 255)',\n  'rgb(133, 122, 107, 255)',\n  'rgb(159, 120, 76, 255)'\n]\n\nexport default COLORS;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport PollModel from '../../models/Poll';\nimport './poll.css';\n\nclass Poll extends Component {\n  static defaultProps = {\n    forceNormal: false\n  };\n\n  constructor(props){\n    super(props);\n\n    this.poll = new PollModel(props.poll);\n  }\n\n  openPoll(){\n    console.log(`Open ${this.poll.id}`);\n    this.props.history.push(`/poll/${this.poll.id}`);\n  }\n\n  button(){\n    if(this.poll.hasVoted || this.poll.hasExpired)\n      return (\n        <span className=\"pollVoteButton resultsButton\" onClick={ () => this.openPoll() }>\n          Results\n        </span>\n      );\n    else\n      return (\n        <span className=\"pollVoteButton\" onClick={ () => this.openPoll() }>\n          Vote\n        </span>\n      );\n  }\n\n  renderStar(){\n    return (\n      <div className=\"starPoll\">\n        <div className=\"pollTop\">\n          <div className=\"pollStarImage\">\n            <img src={ this.props.poll.twitterAvatar } />\n          </div>\n          <div className=\"pollTopQuestion\">\n            <div className=\"pollTopName\">\n              { this.props.poll.twitterName }\n            </div>\n            <div className=\"pollTopQuestionText\">\n              { this.props.poll.question }\n            </div>\n          </div>\n        </div>\n        <div className=\"pollBottom\">\n          <span className=\"pollVotes\">\n            <img src={ require('../images/poll_tick_icon.png') } />\n            { this.props.poll.pollVotes }\n          </span>\n          { !this.poll.hasExpired && (\n            <span className=\"pollTimeRemaining\">\n              <img src={ require('../images/poll_clock_icon.png') } />\n              { this.poll.timeRemaining }\n            </span>\n          )}\n          { this.button() }\n        </div>  \n      </div>\n    );\n  }\n\n  renderNormal() {\n    return (\n      <div className=\"poll\">\n        <div className=\"pollTop\">\n          <div className=\"pollTopHeader\">\n            <span className=\"pollNumber\">\n              <img src={ require('../images/poll_hash_icon.png') } />\n              { this.poll.id }\n            </span>\n            { !this.poll.hasExpired && (\n              <span className=\"pollTimeRemaining\">\n                <img src={ require('../images/poll_clock_icon.png') } />\n                { this.poll.timeRemaining }\n              </span>\n              )\n            }\n          </div>\n          <div className=\"pollTopQuestion\">\n            { this.poll.question }\n          </div>\n        </div>\n        <div className=\"pollBottom\">\n          <span className=\"pollVotes\">\n            <img src={ require('../images/poll_tick_icon.png') } />\n            { this.poll.pollVotes }\n          </span>\n          { this.button() }\n        </div>  \n      </div>\n    );\n  }\n\n  render(){\n    if(!this.props.forceNormal && this.poll.type == 'Star')\n      return this.renderStar();\n    else\n      return this.renderNormal();\n  }\n}\n\nexport default withRouter(Poll);\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport WebApi from '../../models/webApi';\nimport Poll from '../../models/Poll';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport FullScreenPollList from '../common/FullScreenPollList';\nimport HomeHeader from '../common/HomeHeader';\nimport CategoryList from '../common/CategoryList';\nimport LocationControl from '../common/LocationControl';\nimport SummaryHeader from './components/SummaryHeader';\nimport SortControl from '../common/SortControl';\nimport ShowMore from '../common/ShowMore';\n\nimport './CompletedPolls.css';\n\nconst LOAD_MORE_QTY = 16;\n\nclass CompletedPolls extends Component {\n  constructor(props){\n    super(props);\n\n    this.store = props.store;\n    this.category = this.props.match.params.category;\n    this.url = this.props.match.url;\n\n    console.dir(this.props.match);\n\n    this.state = {\n      loading: false,\n      locationFilter: 'Global',\n      sortOrder: 'mostVotes',\n      loadingMore: false,\n      canLoadMore: true\n    };\n  }\n\n  componentWillReceiveProps(props){\n    this.props = props;\n    this.category = props.match.params.category ? props.match.params.category : null;\n    this.url = props.match.url;\n\n    this.webFetch(true);\n  }\n\n  get isCategorySelected(){\n    return (typeof this.category) == 'string';\n  }\n\n  async componentDidMount(){\n    if(!IS_SERVER){\n      this.webFetch();\n    }\n  }\n\n  get pageType(){\n    if(this.url.startsWith('/completed'))\n      return \"completed\";\n    else if(this.url.startsWith('/browse'))\n      return \"browse\";\n  }\n\n  get filterParams(){\n    switch(this.pageType){\n      case 'completed':\n        return {\n          active: 'false',\n          type: 'Completed'\n        };\n      case 'browse':\n        return {\n          active: 'true',\n          type: 'Normal'\n        };\n    }\n  }\n\n  async webFetch(resetCache = false){\n    if(this.store.hydrateCheck() || !this.isCategorySelected)\n      return;\n    \n    if(resetCache)\n      this.store.setCategoryPolls(this.category, []);\n\n    this.setState({\n      loading: resetCache,\n      loadingMore: true,\n    });\n\n    let existingPolls = this.store.getCategoryPolls(this.category);\n\n    let response = await WebApi.getPolls(\n      Object.assign(this.filterParams, {\n        category: this.category,\n        sortOrder: this.state.sortOrder,\n        recordStartNo: existingPolls.length,\n        recordQty: 16,\n        positionLatitude: '',\n        positionLongitude: '',\n        locationFilter: this.state.locationFilter\n      })\n    );\n\n    this.store.setCategoryPolls(this.category, existingPolls.concat(response.polls));\n\n    this.setState({\n      loading: false,\n      loadingMore: false,\n      canLoadMore: response.polls && response.polls.length == LOAD_MORE_QTY\n    });\n  }\n\n  changeLocationFilter(locationFilter){\n    if(this.state.locationFilter == locationFilter) return;\n\n    this.state.locationFilter = locationFilter;\n    this.webFetch(true);\n  }\n\n  changeSortOrder(sortOrder){\n    if(this.state.sortOrder == sortOrder) return;\n\n    this.state.sortOrder = sortOrder;\n    this.webFetch(true);\n  }\n\n  get content(){\n    if(!this.isCategorySelected)\n      return <CategoryList basePath={this.pageType} />\n    else\n      return (\n        <div style={{margin: 0, padding: 0}}>\n          <div className=\"headerLocation\">\n            <LocationControl defaultLocation={ this.state.locationFilter} onChange={location => this.changeLocationFilter(location)} />\n          </div>\n          <div className=\"headerNameFilter\">\n            <SummaryHeader category={this.category} />\n            <SortControl sortOrder={ this.state.sortOrder} onChange={order => this.changeSortOrder(order)} />\n          </div>\n          <FullScreenPollList polls={this.store.getCategoryPolls(this.category)} showSortOrder={ false }/>\n        </div>\n      );\n  }\n\n  get showMoreElement(){\n    if(this.isCategorySelected && !this.state.loading)\n      return <ShowMore moreAvailable={ this.state.canLoadMore } loading={this.state.loadingMore} onClick={() => this.webFetch()} />\n  }\n\n  render() {\n    return (\n      <div className=\"completedPolls\">\n        <LoadingOverlay enabled={ this.state.loading }/>\n        <HomeHeader />\n        { this.content }\n        { this.showMoreElement }\n      </div>\n    );\n  }\n}\n\nexport default CompletedPolls;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport CategoryIcon from '../../common/CategoryIcon';\n\nimport './SummaryHeader.css';\n\nconst CATEGORY_MAP = {\n  'Pol': {title: 'Political & Human Rights'},\n  'Env': {title: 'Science & Nature'},\n  'Lif': {title: 'Lifestyle & Health'},\n  'Hum': {title: 'News & Current Events'},\n  'Oth': {title: 'Everything Else'},\n  'All': {title: 'All Categories'},\n  'Jus': {title: 'Just For Fun'},\n  'Spo': {title: 'Sports, Hobbies & Games'},\n  'Ent': {title: 'Arts & Entertainment'},\n  'Tec': {title: 'Technology & Gadgets'},\n\n  \"All\": { title: \"All Categories\" },\n  \"Star\": { title: \"Star Polls\" },\n  \"MyVotes\": { title: \"My Votes\" },\n  \"MyPolls\": { title: \"My Polls\" },\n  \"Social\": { title: \"Social\" },\n};\n\nclass SummaryHeader extends Component {\n  render() {\n    let category = CATEGORY_MAP[this.props.category];\n\n    return (\n      <div className=\"catSummaryHeader\">\n        <img src={ CategoryIcon[category.title] } />\n        <span>{ category.title }</span>\n      </div>\n    );\n  }\n}\n\nexport default SummaryHeader;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\n\nimport WebApi from '../../models/webApi';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport HomeHeader from '../common/HomeHeader';\n\nimport './CreateWidget.css';\n\nconst SERVER_ADDR = SERVER_BASE_URL;\n\nclass CreateWidget extends Component {\n   constructor(props){\n    super(props);\n\n    this.store = props.store;\n    this.state = {\n      widgetPollId: '',\n      ratingPollId: ''\n    };\n  }\n\n  updateWidgetPollId(event){\n    this.setState({widgetPollId: event.target.value.replace(/\\D/g, '')});\n  }\n\n  updateRatingPollId(event){\n    this.setState({ratingPollId: event.target.value.replace(/\\D/g, '')});\n  }\n\n  get widgetCode(){\n    return `<script async charset=\"utf-8\" src=\"${SERVER_ADDR}/public/widget.js\"></script><div style=\"width: 380px; height: 560px;\" data-clearpoll-pollId=\"${this.state.widgetPollId}\"></div>`;\n  }\n\n  get ratingWidgetCode(){\n    return `<script async charset=\"utf-8\" src=\"${SERVER_ADDR}/public/widget.js\"></script><div style=\"width: 380px; height: 560px;\" data-clearpoll-type=\"rating\" data-clearpoll-pollId=\"${this.state.ratingPollId}\"></div>`;\n  }\n\n  selectCode(e){\n    let target = e.target || e.srcElement;        \n    let range, selection;\n\n    if (document.body.createTextRange) {\n        range = document.body.createTextRange();\n        range.moveToElementText(target);\n        range.select();\n    } else if (window.getSelection) {\n        selection = window.getSelection();\n        range = document.createRange();\n        range.selectNodeContents(target);\n        selection.removeAllRanges();\n        selection.addRange(range);\n    }\n    e.stopPropagation();\n    document.execCommand(\"copy\");\n  }\n\n  get createPollWidgetForm(){\n    return (\n      <div className=\"widgetFormContainer\">\n        <div className=\"header\">\n          <span>Create a Poll Widget</span>\n          <img src={ require('../images/poll_tick_icon.png') } />\n        </div>\n        <div className=\"summary\">\n          Clearpoll polls can be embedded on any website, allowing logged in users to vote on-site and view live results. Poll widgets\n          are ideal for news articles or audience interaction.\n        </div>\n\n        <div className=\"description\">\n          First, create the poll inside ClearPoll App, or find an existing poll you wish to embed. Then enter the Poll ID below.\n        </div>\n\n        <div className=\"form\">\n          <span>Enter Poll ID:</span>\n          <input type=\"text\" value={ this.state.widgetPollId } onChange={ e => this.updateWidgetPollId(e) } />\n        </div>\n\n        <pre className=\"code\" onClick={ e => this.selectCode(e) }>{ this.widgetCode }</pre>\n        \n        <CopyToClipboard text={ this.widgetCode }>\n          <div className=\"copyButton\" >Copy</div>\n        </CopyToClipboard>\n\n\n        <div className=\"footerText\">Paste the widget code anywhere in your websites's HTML.</div>\n\n      </div>\n    )\n  }\n\n  get createRatingsWidgetForm(){\n    return (\n      <div className=\"widgetFormContainer\">\n        <div className=\"header\">\n          <span>Create a a Ratings Bar Widget</span>\n          <img src={ require('../images/poll_tick_icon.png') } />\n        </div>\n        <div className=\"summary\">\n          Ratings bars allow your website visitors to rate anything out of 10. No Multiple votes or bot votes. Visitors can rate directly on your site, or by searching the ID in the ClearPoll app.\n        </div>\n\n        <div className=\"description\">\n          First, create the ratings bar poll inside the ClearPoll app. Then enter the Poll Id below.\n        </div>\n\n        <div className=\"form\">\n          <span>Enter Poll ID:</span>\n          <input type=\"text\" value={ this.state.ratingPollId } onChange={ e => this.updateRatingPollId(e) } />\n        </div>\n\n        <pre className=\"code\" onClick={ e => this.selectCode(e) }>{ this.ratingWidgetCode }</pre>\n        \n        <CopyToClipboard text={ this.ratingWidgetCode }>\n          <div className=\"copyButton\" >Copy</div>\n        </CopyToClipboard>\n\n\n        <div className=\"footerText\">Paste the widget code anywhere in your websites's HTML.</div>\n\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div>\n        <HomeHeader />\n\n        <div className=\"createWidget\">\n          { this.createPollWidgetForm }\n          { this.createRatingsWidgetForm }\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default CreateWidget;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport WebApi from '../../models/webApi';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport HomeHeader from '../common/HomeHeader';\nimport PollSummary from './components/PollSummary';\n\nimport './Home.css';\n\nclass Home extends Component {\n  constructor(props){\n    super(props);\n    this.store = props.store;\n\n    this.state = {\n      loading: !IS_SERVER\n    };\n  }\n\n  componentWillMount(){\n    if(!IS_SERVER){\n      this.webFetch();\n    }\n  }\n\n  async webFetch(){\n    if(this.store.hydrateCheck()){\n      return;\n    }\n\n    try {\n      this.store.data.homePolls = await WebApi.fetchHome();\n      this.setState({\n        loading: false\n      });\n\n    } catch(e){\n      console.log('API fail', e);\n      this.props.history.push('/login');\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <LoadingOverlay enabled={ this.state.loading }/>\n\n        <HomeHeader />\n        <PollSummary polls={ this.store.data.homePolls }/>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport Poll from '../../common/poll';\n\nimport './PollRow.css';\n\nclass PollRow extends Component {\n  static defaultProps = {\n    forceNormal: true\n  };\n\n  constructor(props){\n    super(props);\n    this.props = props;\n  }\n\n  render() {\n    let pollElements = this.props.polls.map( poll => {\n      return (\n        <Poll key={ poll.id } poll={ poll } forceNormal={this.props.forceNormal} />\n      );\n    });\n\n    return (\n      <div className=\"pollRow\">\n        { pollElements }\n      </div>\n    );\n  }\n}\n\nexport default PollRow;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport SummaryHeader from './SummaryHeader';\nimport PollRow from './PollRow';\nimport CategoryIcon from '../../common/CategoryIcon';\n\nimport './PollSummary.css';\n\nconst CATEGORY_MAP = {\n  trendingPolls: {title: 'Trending'},\n  endingSoonest: {title: 'Ending Soon'},\n  latestPolls: {title: 'Latest'},\n  starPolls: {title: 'Star Polls', url: '/starPolls' },\n  myVotes: {title: 'My Votes', url: '/myVotes' },\n  localPolls: {title: 'Local'},\n  nationalPolls: {title: 'National' },\n  socialPolls: {title: 'Friends Voted On...', url: '/social' },\n  politicalPolls: {title: 'Political & Human Rights', url: '/browse/Pol' },\n  humanRightsPolls: {title: 'News & Current Events', url: '/browse/Hum' },\n  lifestylePolls: {title: 'Lifestyle & Health', url: '/browse/Lif' },\n  sportsPolls: {title: 'Sports, Hobbies & Games', url: '/browse/Spo' },\n  technologyPolls: {title: 'Business & Finance', url: '/browse/Tec' },\n  environmentPolls: {title: 'Science & Nature', url: '/browse/Env' },\n  justForFunPolls: {title: 'Technology & Gadgets', url: '/browse/Jus' },\n  entertainmentPolls: {title: 'Arts & Entertainment', url: '/browse/Ent' },\n  otherPolls: {title: 'Everything Else', url: '/browse/Oth' },\n  randomPolls: {title: 'Random'},\n};\n\nclass PollSummary extends Component {\n  constructor(props){\n    super(props);\n\n    this.props = props;\n  }\n\n  getPollsFor(category, limit){\n    let numOfPolls = this.countPolls(category);\n\n    if(numOfPolls > limit){\n      let startIndex = Math.floor(Math.random() * (numOfPolls - limit + 1));\n      return this.props.polls[category].slice(startIndex, startIndex + limit);\n    } else \n      return this.props.polls[category];\n  }\n\n  countPolls(category){\n    return this.props.polls[category] ? this.props.polls[category].length : 0;\n  }\n\n  getRowFor(category){\n    if( this.countPolls(category) > 0 ){\n      let details = CATEGORY_MAP[category];\n\n      return (\n        <div>\n          <SummaryHeader title={ details.title } image={ CategoryIcon[details.title] } url={ details.url } />\n          <PollRow polls={ this.getPollsFor(category, 4) } />\n        </div>\n      );\n    }\n  }\n\n  render() {\n    if(!this.props.polls)\n      return <div className=\"pollSummary\"></div>;\n\n    return (\n      <div className=\"pollSummary\">\n        { this.getRowFor('trendingPolls') }\n        { this.getRowFor('endingSoonest') }\n        { this.getRowFor('latestPolls') }\n\n        <SummaryHeader title={ \"Star Polls\" } image={ CategoryIcon['Star Polls'] } url={ '/starPolls' }/>\n        <PollRow polls={ this.getPollsFor('starPolls', 3) } forceNormal={ false } />\n\n        { this.getRowFor('myVotes') }\n        { this.getRowFor('localPolls') }\n        { this.getRowFor('nationalPolls') }\n        { this.getRowFor('socialPolls') }\n        { this.getRowFor('politicalPolls') }\n        { this.getRowFor('humanRightsPolls') }\n        { this.getRowFor('lifestylePolls') }\n        { this.getRowFor('sportsPolls') }\n        { this.getRowFor('technologyPolls') }\n        { this.getRowFor('environmentPolls') }\n        { this.getRowFor('justForFunPolls') }\n        { this.getRowFor('entertainmentPolls') }\n        { this.getRowFor('otherPolls') }\n        { this.getRowFor('randomPolls') }\n      </div>\n    );\n  }\n}\n\nexport default PollSummary;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport './SummaryHeader.css';\n\nclass SummaryHeader extends Component {\n  onClick(){\n    if(this.props.url) this.props.history.push(this.props.url);\n  }\n\n  render() {\n    return (\n      <div className=\"summaryHeader\" onClick={ () => this.onClick() }>\n        <img src={ this.props.image } />\n        <span>{ this.props.title }</span>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(SummaryHeader);\n","module.exports = __webpack_public_path__ + \"static/media/ClearPoll-Logo.99830e0a.png\";","module.exports = __webpack_public_path__ + \"static/media/account_icon.8b0db1b0.png\";","module.exports = __webpack_public_path__ + \"static/media/add_friends_icon.f0674b63.png\";","module.exports = __webpack_public_path__ + \"static/media/app_store_icon.2928664f.svg\";","module.exports = __webpack_public_path__ + \"static/media/all_icon.51be82a5.png\";","module.exports = __webpack_public_path__ + \"static/media/arts_icon.f440cb40.png\";","module.exports = __webpack_public_path__ + \"static/media/business_icon.934fd221.png\";","module.exports = __webpack_public_path__ + \"static/media/lifestyle_icon.4f920170.png\";","module.exports = __webpack_public_path__ + \"static/media/news_icon.eb3ab87e.png\";","module.exports = __webpack_public_path__ + \"static/media/other_icon.51be82a5.png\";","module.exports = __webpack_public_path__ + \"static/media/political_icon.9cc90277.png\";","module.exports = __webpack_public_path__ + \"static/media/science_icon.0ecd0ce1.png\";","module.exports = __webpack_public_path__ + \"static/media/sports_icon.acc4312c.png\";","module.exports = __webpack_public_path__ + \"static/media/technology_icon.7d30c564.png\";","module.exports = __webpack_public_path__ + \"static/media/all_icon.51be82a5.png\";","module.exports = __webpack_public_path__ + \"static/media/arts_icon.f440cb40.png\";","module.exports = __webpack_public_path__ + \"static/media/business_icon.934fd221.png\";","module.exports = __webpack_public_path__ + \"static/media/endingsoon_icon.99468104.png\";","module.exports = __webpack_public_path__ + \"static/media/everythingElse_icon.99468104.png\";","module.exports = __webpack_public_path__ + \"static/media/latestPolls_icon.960154f2.png\";","module.exports = __webpack_public_path__ + \"static/media/lifestyle_icon.4f920170.png\";","module.exports = __webpack_public_path__ + \"static/media/local_icon.5a58ac83.png\";","module.exports = __webpack_public_path__ + \"static/media/myPolls_icon.99468104.png\";","module.exports = __webpack_public_path__ + \"static/media/myVotes_icon.dca7aee0.png\";","module.exports = __webpack_public_path__ + \"static/media/national_icon.37698efa.png\";","module.exports = __webpack_public_path__ + \"static/media/news_icon.eb3ab87e.png\";","module.exports = __webpack_public_path__ + \"static/media/other_icon.51be82a5.png\";","module.exports = __webpack_public_path__ + \"static/media/political_icon.9cc90277.png\";","module.exports = __webpack_public_path__ + \"static/media/random_icon.99468104.png\";","module.exports = __webpack_public_path__ + \"static/media/science_icon.0ecd0ce1.png\";","module.exports = __webpack_public_path__ + \"static/media/social_icon.58c1cad8.png\";","module.exports = __webpack_public_path__ + \"static/media/sports_icon.acc4312c.png\";","module.exports = __webpack_public_path__ + \"static/media/starPolls_icon.25f3f611.png\";","module.exports = __webpack_public_path__ + \"static/media/technology_icon.7d30c564.png\";","module.exports = __webpack_public_path__ + \"static/media/trending_icon.9c09b7ce.png\";","module.exports = __webpack_public_path__ + \"static/media/clearpoll_logo_white.b12cf0ff.png\";","module.exports = __webpack_public_path__ + \"static/media/facebook_icon.53934be6.png\";","module.exports = __webpack_public_path__ + \"static/media/friend_accept_icon.0bb1770c.png\";","module.exports = __webpack_public_path__ + \"static/media/friend_add_icon.b4614e4e.png\";","module.exports = __webpack_public_path__ + \"static/media/friend_muted_icon.d4ca5040.png\";","module.exports = __webpack_public_path__ + \"static/media/friend_reject_icon.fb70dc63.png\";","module.exports = __webpack_public_path__ + \"static/media/friend_remove_icon.067915ba.png\";","module.exports = __webpack_public_path__ + \"static/media/friend_request_icon.1434f83d.png\";","module.exports = __webpack_public_path__ + \"static/media/friend_unmuted_icon.42ae4b2c.png\";","module.exports = __webpack_public_path__ + \"static/media/friends_icon.66dd06f7.png\";","module.exports = __webpack_public_path__ + \"static/media/google_icon.27b33027.png\";","module.exports = __webpack_public_path__ + \"static/media/google_play_icon.15797297.png\";","module.exports = __webpack_public_path__ + \"static/media/account_icon.01028393.png\";","module.exports = __webpack_public_path__ + \"static/media/completed_icon.5d25c8e7.png\";","module.exports = __webpack_public_path__ + \"static/media/create_icon.3761502a.png\";","module.exports = __webpack_public_path__ + \"static/media/mypolls_icon.457f9d97.png\";","module.exports = __webpack_public_path__ + \"static/media/myvotes_icon.e469f9b4.png\";","module.exports = __webpack_public_path__ + \"static/media/rewards_icon.0f806c10.png\";","module.exports = __webpack_public_path__ + \"static/media/social_icon.061db83d.png\";","module.exports = __webpack_public_path__ + \"static/media/star_icon.b6ab03f3.png\";","module.exports = __webpack_public_path__ + \"static/media/support_icon.845570b8.png\";","module.exports = __webpack_public_path__ + \"static/media/vote_icon.2bf6543f.png\";","module.exports = __webpack_public_path__ + \"static/media/menu_icon.287713b5.png\";","module.exports = __webpack_public_path__ + \"static/media/poll_clock_icon.05f75bb6.png\";","module.exports = __webpack_public_path__ + \"static/media/poll_hash_icon.d796e847.png\";","module.exports = __webpack_public_path__ + \"static/media/poll_tick_icon.544b0463.png\";","module.exports = __webpack_public_path__ + \"static/media/rating_icon.b073f595.png\";","module.exports = __webpack_public_path__ + \"static/media/rewards_icon.0f806c10.png\";","module.exports = __webpack_public_path__ + \"static/media/search_icon.85560f1c.png\";","module.exports = __webpack_public_path__ + \"static/media/sort_icon.92823863.png\";","module.exports = __webpack_public_path__ + \"static/media/twitter_icon.ea04b00c.png\";","module.exports = __webpack_public_path__ + \"static/media/vote_icon.48622bff.png\";","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\n\nimport './LoadingOverlay.css';\n\nclass LoadingOverlay extends Component {\n  static defaultProps = {\n    fullScreen: true\n  }\n\n  constructor(props){\n    super(props);\n\n    this.props = props;\n  }\n\n  get loadingClassName(){\n    if(this.props.fullScreen)\n      return this.props.enabled ? \"loadingOverlayFullScreen\" : \"loadingOverlayFullScreen loadingOverlayDisabled\";\n    else\n      return this.props.enabled ? \"loadingOverlay\" : \"loadingOverlay loadingOverlayDisabled\";\n  }\n\n  render() {\n    return (\n      <div className={ this.loadingClassName }>\n        <div className=\"lds-ripple\">\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LoadingOverlay;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { withRouter, Redirect } from 'react-router-dom';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport WebApi from '../../models/webApi';\n\nimport \"./Login.css\";\n\nclass Login extends Component {\n  constructor(props){\n    super(props);\n\n    this.props = props;\n    this.state = {\n      username: 'AnonymousCoward',\n      desktopCode: 'bsa6jr',\n      loading: false\n    };\n\n    this.props.store.hydrateCheck();\n  }\n\n/*\n  async test(){\n    let params = {\n      function: 'GetDesktopCode',\n      phoneNumber: '+61423777097',\n      code: '093068'\n    }\n\n    let response = await ClearpollApi.request(params);\n    console.dir(response);\n  }\n*/\n\n  async doLogin(){\n    this.setState({loading: true});\n\n    try {\n      await WebApi.login(this.state.username, this.state.desktopCode);\n      this.props.history.push('/');\n    } catch(e) {\n      alert(e.message);\n    }\n      this.setState({loading: false});\n  }\n\n  render() {\n    return (\n      <div className=\"loginContent\">\n        <LoadingOverlay enabled={ this.state.loading }/>\n\n        <div className=\"loginHeader\">\n          <img src={ require('./images/desktop-connect.png') } />\n          ClearPoll Login\n        </div>\n\n        <div className=\"loginField\">\n          <span className=\"loginFieldText\">\n            Username\n          </span>\n          <input type=\"text\"\n            className=\"loginFieldUsername\"\n            value={this.state.username}\n            onChange={ e => this.setState({username: e.target.value}) }\n          />\n        </div>\n\n        <div className=\"loginField\">\n          <span className=\"loginFieldText\">\n            Desktop Code\n          </span>\n          <input type=\"text\"\n            className=\"loginFieldDesktopCode\"\n            value={this.state.desktopCode}\n            onChange={ e => this.setState({desktopCode: e.target.value}) }\n          />\n        </div>\n\n        <div className=\"loginSubText\">\n          You can find your code inside the ClearPoll app under \"Desktop Connect\" in the main menu\n        </div>\n\n        <button className=\"loginButton\" onClick={ this.doLogin.bind(this) }>\n          Login\n        </button>\n\n        <div className=\"installBanner\">\n          <div className=\"installBannerText\">\n            Not registered? Install ClearPoll app to get started!\n          </div>\n          <div className=\"installBannerImages\">\n            <img src={ require('../images/google_play_icon.png') }/>\n            <img src={ require('../images/app_store_icon.svg') }/>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","module.exports = __webpack_public_path__ + \"static/media/desktop-connect.e679d04d.png\";","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport WebApi from '../../models/webApi';\nimport Poll from '../../models/Poll';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport FullScreenPollList from '../common/FullScreenPollList';\nimport HomeHeader from '../common/HomeHeader';\nimport SummaryHeader from '../completedPolls/components/SummaryHeader';\nimport SortControl from '../common/SortControl';\nimport ShowMore from '../common/ShowMore';\n\nimport '../completedPolls/CompletedPolls.css';\n\nconst LOAD_MORE_QTY = 16;\n\nclass MyPolls extends Component {\n  constructor(props){\n    super(props);\n\n    this.store = props.store;\n\n    this.state = {\n      loading: true,\n      sortOrder: 'mostVotes',\n      loadingMore: false,\n      canLoadMore: (this.store.getMyVotes() == LOAD_MORE_QTY)\n    };\n  }\n\n  async componentDidMount(){\n    if(!IS_SERVER){\n      this.webFetch();\n    }\n  }\n\n  async webFetch(resetCache = true){\n    if(this.store.hydrateCheck()){\n      this.setState({loading: false});\n      return;\n    }\n    \n    this.setState({\n      loadingMore: true,\n    });\n\n    let existingPolls = resetCache ? [] : this.store.getMyVotes();\n\n    let response = await WebApi.getPolls({\n      category: 'All',\n      type: 'MyPolls',\n      active: 'true',\n      sortOrder: this.state.sortOrder,\n      recordStartNo: existingPolls.length,\n      recordQty: 16,\n      positionLatitude: '',\n      positionLongitude: '',\n      locationFilter: ''\n    });\n\n    this.store.setMyVotes(existingPolls.concat(response.polls));\n\n    this.setState({\n      loading: false,\n      loadingMore: false,\n      canLoadMore: response.polls && response.polls.length == LOAD_MORE_QTY\n    });\n  }\n\n  changeSortOrder(sortOrder){\n    if(this.state.sortOrder == sortOrder) return;\n\n    this.state.sortOrder = sortOrder;\n    this.webFetch(true);\n  }\n\n  get content(){\n    return (\n      <div>\n        <div className=\"headerNameFilter\">\n          <SummaryHeader category={'MyPolls'} />\n          <SortControl sortOrder={ this.state.sortOrder} onChange={order => this.changeSortOrder(order)} />\n        </div>\n        <FullScreenPollList polls={this.store.getMyVotes()} showSortOrder={ false } forceNormal={ true }/>\n      </div>\n    );\n  }\n\n  get showMoreElement(){\n    return <ShowMore moreAvailable={ this.state.canLoadMore } loading={this.state.loadingMore} onClick={() => this.webFetch(false)} />\n  }\n\n  render() {\n    return (\n      <div className=\"completedPolls\">\n        <LoadingOverlay enabled={ this.state.loading }/>\n        <HomeHeader />\n        { this.content }\n        { this.showMoreElement }\n      </div>\n    );\n  }\n}\n\nexport default MyPolls;\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport WebApi from '../../models/webApi';\nimport Poll from '../../models/Poll';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport FullScreenPollList from '../common/FullScreenPollList';\nimport HomeHeader from '../common/HomeHeader';\nimport SummaryHeader from '../completedPolls/components/SummaryHeader';\nimport SortControl from '../common/SortControl';\nimport ShowMore from '../common/ShowMore';\n\nimport '../completedPolls/CompletedPolls.css';\n\nconst LOAD_MORE_QTY = 16;\n\nclass MyVotes extends Component {\n  constructor(props){\n    super(props);\n\n    this.store = props.store;\n\n    this.state = {\n      loading: true,\n      sortOrder: 'mostVotes',\n      loadingMore: false,\n      canLoadMore: (this.store.getMyVotes() == LOAD_MORE_QTY)\n    };\n  }\n\n  async componentDidMount(){\n    if(!IS_SERVER){\n      this.webFetch();\n    }\n  }\n\n  async webFetch(resetCache = true){\n    if(this.store.hydrateCheck()){\n      this.setState({loading: false});\n      return;\n    }\n    \n    this.setState({\n      loadingMore: true,\n    });\n\n    let existingPolls = resetCache ? [] : this.store.getMyVotes();\n\n    let response = await WebApi.getPolls({\n      category: 'All',\n      type: 'MyVotes',\n      active: 'true',\n      sortOrder: this.state.sortOrder,\n      recordStartNo: existingPolls.length,\n      recordQty: 16,\n      positionLatitude: '',\n      positionLongitude: '',\n      locationFilter: ''\n    });\n\n    this.store.setMyVotes(existingPolls.concat(response.polls));\n\n    this.setState({\n      loading: false,\n      loadingMore: false,\n      canLoadMore: response.polls && response.polls.length == LOAD_MORE_QTY\n    });\n  }\n\n  changeSortOrder(sortOrder){\n    if(this.state.sortOrder == sortOrder) return;\n\n    this.state.sortOrder = sortOrder;\n    this.webFetch(true);\n  }\n\n  get content(){\n    return (\n      <div>\n        <div className=\"headerNameFilter\">\n          <SummaryHeader category={'MyVotes'} />\n          <SortControl sortOrder={ this.state.sortOrder} onChange={order => this.changeSortOrder(order)} />\n        </div>\n        <FullScreenPollList polls={this.store.getMyVotes()} showSortOrder={ false } forceNormal={ true }/>\n      </div>\n    );\n  }\n\n  get showMoreElement(){\n    return <ShowMore moreAvailable={ this.state.canLoadMore } loading={this.state.loadingMore} onClick={() => this.webFetch(false)} />\n  }\n\n  render() {\n    return (\n      <div className=\"completedPolls\">\n        <LoadingOverlay enabled={ this.state.loading }/>\n        <HomeHeader />\n        { this.content }\n        { this.showMoreElement }\n      </div>\n    );\n  }\n}\n\nexport default MyVotes;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport WebApi from '../../models/webApi';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport HomeHeader from '../common/HomeHeader';\n\nimport './Rewards.css';\n\nclass Rewards extends Component {\n   constructor(props){\n    super(props);\n\n    this.store = props.store;\n\n    this.state = {\n      loading: true,\n      ethAddress: \"0x123f681646d4a755815f9cb19e1acc8565a0c2ac\"\n    };\n  }\n\n  async componentDidMount(){\n    if(!IS_SERVER){\n      this.webFetch();\n    }\n  }\n\n  async webFetch(resetCache = true){\n    if(this.store.hydrateCheck()){\n      this.setState({loading: false});\n      return;\n    }\n    \n    this.setState({\n      loading: true,\n    });\n\n    let settings = await WebApi.getUserSettings();\n    this.store.setUserSettings(settings);\n\n    this.setState({\n      loading: false\n    });\n  }\n\n  get rewardsElement(){\n    let settings = this.store.getUserSettings();\n\n    return (\n      <div className=\"rewardsContent\">\n        <div className=\"rewardsHeader\">\n          <img src={ require('../images/rewards_icon.png') } />\n          User Rewards\n        </div>\n\n        <div className=\"row\">\n          <div className=\"rowItem\">\n            <div className=\"itemHeader\">Points Received</div>\n            <div className=\"itemValue\">{ settings.RP }</div>\n            <div className=\"itemFooter\">\n              <div>Points reset at the end of each rewards period.</div>\n            </div>\n          </div>\n\n          <div className=\"rowItem\">\n            <div className=\"itemHeader\">POLL Token Balance</div>\n            <div className=\"itemValue\">{ settings.BP }</div>\n            <div className=\"itemFooter\">\n              <div className=\"payoutButton\">Request Payout</div>\n              <div>The minimum payout amount is 50 POLL.</div>\n            </div>\n          </div>\n\n          <div className=\"rowItem\">\n            <div className=\"itemHeader\">Current Multiplier Level</div>\n            <div className=\"itemValue\">x{ settings.BM }</div>\n            <div className=\"itemFooter\">\n              <div>Multiplier levels are based on your existing POLL balance in your wallet and caluclated daily.</div>\n              <div className=\"itemLink\">More information.</div>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bottomContainer\">\n          <div className=\"bottomHeader\">Poll Wallet Address</div>\n\n          <div>Your wallet address is where your POLL tokens will be send when you request a payout. It is also the wallet we check for balance to determine your multiplier level.</div>\n          <div className=\"walletButton\">Get a Wallet</div>\n\n          <div className=\"addressField\">\n            <span>Address</span>\n            <input type=\"text\"\n              placeholder=\"POLL wallet address\"\n              value={this.state.ethAddress}\n              onChange={ e => this.setState({ethAddress: e.target.value}) }\n            />\n          </div>\n\n          <div>\n            <span className=\"important\">Important.</span>\n            Changing your POLL wallet address after entering it will reset your points for the current period. Your POLL balance will remain.\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"rewardsPage\">\n        <LoadingOverlay enabled={ this.state.loading }/>\n        <HomeHeader />\n        { this.rewardsElement }\n      </div>\n    );\n  }\n}\n\nexport default Rewards;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport WebApi from '../../models/webApi';\nimport Poll from '../../models/Poll';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport FullScreenPollList from '../common/FullScreenPollList';\nimport HomeHeader from '../common/HomeHeader';\n\nimport * as qs from 'query-string';\n\nimport './Search.css';\n\nclass Search extends Component {\n  constructor(props){\n    super(props);\n\n    this.store = props.store;\n \n    let params = qs.parse(props.location.search); \n    this.searchTerm = params.q;\n\n    this.state = {\n      loading: false,\n    };\n  }\n\n  componentWillReceiveProps(props){\n    let params = qs.parse(props.location.search); \n    this.searchTerm = params.q;\n    this.webFetch();\n  }\n\n  async componentDidMount(){\n    if(!IS_SERVER){\n      this.webFetch();\n    }\n  }\n\n  async webFetch(){\n    if(this.store.hydrateCheck()){\n      return;\n    }\n\n    this.setState({\n      loading: true\n    });\n\n    let response = await WebApi.doSearch( this.searchTerm );\n    this.store.setSearchResult(this.searchTerm, response.polls);\n\n    this.setState({\n      loading: false\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"search\">\n        <LoadingOverlay enabled={ this.state.loading }/>\n        <HomeHeader searchText={this.searchTerm} />\n        <FullScreenPollList polls={this.store.getSearchResult(this.searchTerm)} forceNormal={ true } />\n      </div>\n    );\n  }\n}\n\nexport default Search;\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport WebApi from '../../models/webApi';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\n\nclass ManageFriends extends Component {\n  constructor(props){\n    super(props);\n\n    this.store = props.store;\n\n    this.state = {\n      loading: false,\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"manageFriends\">\n\n      </div>\n    );\n  }\n}\n\nexport default ManageFriends;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport WebApi from '../../models/webApi';\nimport Poll from '../../models/Poll';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport FullScreenPollList from '../common/FullScreenPollList';\nimport HomeHeader from '../common/HomeHeader';\nimport SummaryHeader from '../completedPolls/components/SummaryHeader';\nimport SortControl from '../common/SortControl';\nimport ShowMore from '../common/ShowMore';\nimport SocialPollList from './SocialPollList';\nimport SocialFriendControls from './SocialFriendControls';\nimport CategoryIcon from '../common/CategoryIcon';\n\nimport './SocialFeed.css';\n\nclass SocialFeed extends Component {\n  constructor(props){\n    super(props);\n\n    this.store = props.store;\n    this.pollList = React.createRef();\n    this.state = { loading: false };\n  }\n\n  render() {\n    return (\n      <div className=\"socialFeed\">\n        <LoadingOverlay enabled={ this.state.loading }/>\n        <HomeHeader />\n\n        <div className=\"socialPageHeader\">\n          <img src={ CategoryIcon['Social'] } />\n          Social\n        </div>\n\n        <div className=\"socialContent\">\n          <SocialPollList ref={ this.pollList } store={ this.store }/>\n          <SocialFriendControls onRefresh={performFetch => this.pollList.current.refresh(performFetch) }/>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SocialFeed;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\n\nimport WebApi from '../../models/webApi';\nimport Poll from '../../models/Poll';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport SocialSearch from './SocialSearch';\nimport SocialFriendRequests from './SocialFriendRequests';\nimport SocialFriendList from './SocialFriendList';\nimport './SocialFriendControls.css';\n\nconst LOAD_MORE_QTY = 16;\n\nclass SocialFriendControls extends Component {\n  constructor(props){\n    super(props);\n\n    this.store = props.store;\n    this.friendList = React.createRef();\n  }\n\n  refresh(performFetch = true){\n    this.friendList.current.refresh(performFetch)\n    this.props.onRefresh(performFetch);\n  }\n\n  render() {\n    return (\n      <div className=\"socialFriendControls\">\n        <div className=\"socialHeader\">\n          <span>Manage Friends</span>\n          <img src={ require('../images/add_friends_icon.png') } />\n        </div>\n\n        <SocialSearch />\n        <SocialFriendRequests onRefresh={ performFetch => this.refresh(performFetch) } />\n        <SocialFriendList ref={ this.friendList } onRefresh={ performFetch => this.props.onRefresh(performFetch) } />\n      </div>\n    );\n  }\n}\n\nexport default SocialFriendControls;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport WebApi from '../../models/webApi';\n\nimport './SocialFriendList.css';\n\nclass SocialFriendList extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      loading: true,\n      friends: []\n    }\n  }\n\n  componentWillMount(){\n    if(!IS_SERVER){\n      this.fetchRequests();\n    }\n  }\n\n  refresh(performFetch){\n    this.fetchRequests();\n  }\n\n  async fetchRequests(){\n    this.setState({\n      loading: true,\n    });\n\n    let response = await WebApi.fetchFriends();\n\n    this.setState({\n      loading: false,\n      friends: response.friends\n    });\n  }\n\n  async toggleMute(friendId){\n    this.props.onRefresh(false);\n    let friend = this.state.friends.find(f => f.id == friendId);\n    let requestPromise;\n\n    if(friend.muted == 0){\n      friend.muted = 1;\n      requestPromise = WebApi.muteFriend(friendId);\n    } else {\n      friend.muted = 0;\n      requestPromise = WebApi.unmuteFriend(friendId);\n    }\n\n    this.forceUpdate();\n\n    await requestPromise;\n    this.props.onRefresh(true);\n  }\n\n  async removeFriend(friendId){\n    let friend = this.state.friends.find(f => f.id == friendId);\n\n    if(confirm(`Are you sure you want to remove ${ friend.username }?`)){\n      let removePromise = WebApi.ignoreFriendRequest(friendId);\n\n      let friends = this.state.friends.filter(f => f.id != friendId);\n      this.setState({friends});\n\n      await removePromise;\n      this.props.onRefresh();\n    }\n  }\n\n  friend(friend, i){\n    console.dir(friend);\n    return (\n      <div className=\"friend\" key={ i }>\n        <div className={`muteToggle ${ friend.muted == 0 ? 'notMuted' : 'muted' }`} onClick={ () => this.toggleMute(friend.id) } >\n          {\n            friend.muted == 0 ? <img src={ require('../images/friend_unmuted_icon.png') } /> : <img src={ require('../images/friend_muted_icon.png') } />\n          }\n        </div>\n        <div className=\"friendName\">\n          { friend.username }\n        </div>\n        <div className=\"unfriend\" onClick={ () => this.removeFriend(friend.id) } >\n          <img src={ require('../images/friend_remove_icon.png') } />\n        </div>\n      </div>\n    );\n  }\n\n  get friends(){\n    if(this.state.friends.length == 0)\n      return <span className=\"lolNoFriends\">No friends</span>;\n    else {\n      return this.state.friends.map(friend => this.friend(friend))\n    }\n  }\n\n  get content(){\n    if(this.state.loading){\n      return (\n        <div className=\"friendContainer\">\n          <div className=\"friend loading\">\n            Loading\n          </div>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"friendContainer\">\n          { this.friends }\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"socialFriends\">\n        <div className=\"friendsHeader\">\n          <img src={ require('../images/friends_icon.png') } />\n        </div>\n\n        { this.content }\n      </div>\n    );\n  }\n}\n\nexport default SocialFriendList;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport WebApi from '../../models/webApi';\n\nimport './SocialFriendRequests.css';\n\nclass SocialFriendRequests extends Component {\n  constructor(props){\n    super(props);\n    this.state = {requests: []}\n  }\n\n  componentWillMount(){\n    if(!IS_SERVER){\n      this.fetchRequests();\n    }\n  }\n\n  async fetchRequests(){\n    this.setState({\n      loading: true,\n    });\n\n    let response = await WebApi.fetchFriendRequests();\n\n    this.setState({\n      loading: false,\n      requests: response.requests\n    });\n  }\n\n  async rejectFriend(friendId){\n    this.setState({\n      loading: true,\n    });\n\n    await WebApi.ignoreFriendRequest(friendId);\n    this.props.onRefresh();\n\n    let response = await WebApi.fetchFriendRequests();\n\n    this.setState({\n      loading: false,\n      requests: response.requests\n    });\n  }\n\n  async acceptFriend(friendId){\n    this.setState({\n      loading: true,\n    });\n\n    await WebApi.approveFriendRequest(friendId);\n    this.props.onRefresh();\n\n    let response = await WebApi.fetchFriendRequests();\n\n    this.setState({\n      loading: false,\n      requests: response.requests\n    });\n  }\n\n  friendRequest(request, i){\n    return (\n      <div className=\"friendRequest\" key={ i }>\n        <div className=\"requestName\">\n          { request.friendName }\n        </div>\n\n        <div className=\"rejectRequest\" onClick={ () => this.rejectFriend(request.id) }>\n          <img src={ require('../images/friend_reject_icon.png') } />\n        </div>\n\n        <div className=\"acceptRequest\" onClick={ () => this.acceptFriend(request.id) }>\n          <img src={ require('../images/friend_accept_icon.png') } />\n        </div>\n      </div>\n    );\n  }\n\n  get friendRequests(){\n    if(this.state.requests.length == 0)\n      return <span className=\"lolNoFriends\">No friend requests</span>;\n    else {\n      return this.state.requests.map(request => this.friendRequest(request))\n    }\n  }\n\n  get content(){\n    if(this.state.loading){\n      return (\n        <div className=\"friendContainer\">\n          <span className=\"lolNoFriends\">Loading</span>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"friendContainer\">\n          { this.friendRequests }\n        </div>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"socialFriendRequests\">\n        <div className=\"requestHeader\">\n          <img src={ require('../images/friend_request_icon.png') } />\n          <span>Friend Requests</span>\n        </div>\n\n        { this.content }\n      </div>\n    );\n  }\n}\n\nexport default SocialFriendRequests;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\n\nimport './SocialPoll.css';\n\nclass SocialPoll extends Component {\n  static defaultProps = {\n    forceNormal: false\n  };\n\n  constructor(props){\n    super(props);\n\n    this.poll = props.poll;\n  }\n\n  openPoll(){\n    this.props.history.push(`/poll/${this.poll.pollId}`);\n  }\n\n  button(){\n    if(this.poll.hasVoted || this.poll.hasExpired)\n      return (\n        <span className=\"pollVoteButton resultsButton\" onClick={ () => this.openPoll() }>\n          Results\n        </span>\n      );\n    else\n      return (\n        <span className=\"pollVoteButton\" onClick={ () => this.openPoll() }>\n          Vote\n        </span>\n      );\n  }\n\n\n  render() {\n    return (\n      <div className=\"socialPoll\">\n        <div className=\"pollLeft\">\n          <span className=\"textHightlightGreen\">{ this.poll.friendName }</span> voted <span className=\"textHightlightBlack\">'{ this.poll.friendVoted }'</span> on poll #{ this.poll.pollId}\n          <span className=\"textHightlightBlack\"> '{this.poll.topic}'</span>\n        </div>\n        <div className=\"pollRight\">\n          { this.button() }\n        </div>  \n      </div>\n    );\n  }\n}\n\nexport default withRouter(SocialPoll);\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\n\nimport WebApi from '../../models/webApi';\nimport Poll from '../../models/Poll';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport SocialPoll from './SocialPoll';\n\nimport './SocialPollList.css';\n\nconst LOAD_MORE_QTY = 18;\n\nclass SocialPollList extends Component {\n  constructor(props){\n    super(props);\n\n    this.store = props.store;\n\n    this.state = {\n      loading: true,\n      canLoadMore: (this.store.getSocialFeed() == LOAD_MORE_QTY)\n    };\n  }\n\n  async componentDidMount(){\n    if(!IS_SERVER){\n      this.webFetch();\n    }\n  }\n\n  refresh(performFetch){\n    if(performFetch)\n      this.webFetch();\n    else\n      this.setState({\n        loading: true,\n      });\n  }\n\n  async webFetch(resetCache = true){\n    if(this.store.hydrateCheck()){\n      this.setState({loading: false});\n      return;\n    }\n    \n    this.setState({\n      loading: true,\n    });\n\n    let existingPolls = resetCache ? [] : this.store.getSocialFeed();\n\n    let response = await WebApi.fetchSocialFeed({\n      sortingOrder: 'mostVotes',\n      quantity: LOAD_MORE_QTY,\n      positionLatitude: '',\n      positionLongitude: ''\n    });\n\n    console.dir(response);\n\n    this.store.setSocialFeed(existingPolls.concat(response.polls));\n\n    this.setState({\n      loading: false,\n      canLoadMore: response.polls && response.polls.length == LOAD_MORE_QTY\n    });\n  }\n\n  get showMoreElement(){\n    return <ShowMore moreAvailable={ this.state.canLoadMore } loading={this.state.loadingMore} onClick={() => this.webFetch(false)} />\n  }\n\n  render() {\n    return (\n      <div className=\"socialPollList\">\n        <LoadingOverlay enabled={ this.state.loading } fullScreen={ false } />\n\n        { this.store.getSocialFeed().map( (poll, i) => <SocialPoll poll={ poll } key={ i } /> ) }\n      </div>\n    );\n  }\n}\n\nexport default SocialPollList;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport WebApi from '../../models/webApi';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\n\nimport './SocialSearch.css';\n\nclass SocialSearch extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      searchText: '',\n      resultsOpen: false,\n      loading: false,\n      results: [],\n      requestsSent: []\n    }\n  }\n\n  closeResults(){\n    this.setState({ resultsOpen: false });\n  }\n\n  async sendFriendRequest(friendId){\n    WebApi.sendFriendRequest(friendId);\n\n    this.state.requestsSent.push(friendId);\n    this.forceUpdate();\n  }\n\n  get searchString(){\n    return this.state.searchText.trim();\n  }\n\n  async doSearch(e){\n    if(this.searchString.length == 0) return;\n\n    this.setState({\n      loading: true,\n      resultsOpen: true,\n      results: []\n    });\n\n    let response = await WebApi.searchUsername(this.searchString);\n\n    console.dir(response);\n\n    this.setState({\n      loading: false,\n      results: response.users\n    });\n  }\n\n  get results(){\n    return this.state.results.map((user, i) => {\n      return (\n        <div className=\"searchResult\">\n          <span>{ user.username }</span>\n          { this.state.requestsSent.includes(user.id) ?\n            <img src={ require('../images/friend_accept_icon.png') } /> :\n            <img src={ require('../images/friend_add_icon.png') } onClick={ () => this.sendFriendRequest(user.id) } /> }\n        </div>\n      );\n    });    \n  }\n\n  render() {\n    return (\n      <div className=\"socialSearch\">\n        <div className=\"searchHeader\">\n          <img src={ require('../images/add_friends_icon.png') } />\n        </div>\n\n        <div className=\"socialSeachContainer\">\n          <input type=\"text\"\n            placeholder=\"Add friend by username\"\n            value={this.state.searchText}\n            onChange={ e => this.setState({searchText: e.target.value}) }\n          />\n\n          <span className=\"socialSearchButton\" onClick={() => this.doSearch()}>\n            <img className=\"searchIcon\" src={ require('../images/search_icon.png')} />\n          </span>\n        </div>\n\n        <div className={ this.state.resultsOpen ? \"socialSearchResults\" : \"socialSearchResults inactive\" }>\n          <LoadingOverlay enabled={ this.state.loading } fullScreen={ false } />\n  \n          { !this.state.loading && (\n            <div className=\"userResultsContainer\">\n              { this.results }\n            </div>\n          )}\n          { !this.state.loading && (\n            <div className=\"closeResults\" onClick={ () => this.closeResults() }>\n              Close\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SocialSearch;\n","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport WebApi from '../../models/webApi';\nimport Poll from '../../models/Poll';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport FullScreenPollList from '../common/FullScreenPollList';\nimport HomeHeader from '../common/HomeHeader';\nimport SummaryHeader from '../completedPolls/components/SummaryHeader';\nimport SortControl from '../common/SortControl';\nimport ShowMore from '../common/ShowMore';\n\nimport '../completedPolls/CompletedPolls.css';\n\nconst LOAD_MORE_QTY = 16;\n\nclass CompletedPolls extends Component {\n  constructor(props){\n    super(props);\n\n    this.store = props.store;\n\n    this.state = {\n      loading: true,\n      sortOrder: 'mostVotes',\n      loadingMore: false,\n      canLoadMore: (this.store.getStarPolls() == LOAD_MORE_QTY)\n    };\n  }\n\n  async componentDidMount(){\n    if(!IS_SERVER){\n      this.webFetch();\n    }\n  }\n\n  async webFetch(resetCache = true){\n    if(this.store.hydrateCheck()){\n      this.setState({loading: false});\n      return;\n    }\n    \n    this.setState({\n      loadingMore: true,\n    });\n\n    let existingPolls = resetCache ? [] : this.store.getStarPolls();\n\n    let response = await WebApi.getPolls({\n        category: 'All',\n        type: 'Star',\n        active: 'true',\n        sortOrder: this.state.sortOrder,\n        recordStartNo: existingPolls.length,\n        recordQty: 16,\n        positionLatitude: '',\n        positionLongitude: '',\n        locationFilter: ''\n    });\n\n    this.store.setStarPolls(existingPolls.concat(response.polls));\n\n    this.setState({\n      loading: false,\n      loadingMore: false,\n      canLoadMore: response.polls && response.polls.length == LOAD_MORE_QTY\n    });\n  }\n\n  changeSortOrder(sortOrder){\n    if(this.state.sortOrder == sortOrder) return;\n\n    this.state.sortOrder = sortOrder;\n    this.webFetch(true);\n  }\n\n  get content(){\n    return (\n      <div>\n        <div className=\"headerNameFilter\">\n          <SummaryHeader category={'Star'} />\n          <SortControl sortOrder={ this.state.sortOrder} onChange={order => this.changeSortOrder(order)} />\n        </div>\n        <FullScreenPollList polls={this.store.getStarPolls()} showSortOrder={ false }/>\n      </div>\n    );\n  }\n\n  get showMoreElement(){\n    return <ShowMore moreAvailable={ this.state.canLoadMore } loading={this.state.loadingMore} onClick={() => this.webFetch(false)} />\n  }\n\n  render() {\n    return (\n      <div className=\"completedPolls\">\n        <LoadingOverlay enabled={ this.state.loading }/>\n        <HomeHeader />\n        { this.content }\n        { this.showMoreElement }\n      </div>\n    );\n  }\n}\n\nexport default CompletedPolls;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nimport'./Menu.css';\n\nclass Menu extends Component {\n  constructor(props){\n    super(props);\n    this.state = { active: false };\n  }\n\n  toggleMenu(visibility){\n    this.setState({ active: visibility });\n  }\n\n  openUrl(url){\n    this.setState({ active: false });\n    this.props.history.push(url);\n  }\n\n  openExternalUrl(url){\n    window.location = url;\n  }\n\n  render() {\n    return (\n      <div className=\"menuContainer\" onMouseOver={() => this.toggleMenu(true)} onMouseOut={() => this.toggleMenu(false)}>\n        <img src={ require(\"../images/menu_icon.png\") } />\n\n        <div className={ this.state.active ? \"menu\" : \"menu inactive\" }>\n          <div onClick={() => this.openUrl('/browse')}>\n            <img src={ require('../images/menuIcons/vote_icon.png') } />\n            Vote\n          </div>\n          <div onClick={() => this.openUrl('/createWidget')}>\n            <img src={ require('../images/menuIcons/create_icon.png') } />\n            Create Widgets\n          </div>\n          <div onClick={() => this.openUrl('/completed')}>\n            <img src={ require('../images/menuIcons/completed_icon.png') } />\n            View Completed Polls\n          </div>\n          <div onClick={() => this.openUrl('/social')}>\n            <img src={ require('../images/menuIcons/social_icon.png') } />\n            Social\n          </div>\n          <div onClick={() => this.openUrl('/rewards')}>\n            <img src={ require('../images/menuIcons/rewards_icon.png') } />\n            Rewards\n          </div>\n          <div onClick={() => this.openUrl('/myVotes')}>\n            <img src={ require('../images/menuIcons/myvotes_icon.png') } />\n            My Votes\n          </div>\n          <div onClick={() => this.openUrl('/myPolls')}>\n            <img src={ require('../images/menuIcons/mypolls_icon.png') } />\n            My Polls\n          </div>\n          <div onClick={() => this.openUrl('/starPolls')}>\n            <img src={ require('../images/menuIcons/star_icon.png') } />\n            Star Polls\n          </div>\n          <div onClick={() => this.openUrl('/account')}>\n            <img src={ require('../images/menuIcons/account_icon.png') } />\n            Account & Settings\n          </div>\n          <div onClick={() => this.openExternalUrl('https://clearpoll.com/faq/')}>\n            <img src={ require('../images/menuIcons/support_icon.png') } />\n            FAQ & Support\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Menu);\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\n\nimport Menu from './Menu';\nimport Login from '../login/Login';\nimport Home from '../home/Home';\nimport ViewPoll from '../viewPoll/ViewPoll';\nimport Search from '../search/Search';\nimport CompletedPolls from '../completedPolls/CompletedPolls';\nimport StarPolls from '../starPolls/StarPolls';\nimport MyVotes from '../myVotes/MyVotes';\nimport MyPolls from '../myPolls/MyPolls';\nimport SocialFeed from '../socialFeed/SocialFeed';\nimport ManageFriends from '../socialFeed/ManageFriends';\nimport Account from '../account/Account';\nimport CreateWidget from '../createWidget/CreateWidget';\nimport Rewards from '../rewards/Rewards';\nimport Store from '../../models/store';\n\n\nimport './template.css';\n\nclass Template extends Component {\n  constructor(props){\n    super(props);\n\n    this.props = props;\n    this.store = props.store || new Store(window.storeData);\n\n    if( typeof window !== 'undefined' && window )\n      delete window.storeData;\n\n    this.storeContext = React.createContext(this.store);\n  }\n\n  handleLogoClick(){\n    this.props.history.push(`/`);\n  }\n\n  handleContactClick(){\n    window.location = 'https://clearpoll.com/'; // TODO - Change me!\n  }\n\n  render() {\n    return (\n      <div className=\"templateContainer\">\n        <div className=\"templateInnerContainer\">\n          <div className=\"templateHeader\">\n            <img src={ require(\"../images/ClearPoll-Logo.png\") } onClick={() => this.handleLogoClick()}/>\n            <Menu />\n          </div>\n          <Switch>\n            <Route path=\"/rewards\" render={(props) => <Rewards {...props} store={this.store} />} />\n            <Route path=\"/createWidget\" render={(props) => <CreateWidget {...props} store={this.store} />} />\n            <Route path=\"/completed/:category?\" render={(props) => <CompletedPolls {...props} store={this.store} />} />\n            <Route path=\"/browse/:category?\" render={(props) => <CompletedPolls {...props} store={this.store} />} />\n            <Route path=\"/starPolls\" render={(props) => <StarPolls {...props} store={this.store} />} />\n            <Route path=\"/myVotes\" render={(props) => <MyVotes {...props} store={this.store} />} />\n            <Route path=\"/myPolls\" render={(props) => <MyPolls {...props} store={this.store} />} />\n            <Route path=\"/social/manageFriends\" render={(props) => <ManageFriends {...props} store={this.store} />} />\n            <Route path=\"/social\" render={(props) => <SocialFeed {...props} store={this.store} />} />\n            <Route path=\"/account\" render={(props) => <Account {...props} store={this.store} />} />\n            <Route path=\"/search\" render={(props) => <Search {...props} store={this.store} />} />\n            <Route path=\"/poll/:pollId\" render={(props) => <ViewPoll {...props} store={this.store} />} />\n            <Route path=\"/login\" render={(props) => <Login {...props} store={this.store} />} />\n            <Route path=\"/\" render={(props) => <Home {...props} store={this.store} />} />\n          </Switch>\n        </div>\n        <div className=\"templateFooter\">\n                       Copyright 2018 Nextech Developments - Australia |\n          <span style={{ cursor: 'pointer'}} onClick={ () => this.handleContactClick() }> Contact Us</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Template);\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport WebApi from '../../models/webApi';\nimport Poll from '../../models/Poll';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport AnswerList from './components/AnswerList';\nimport ResultsGraph from './components/ResultsGraph';\nimport SummaryHeader from './components/SummaryHeader';\nimport PollList from '../common/PollList';\n\nimport './ViewPoll.css';\n\nclass ViewPoll extends Component {\n  constructor(props){\n    super(props);\n\n    this.store = props.store;\n    this.pollId = this.props.match.params.pollId;\n\n    this.state = {\n      loading: false,\n      showOnFeed: true\n    };\n  }\n\n  componentWillReceiveProps(props){\n    this.pollId = props.match.params.pollId;\n    this.store.setPoll(this.pollId, null);\n    this.setState({\n      loading: true,\n      showOnFeed: true\n    });\n    this.webFetch();\n  }\n\n  async componentDidMount(){\n    if(!IS_SERVER){\n      this.webFetch();\n    }\n  }\n\n  async webFetch(){\n    if(this.store.hydrateCheck()){\n      console.log('hydrate recover');\n      return;\n    }\n\n    this.setState({\n      loading: true\n    });\n\n    let poll = await WebApi.fetchPoll( this.pollId );\n    this.store.setPoll(this.pollId, poll);\n\n    this.setState({\n      loading: false\n    });\n  }\n\n  async performVote(answerIdx){\n    this.setState({\n      loading: true\n    });\n\n    let response = await WebApi.voteOnPoll( this.pollId, answerIdx, this.state.showOnFeed );\n\n    if(response.success){\n      let poll = this.store.getPoll(this.pollId);\n      poll.results = response.results;\n      poll.hasVoted = true;\n      poll.votedOn = [{answerId: answerIdx, answerText: poll.answers[answerIdx] }];\n\n      this.store.setPoll(this.pollId, poll);\n    } else {\n      alert('Error');\n    }\n\n    this.setState({\n      loading: false\n    });\n  }\n\n  containerContent(poll){\n    if(poll.hasVoted || poll.hasExpired){\n      return (\n        <ResultsGraph results={ poll.results } totalVotes={ poll.pollVotes } />\n      );\n    } else {\n      return (\n        <AnswerList answers={poll.answers} onVote={ answerIdx => this.performVote(answerIdx) }/>\n      );\n    }\n  }\n\n  handleTwitterShare(){\n    window.location = \"https://twitter.com/home?status=\" + encodeURI(window.location);\n  }\n\n  handleFacebookShare(){\n    window.location = \"https://www.facebook.com/sharer/sharer.php?u=\" + encodeURI(window.location);\n  }\n\n  handleGoogleShare(){\n    window.location = \"https://plus.google.com/share?url=\" + encodeURI(window.location);\n  }\n\n  numberToCommaFormat(num){\n    return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n\n  get socialContent(){\n    return (\n      <div className=\"socialContainer\">\n        <div className=\"socialBanner\">\n          Share Your Vote!\n        </div>\n        <div className=\"socialButtons\">\n          <img src={require('../images/twitter_icon.png')} onClick={() => this.handleTwitterShare()}  />\n          <img src={require('../images/facebook_icon.png')} onClick={() => this.handleFacebookShare()} />\n          <img src={require('../images/google_icon.png')} onClick={() => this.handleGoogleShare()}  />\n        </div>\n      </div>\n    );\n  }\n\n  pollElement(){\n    let pollData = this.store.getPoll(this.pollId);\n    console.dir(pollData);\n    if(!pollData) return null;\n\n    let poll = new Poll(pollData);\n\n    return (\n      <div>\n        <div className=\"pollQuestion\">\n          { poll.question }\n        </div>\n\n        <div className=\"mainRow\">\n          <div className=\"detailsContainer\">\n            <div className=\"field\">\n              <img src={ require('../images/poll_hash_icon.png') } />\n              { poll.pollId }\n            </div>\n            <div className=\"field\">\n              <img src={ require('../images/poll_tick_icon.png') } />\n              { this.numberToCommaFormat(poll.pollVotes) }\n            </div>\n            { !poll.hasExpired && (\n              <div className=\"field\">\n                <img src={ require('../images/poll_clock_icon.png') } />\n                { poll.timeRemaining }\n              </div>\n            )}\n          </div>\n          <div className=\"contentContainer\">\n            { this.containerContent(poll) }\n          </div>\n        </div>\n\n        { this.socialContent }\n\n        <div className=\"summaryContainer\">\n          <SummaryHeader category={ poll.category } />\n          <PollList category={ poll.category } />\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"viewPoll\">\n        <LoadingOverlay enabled={ this.state.loading }/>\n\n        { this.pollElement() }      \n      </div>\n    );\n  }\n}\n\nexport default ViewPoll;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\n\nimport WebApi from '../../models/webApi';\nimport Poll from '../../models/Poll';\nimport LoadingOverlay from '../loadingOverlay/LoadingOverlay';\nimport AnswerList from './widgetComponents/AnswerList';\nimport ResultsGraph from './widgetComponents/ResultsGraph';\nimport WidgetHeader from './widgetComponents/header';\n\nimport './WidgetPoll.css';\n\nclass WidgetPoll extends Component {\n  constructor(props){\n    super(props);\n\n    this.store = props.store;\n    this.pollId = this.props.match.params.pollId;\n\n    this.state = {\n      loading: false,\n      showOnFeed: true\n    };\n  }\n\n  async componentDidMount(){\n    if(!IS_SERVER){\n      this.webFetch();\n    }\n  }\n\n  async webFetch(){\n    if(this.store.hydrateCheck()){\n      return;\n    }\n\n    this.setState({\n      loading: true\n    });\n\n    let poll = await WebApi.fetchPoll( this.pollId );\n    this.store.setPoll(this.pollId, poll);\n\n    this.setState({\n      loading: false\n    });\n  }\n\n  async performVote(answerIdx){\n    this.setState({\n      loading: true\n    });\n\n    let response = await WebApi.voteOnPoll( this.pollId, answerIdx, this.state.showOnFeed );\n\n    if(response.success){\n      let poll = this.store.getPoll(this.pollId);\n      poll.results = response.results;\n      poll.hasVoted = true;\n      poll.votedOn = [{answerId: answerIdx, answerText: poll.answers[answerIdx] }];\n\n      this.store.setPoll(this.pollId, poll);\n    } else {\n      alert('Error');\n    }\n\n    this.setState({\n      loading: false\n    });\n  }\n\n  containerContent(poll){\n    if(poll.hasVoted || poll.hasExpired){\n      return (\n        <ResultsGraph results={ poll.results } totalVotes={ poll.pollVotes } />\n      );\n    } else {\n      return (\n        <AnswerList answers={poll.answers} onVote={ answerIdx => this.performVote(answerIdx) }/>\n      );\n    }\n  }\n\n  numberToCommaFormat(num){\n    return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n\n  pollElement(poll){\n    return (\n      <div className=\"scrollableContainer\">\n        <div className=\"pollQuestion\">\n          { poll.question }\n        </div>\n        <div className=\"contentContainer\">\n          { this.containerContent(poll) }\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    let pollData = this.store.getPoll(this.pollId);\n    let poll = pollData ? new Poll(pollData) : null;\n\n    return (\n      <div className=\"widgetPoll\">\n        <LoadingOverlay enabled={ this.state.loading }/>\n\n        {poll && <WidgetHeader pollId={poll.pollId} pollVotes={this.numberToCommaFormat(poll.pollVotes)} pollTime={poll.timeRemaining}/> }\n        { this.pollElement(poll) }      \n      </div>\n    );\n  }\n}\n\nexport default WidgetPoll;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport COLORS from '../../common/colors';\n\nimport './AnswerList.css';\n\nclass AnswerList extends Component {\n  constructor(props){\n    super(props);\n    this.props = props;\n  }\n\n  onVote(answer){\n    this.props.onVote(answer);\n  }\n\n  render() {\n    let answerElements = this.props.answers.map( (answer, index) => {\n      return (\n        <div className=\"answer\" key={ index } style={{ backgroundColor: COLORS[index] }} onClick={ () => this.onVote(answer) }>\n          { answer }\n        </div>\n      );\n    });\n\n    return (\n      <div style={{ display: 'flex' }}>\n        <div className=\"answersContainer\">\n          { answerElements }\n        </div>\n        <div className=\"answersSpacer\" />\n      </div>\n    );\n  }\n}\n\nexport default AnswerList;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport COLORS from '../../common/colors';\n\nimport './ResultsGraph.css';\n\nclass ResultGraph extends Component {\n  constructor(props){\n    super(props);\n    this.props = props;\n  }\n\n  get totalVotes(){\n    return this.props.results.reduce((acc, result) => {\n      return acc + result.voteCount;\n    }, 0);\n  }\n\n  get resultsWithPercentages(){\n    let results = this.props.results.map(result => {\n      return Object.assign(result, { votePercentage: Math.floor(100 * result.voteCount / this.totalVotes) });\n    });\n\n\n    // Fix the percentages so they add up to 100. Oh yes, I went there.\n    while((100 - results.reduce((acc, result) => { return acc + result.votePercentage }, 0)) > 0){\n      let highestIdx = -1;\n      let highestDiff = 0;\n\n      results.forEach((result, i) => {\n        let percentDiff = (100 * result.voteCount / this.totalVotes) - result.votePercentage;\n        if(percentDiff > 0 && percentDiff > highestDiff){\n          highestIdx = i;\n          highestDiff = percentDiff;\n        }\n      });\n\n      if(highestIdx < 0) break;\n\n      results[highestIdx].votePercentage++;\n    }\n\n    return results;\n  }\n\n  graphElement(result, i){\n    let votePercentage = Math.floor(100 * result.voteCount / this.props.totalVotes);\n\n    return (\n      <div className=\"resultContainer\" key={ i }>\n        <div className=\"resultAnswer\">\n          { result.answerText }\n        </div>\n\n        <div className=\"graph\">\n          <div className=\"voteCount\">\n            { result.voteCount }\n          </div>\n          <div className=\"votePercentage\">\n            { result.votePercentage }%\n          </div>\n         <div className=\"voteBarContainer\">\n           <div className=\"voteBarInner\" style={{width: `${votePercentage}%`, backgroundColor: COLORS[i]}}>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"graphContainer\">\n        { this.resultsWithPercentages.map( (result, i) => this.graphElement(result, i) ) }\n      </div>\n    );\n  }\n}\n\nexport default ResultGraph;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport CategoryIcon from '../../common/CategoryIcon';\nimport './SummaryHeader.css';\n\nconst IMAGE_PATH = \"../../images/\";\n\nconst CATEGORIES = {\n  'Pol': {title: 'Political & Human Rights'},\n  'Env': {title: 'Science & Nature'},\n  'Lif': {title: 'Lifestyle & Health'},\n  'Hum': {title: 'News & Current Events'},\n  'Oth': {title: 'Everything Else'},\n  'All': {title: 'All Categories'},\n  'Jus': {title: 'Just For Fun'},\n  'Spo': {title: 'Sports, Hobbies & Games'},\n  'Ent': {title: 'Arts & Entertainment'},\n  'Tec': {title: 'Technology & Gadgets'},\n}\n\nclass SummaryHeader extends Component {\n  constructor(props){\n    super(props);\n\n    this.props = props;\n  }\n\n  render() {\n    let category = CATEGORIES[this.props.category];\n\n    return (\n      <div className=\"pollSummaryHeader\">\n        <img src={ CategoryIcon[category.title] } />\n        <span>{ category.title }</span>\n      </div>\n    );\n  }\n}\n\nexport default SummaryHeader;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport COLORS from '../../common/colors';\n\nimport './AnswerList.css';\n\nclass AnswerList extends Component {\n  constructor(props){\n    super(props);\n    this.props = props;\n  }\n\n  onVote(answer){\n    this.props.onVote(answer);\n  }\n\n  render() {\n    let answerElements = this.props.answers.map( (answer, index) => {\n      return (\n        <div className=\"answer\" key={ index } style={{ backgroundColor: COLORS[index] }} onClick={ () => this.onVote(answer) }>\n          { answer }\n        </div>\n      );\n    });\n\n    return (\n      <div className=\"answersContainer\">\n        { answerElements }\n      </div>\n    );\n  }\n}\n\nexport default AnswerList;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\nimport COLORS from '../../common/colors';\n\nimport './ResultsGraph.css';\n\nclass ResultGraph extends Component {\n  constructor(props){\n    super(props);\n    this.props = props;\n  }\n\n  get totalVotes(){\n    return this.props.results.reduce((acc, result) => {\n      return acc + result.voteCount;\n    }, 0);\n  }\n\n  get highestVotePercent(){\n    return this.resultsWithPercentages.reduce((acc, result) => {\n      return result.votePercentage > acc ? result.votePercentage : acc;\n    }, 0);\n  }\n\n  get resultsWithPercentages(){\n    let results = this.props.results.map(result => {\n      return Object.assign(result, { votePercentage: Math.floor(100 * result.voteCount / this.totalVotes) });\n    });\n\n\n    // Fix the percentages so they add up to 100. Oh yes, I went there.\n    while((100 - results.reduce((acc, result) => { return acc + result.votePercentage }, 0)) > 0){\n      let highestIdx = -1;\n      let highestDiff = 0;\n\n      results.forEach((result, i) => {\n        let percentDiff = (100 * result.voteCount / this.totalVotes) - result.votePercentage;\n        if(percentDiff > 0 && percentDiff > highestDiff){\n          highestIdx = i;\n          highestDiff = percentDiff;\n        }\n      });\n\n      if(highestIdx < 0) break;\n\n      results[highestIdx].votePercentage++;\n    }\n\n    return results;\n  }\n\n  graphElement(result, i){\n    let barPercentage = 0.8 * Math.floor(100 * result.votePercentage / this.highestVotePercent);\n\n    return (\n      <div className=\"resultContainer\" key={ i }>\n        <div className=\"resultAnswer\">\n          { result.answerText }\n        </div>\n\n        <div className=\"graph\">\n          <div className=\"voteCount\">\n            { result.voteCount }\n          </div>\n          <div className=\"votePercentage\">\n            { result.votePercentage }%\n          </div>\n         <div className=\"voteBarContainer\">\n           <div className=\"voteBarInner\" style={{width: `${barPercentage}%`, backgroundColor: COLORS[i]}}>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"graphContainer\">\n        { this.resultsWithPercentages.map( (result, i) => this.graphElement(result, i) ) }\n      </div>\n    );\n  }\n}\n\nexport default ResultGraph;\n","// removed by extract-text-webpack-plugin","import React, { Component } from 'react';\n\nimport './header.css';\n\nclass Header extends Component {\n  constructor(props){\n    super(props);\n\n    this.props = props;\n  }\n\n  render() {\n\n    return (\n      <div>\n        <div className=\"widgetHeader\">\n          <img className=\"logo\" src={ require('../../images/clearpoll_logo_white.png') } />\n        </div>\n        <div className=\"widgetHeaderDetails\">\n          <div>\n            <img src={ require('../../images/poll_tick_icon.png') } />\n            { this.props.pollVotes }\n          </div>\n          <div>\n            <img src={ require('../../images/poll_hash_icon.png') } />\n            { this.props.pollId }\n          </div>\n          <div>\n            <img src={ require('../../images/poll_clock_icon.png') } />\n            { this.props.pollTime }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Header;\n","import React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { withRouter } from 'react-router-dom';\n\nimport Store from '../models/store';\nimport WidgetPoll from './viewPoll/WidgetPoll';\n\nclass WidgetRouter extends Component {\n  constructor(props){\n    super(props);\n\n    this.props = props;\n    this.store = props.store || new Store(window.storeData);\n\n    if( typeof window !== 'undefined' && window )\n      delete window.storeData;\n  }\n\n  render() {\n    return (\n      <Switch>\n        <Route path=\"/poll/:pollId/widget\" render={(props) => <WidgetPoll {...props} store={this.store} />} />\n      </Switch>\n    );\n  }\n}\n\nexport default withRouter(WidgetRouter);\n","import Authenticator from '../models/authenticator';\n\nexport default async ( req, res ) => {\n  console.dir(req.cookies);\n\n  try {\n    let token = await Authenticator.login(req.body.username, req.body.desktopCode);\n\n    res.cookie('_auth', token);\n    res.send({ success: true });\n\n  } catch(e){\n    res.cookie('_auth', '');\n    res.send({ success: false });  \n  }\n};\n","import React from \"react\";\nimport { renderToStaticNodeStream } from \"react-dom/server\";\nimport { StaticRouter } from \"react-router-dom\";\nimport ServerApi from '../models/serverApi';\nimport Store from '../models/store';\nimport Authenticator from '../models/authenticator';\nimport Template from '../components/template/template';\nimport WidgetRouter from '../components/widgetRouter';\n\nconst Home = async ( req, res ) => {\n  let auth;\n\n  try {\n    auth = Authenticator.verify( req.cookies['_auth'] );\n  } catch(e) {\n    res.redirect('/login');\n    return;\n  }\n\n  renderHead(req, res);\n\n  let apiClient = new ServerApi(auth);\n  let store = new Store({\n    homePolls: await apiClient.fetchHome()\n  });\n\n  renderReact(req, res, store);\n};\n\nconst Login = async ( req, res ) => {\n  let store = new Store({});\n  renderHead(req, res);\n  renderReact(req, res, store);\n};\n\nconst Poll = async ( req, res ) => {\n  let auth;\n\n  try {\n    auth = Authenticator.verify( req.cookies['_auth'] );\n  } catch(e) {\n    res.redirect('/login');\n    return;\n  }\n\n  if(!req.params.pollId){\n    res.status(404).end();\n  }\n\n  renderHead(req, res);\n\n  let apiClient = new ServerApi(auth);\n  let store = new Store();\n  store.setPoll( req.params.pollId, await apiClient.fetchPoll(req.params.pollId) );\n\n  renderReact(req, res, store);\n};\n\nconst Search = async ( req, res ) => {\n  let auth;\n\n  try {\n    auth = Authenticator.verify( req.cookies['_auth'] );\n  } catch(e) {\n    res.redirect('/login');\n    return;\n  }\n\n  let searchTerm = req.query.q;\n\n  if(!searchTerm){\n    res.status(404).end();\n    return;\n  }\n\n  renderHead(req, res);\n\n  let apiClient = new ServerApi(auth);\n  let store = new Store();\n\n  store.setSearchResult(searchTerm, await apiClient.doSearch(searchTerm) );\n\n  renderReact(req, res, store);\n};\n\nconst CompletedPolls = async ( req, res ) => {\n  let auth;\n\n  try {\n    auth = Authenticator.verify( req.cookies['_auth'] );\n  } catch(e) {\n    res.redirect('/login');\n    return;\n  }\n\n  renderHead(req, res);\n\n  let isCompletedPage = req.url.startsWith('/completed');\n  let apiClient = new ServerApi(auth);\n  let store = new Store();\n  let category = req.params.category;\n\n\n\n  if(category){\n    let polls = await apiClient.getPollList({\n      active: isCompletedPage ? 'false' : 'true',\n      type: isCompletedPage ? 'Completed' : 'Normal',\n      category: category,\n      sortOrder: 'mostVotes',\n      recordStartNo: 0,\n      recordQty: 16,\n      positionLatitude: '',\n      positionLongitude: '',\n      locationFilter: 'Global'\n    });\n\n    store.setCategoryPolls(category, polls);\n  }\n\n\n  renderReact(req, res, store);\n};\n\nconst BrowsePolls = async ( req, res ) => {\n  let auth;\n\n  try {\n    auth = Authenticator.verify( req.cookies['_auth'] );\n  } catch(e) {\n    res.redirect('/login');\n    return;\n  }\n\n  renderHead(req, res);\n\n  let apiClient = new ServerApi(auth);\n  let store = new Store();\n  let category = req.params.category;\n\n  if(category){\n    let polls = await apiClient.getPollList({\n      active: 'false',\n      type: 'Completed',\n      category: category,\n      sortOrder: 'mostVotes',\n      recordStartNo: 0,\n      recordQty: 16,\n      positionLatitude: '',\n      positionLongitude: '',\n      locationFilter: 'Global'\n    });\n\n    store.setCategoryPolls(category, polls);\n  }\n\n\n  renderReact(req, res, store);\n};\n\nconst StarPolls = async ( req, res ) => {\n  let auth;\n\n  try {\n    auth = Authenticator.verify( req.cookies['_auth'] );\n  } catch(e) {\n    res.redirect('/login');\n    return;\n  }\n\n  renderHead(req, res);\n\n  let apiClient = new ServerApi(auth);\n  let store = new Store();\n  let polls = await apiClient.getPollList({\n    category: 'All',\n    type: 'Star',\n    active: 'true',\n    sortOrder: 'mostVotes',\n    recordStartNo: 0,\n    recordQty: 16,\n    positionLatitude: '',\n    positionLongitude: '',\n    locationFilter: ''\n  });\n\n  store.setStarPolls(polls);\n  renderReact(req, res, store);\n};\n\nconst MyVotes = async ( req, res ) => {\n  let auth;\n\n  try {\n    auth = Authenticator.verify( req.cookies['_auth'] );\n  } catch(e) {\n    res.redirect('/login');\n    return;\n  }\n\n  renderHead(req, res);\n\n  let apiClient = new ServerApi(auth);\n  let store = new Store();\n  let polls = await apiClient.getPollList({\n    category: 'All',\n    type: 'MyVotes',\n    active: 'true',\n    sortOrder: 'mostVotes',\n    recordStartNo: 0,\n    recordQty: 16,\n    positionLatitude: '',\n    positionLongitude: '',\n    locationFilter: ''\n  });\n\n  store.setMyVotes(polls);\n  renderReact(req, res, store);\n};\n\nconst MyPolls = async ( req, res ) => {\n  let auth;\n\n  try {\n    auth = Authenticator.verify( req.cookies['_auth'] );\n  } catch(e) {\n    res.redirect('/login');\n    return;\n  }\n\n  renderHead(req, res);\n\n  let apiClient = new ServerApi(auth);\n  let store = new Store();\n  let polls = await apiClient.getPollList({\n    category: 'All',\n    type: 'MyPolls',\n    active: 'true',\n    sortOrder: 'mostVotes',\n    recordStartNo: 0,\n    recordQty: 16,\n    positionLatitude: '',\n    positionLongitude: '',\n    locationFilter: ''\n  });\n\n  store.setMyVotes(polls);\n  renderReact(req, res, store);\n};\n\nconst SocialFeed = async ( req, res ) => {\n  let auth;\n\n  try {\n    auth = Authenticator.verify( req.cookies['_auth'] );\n  } catch(e) {\n    res.redirect('/login');\n    return;\n  }\n\n  renderHead(req, res);\n\n  let apiClient = new ServerApi(auth);\n  let store = new Store();\n  let polls = await apiClient.getSocialFeed({\n    sortingOrder: 'mostVotes',\n    quantity: 16,\n    positionLatitude: '',\n    positionLongitude: ''\n  });\n\n  store.setSocialFeed(polls);\n  renderReact(req, res, store);\n};\n\nconst ManageFriends = async ( req, res ) => {\n  let auth;\n\n  try {\n    auth = Authenticator.verify( req.cookies['_auth'] );\n  } catch(e) {\n    res.redirect('/login');\n    return;\n  }\n\n  renderHead(req, res);\n\n  let apiClient = new ServerApi(auth);\n  let store = new Store();\n\n  renderReact(req, res, store);\n};\n\nconst Account = async ( req, res ) => {\n  let auth;\n\n  try {\n    auth = Authenticator.verify( req.cookies['_auth'] );\n  } catch(e) {\n    res.redirect('/login');\n    return;\n  }\n\n  renderHead(req, res);\n\n  let apiClient = new ServerApi(auth);\n  let store = new Store();\n  let settings = await apiClient.getUserSettings();\n\n  store.setUserSettings(settings);\n  renderReact(req, res, store);\n};\n\nconst CreateWidget = async ( req, res ) => {\n  let auth;\n\n  try {\n    auth = Authenticator.verify( req.cookies['_auth'] );\n  } catch(e) {\n    res.redirect('/login');\n    return;\n  }\n\n  renderHead(req, res);\n\n  let store = new Store();\n  renderReact(req, res, store);\n};\n\nconst Rewards = async ( req, res ) => {\n  let auth;\n\n  try {\n    auth = Authenticator.verify( req.cookies['_auth'] );\n  } catch(e) {\n    res.redirect('/login');\n    return;\n  }\n\n  renderHead(req, res);\n\n  let apiClient = new ServerApi(auth);\n  let store = new Store();\n  let settings = await apiClient.getUserSettings();\n\n  store.setUserSettings(settings);\n  renderReact(req, res, store);\n};\n\n\n\nfunction renderHead(req, res){\n  res.writeHead( 200, { \"Content-Type\": \"text/html\" } );\n  res.write(htmlHead);\n}\n\nfunction renderReact(req, res, store){\n  let context = {};\n  let url = req.url;\n\n  const jsx = (\n    <StaticRouter context={ context } location={ url }>\n      <Template store={ store } />\n    </StaticRouter>\n  );\n  const appStream = renderToStaticNodeStream( jsx );\n\n  appStream.pipe(res, {end: false})\n\n  appStream.on(`end`, () => {\n    res.end(htmlTail(store))\n  })\n}\n\nconst htmlHead = `\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n    <meta name=\"theme-color\" content=\"#000000\">\n  \t<link rel=\"shortcut icon\" href=\"/public/favicon.png\" type=\"image/x-icon\" />\n\n\n    <link rel=\"shortcut icon\" href=\"/public/favicon.ico\">\n    <link href=\"/public/style.css\" rel=\"stylesheet\" type=\"text/css\">\n\n    <title>Clearpoll Desktop</title>\n\n    <style>\n      @font-face {\n        font-family: 'Roboto-Light-CPL';\n        src: url('/public/fonts/Roboto-Light.ttf') format('truetype');\n      }\n\n      html {\n          margin: 0;\n          padding: 0;\n          height: 100%;\n          font-family: 'Roboto-Light-CPL';\n      }\n\n      body {\n          margin: 0;\n          padding: 0;\n          min-height: 100%;\n          float: left;\n          width: 100%;\n          background: #057cab; /* Old browsers */\n          background: #057cab; /* Old browsers */\n          background: -moz-linear-gradient(top, #019eba 1%, #057cab 15%, #234588 45%, #2c3372 66%, #472078 100%); /* FF3.6-15 */\n          background: -webkit-linear-gradient(top, #019eba 1%, #057cab 15%,#234588 45%,#2c3372 66%,#472078 100%); /* Chrome10-25,Safari5.1-6 */\n          background: linear-gradient(to bottom, #019eba 1%, #057cab 15%,#234588 45%,#2c3372 66%,#472078 100%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\n          filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#019eba', endColorstr='#472078',GradientType=0 ); background-attachment: fixed;\n          font-family: 'Roboto-Light-CPL';\n      }\n    </style>\n  </head>\n  <body>\n    <div id=\"root\" style=\"width: 100%; height: 100%; margin: 0; padding: 0;\">\n`\nconst htmlTail = store => `\n      </div>\n      <script>\n        if(window.parent){\n          window.parent.postMessage({event: \"loadingComplete\"}, '*');\n          console.log(\"Message sent\");\n        }\n        window.storeData = ${JSON.stringify(store.data)};\n      </script>\n      <script type=\"text/javascript\" src=\"/public/bundle.js\"></script>\n    </body>\n  </html>\n`;\n\n\nexport { Home, Login, Poll, Search, CompletedPolls, StarPolls, MyVotes, MyPolls, SocialFeed, ManageFriends, Account, CreateWidget, Rewards };\n","import React from \"react\";\nimport { renderToStaticNodeStream } from \"react-dom/server\";\nimport { StaticRouter } from \"react-router-dom\";\nimport ServerApi from '../models/serverApi';\nimport Store from '../models/store';\nimport Authenticator from '../models/authenticator';\nimport WidgetRouter from '../components/widgetRouter';\n\nconst WidgetPoll = async ( req, res ) => {\n  let auth;\n  let store = new Store();\n\n  try {\n    auth = Authenticator.verify( req.cookies['_auth'] );\n    store.setAuthenticated( true );\n  } catch(e) {\n    store.setAuthenticated( false );\n  }\n\n  if(!req.params.pollId){\n    res.status(404).end();\n  }\n\n  renderHead(req, res);\n\n  let apiClient = new ServerApi(auth);\n\n  store.setPoll( req.params.pollId, await apiClient.fetchPoll(req.params.pollId) );\n\n  renderReact(req, res, store, req.params.pollId);\n};\n\n\nfunction renderHead(req, res){\n  res.writeHead( 200, { \"Content-Type\": \"text/html\" } );\n  res.write(htmlHead);\n}\n\nfunction renderReact(req, res, store, pollId){\n  let context = {};\n  let url = req.url;\n\n  const jsx = (\n    <StaticRouter context={ context } location={ url }>\n      <WidgetRouter store={ store } />\n    </StaticRouter>\n  );\n  const appStream = renderToStaticNodeStream( jsx );\n\n  appStream.pipe(res, {end: false})\n\n  appStream.on(`end`, () => {\n    res.end(htmlTail(store, pollId))\n  })\n}\n\nconst htmlHead = `\n<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n    <meta name=\"theme-color\" content=\"#000000\">\n\n  \t<link rel=\"shortcut icon\" href=\"/public/favicon.png\" type=\"image/x-icon\" />\n    <link href=\"/public/widgetStyle.css\" rel=\"stylesheet\" type=\"text/css\">\n\n    <title>Clearpoll Widget</title>\n\n    <style>\n      @font-face {\n        font-family: 'Roboto-Light-CPL';\n        src: url('/public/fonts/Roboto-Light.ttf') format('truetype');\n      }\n\n      html,\n      body {\n        min-height: 100%;\n        padding: 0;\n        margin: 0;\n        font-family: 'Roboto-Light-CPL';\n      }\n\n      #root {\n        height:100%;\n        width:100%;\n        position:absolute;\n        top: 0;\n        left: 0\n        padding: 0;\n        margin: 0;\n      }\n\n    </style>\n  </head>\n  <body>\n    <div id=\"root\">\n`\nconst htmlTail = (store, pollId) => `\n      </div>\n      <script>\n        if(window.parent){\n          window.parent.postMessage({event: \"loadingComplete\", pollId: ${pollId}}, '*');\n          console.log(\"Message sent\");\n        }\n        window.storeData = ${JSON.stringify(store.data)};\n      </script>\n      <script type=\"text/javascript\" src=\"/public/widgetBundle.js\"></script>\n    </body>\n  </html>\n`;\n\n\nexport { WidgetPoll };\n","import Authenticator from '../models/authenticator';\nimport ServerApi from '../models/serverApi';\n\nclass WsController {\n  static connectionHandler(ws, req){\n    let auth;\n\n    try {\n      auth = Authenticator.verify( req.cookies['_auth'] );\n    } catch(e){\n      ws.close();\n      return\n    }\n\n    new WsController(ws, auth);\n  }\n\n  constructor(ws, auth){\n    this.ws = ws;\n    this.auth = auth;\n    this.apiClient = new ServerApi(auth);\n\n    ws.on('message', this.handleMessage.bind(this));\n  }\n\n  async handleMessage(msgJSON){\n    let msg = JSON.parse(msgJSON);\n\n    try{\n      switch(msg.function){\n        case 'GetPollListHome':\n          await this.replyHome(msg);\n          break;\n        case 'GetPoll':\n          await this.replyGetPoll(msg);\n          break;\n        case 'VoteOnPoll':\n          await this.replyVoteOnPoll(msg);\n          break;\n        case 'GetPollList':\n          await this.replyGetPollList(msg);\n          break;\n        case 'SearchPolls':\n          await this.replySearchPolls(msg);\n          break;\n        case 'SocialFeed':\n          await this.replySocialFeed(msg);\n          break;\n        case 'GetUserSettings':\n          await this.replyGetUserSettings(msg);\n          break;\n        case 'GetFriendRequests':\n          await this.replyGetFriendRequests(msg);\n          break;\n        case 'GetFriends':\n          await this.replyGetFriends(msg);\n          break;\n        case 'MuteFriend':\n          await this.replyMuteFriend(msg);\n          break;\n        case 'UnmuteFriend':\n          await this.replyUnmuteFriend(msg);\n          break;\n        case 'IgnoreFriendRequest':\n          await this.replyIgnoreFriendRequest(msg);\n          break;\n        case 'SearchUsername':\n          await this.replySearchUsername(msg);\n          break;\n        case 'SendFriendRequest':\n          await this.replySendFriendRequest(msg);\n          break;\n        case 'ApproveFriendRequest':\n          await this.replyApproveFriendRequest(msg);\n          break;\n      }\n    } catch(e){\n      console.dir(e);\n\n      let response = Object.assign({success: false, error: e.message}, { id: msg.id });\n      this.ws.send( JSON.stringify(response) )\n    }\n  }\n\n  async replyHome({ id }){\n    let data = await this.apiClient.fetchHome();\n    let response = Object.assign(data, { id });\n\n    this.ws.send( JSON.stringify(response) )\n  }\n\n  async replyGetPoll({ id, pollId }){\n    let poll = await this.apiClient.fetchPoll(pollId);\n\n    let response = Object.assign(poll, { id });\n\n    this.ws.send( JSON.stringify(response) )\n  }\n\n  async replyVoteOnPoll({ id, pollId, voteAnswer, showOnFeed }){\n    try {\n      let data = await this.apiClient.voteOnPoll({\n        pollId,\n        voteAnswer,\n        showOnFeed\n      });\n\n\n      let results = await this.apiClient.getPollResult(pollId);\n      let response = {\n        id,\n        success: true,\n        results: results.votesPerAnswer\n      };\n\n      this.ws.send( JSON.stringify(response) )\n    } catch(e){\n      let response = {\n        id,\n        success: false\n      };\n\n      this.ws.send( JSON.stringify(response) )\n    }\n  }\n\n  async replyGetPollList(params){\n    let id = params.id;\n    let polls = await this.apiClient.getPollList(params);\n\n    let response = Object.assign({polls, id });\n\n    this.ws.send( JSON.stringify(response) )\n  }\n\n  async replySearchPolls({id, searchString}){\n    let polls = await this.apiClient.doSearch(searchString);\n    console.dir(polls);\n    let response = Object.assign({polls, id });\n\n    this.ws.send( JSON.stringify(response) )\n  }\n\n  async replySocialFeed(params){\n    let id = params.id;\n    let polls = await this.apiClient.getSocialFeed(params);\n\n    let response = Object.assign({polls, id });\n\n    this.ws.send( JSON.stringify(response) )\n  }\n\n  async replyGetUserSettings({id}){\n    let settings = await this.apiClient.getUserSettings();\n\n    let response = Object.assign(settings, { id });\n\n    this.ws.send( JSON.stringify(response) )\n  }\n\n  async replyGetFriendRequests({id}){\n    let requests = await this.apiClient.getFriendRequests();\n\n    let response = {id, requests};\n\n    this.ws.send( JSON.stringify(response) )\n  }\n\n  async replyGetFriends({id}){\n    let friends = await this.apiClient.getFriends();\n\n    let response = {id, friends};\n    this.ws.send( JSON.stringify(response) )\n  }\n\n  async replyMuteFriend({id, friendId}){\n    let result = await this.apiClient.muteFriend(friendId);\n\n    let response = Object.assign(result, {id});\n    this.ws.send( JSON.stringify(response) );\n  }\n\n  async replyUnmuteFriend({id, friendId}){\n    let result = await this.apiClient.unmuteFriend(friendId);\n\n    let response = Object.assign(result, {id});\n    this.ws.send( JSON.stringify(response) );\n  }\n\n  async replyIgnoreFriendRequest({id, friendId}){\n    let result = await this.apiClient.ignoreFriendRequest(friendId);\n\n    let response = Object.assign(result, {id});\n    this.ws.send( JSON.stringify(response) );\n  }\n\n  async replySearchUsername({id, searchString}){\n    let result = await this.apiClient.searchUsername(searchString);\n\n    let response = Object.assign(result, {id});\n    this.ws.send( JSON.stringify(response) );\n  }\n\n  async replySendFriendRequest({id, friendId}){\n    let result = await this.apiClient.sendFriendRequest(friendId);\n\n    let response = Object.assign(result, {id});\n    this.ws.send( JSON.stringify(response) );\n  }\n\n  async replyApproveFriendRequest({id, friendId}){\n    let result = await this.apiClient.approveFriendRequest(friendId);\n\n    let response = Object.assign(result, {id});\n    this.ws.send( JSON.stringify(response) );\n  }\n}\n\n\nexport default WsController.connectionHandler;\n","import ClearpollApi from './webApi';\nimport moment from 'moment';\n\nclass Poll {\n  constructor(params){\n    Object.assign(this, params);\n  }\n\n  get timeRemaining(){\n    let now = moment();\n    let endTime = moment(1000*this.pollTime);\n    let duration = moment.duration(endTime.diff(now));\n\n    if(duration.get('days') > 0)\n      return `${ duration.get('days') }D ${ duration.get('hours') }H`;\n    else //if(duration.get('hours') > 0)\n      return `${ duration.get('hours') }:${ duration.get('minutes') < 10 ? '0' + duration.get('minutes') : duration.get('minutes') }`;\n  }\n\n  get hasExpired(){\n    let now = moment();\n    let endTime = moment(1000*this.pollTime);\n\n    return endTime <= now;\n  }\n}\n\nexport default Poll;\n","import ClearpollApi from './serverApi';\nimport jwt from 'jsonwebtoken';\n\nimport settings from '../../settings.json';\n\nclass Authenticator {\n  static async login(username, desktopCode){\n    let params = {\n      function: 'DesktopSignup',\n      username,\n      desktopCode\n    }\n\n    let response = await ClearpollApi.request(params);\n\n    if(!response.success) throw new Error('Invalid Auth');\n\n    return jwt.sign({\n      phoneNumber: response.phoneNumber,\n      userId: response.userId,\n      code: response.code\n    }, settings.signingKey);\n  }\n\n  static verify(cookieString){\n    let auth = jwt.verify(cookieString, settings.signingKey);\n\n    return {\n      phoneNumber: auth.phoneNumber,\n      userId: auth.userId,\n      code: auth.code\n    }\n  }\n}\n\n\nexport default Authenticator;\n","import axios from 'axios';\nimport moment from 'moment';\nimport State from './state';\n\nconst SERVER_URL = \"https://node4.l2shuu.com:3000/Clearpoll\";\n\nclass ServerApi {\n  static async request(params){\n    let response;\n    let requestParams = params;\n\n    try {\n      response = await axios.post(SERVER_URL, requestParams);\n    } catch(e){\n      console.dir(e);\n      throw new Error('A network error occured');\n    }\n\n    if(response.data.success === 'false')\n      throw new Error(response.data.comment || 'An unknown error occured');\n\n    return response.data;\n  }\n\n  constructor(auth){\n    this.auth = auth;\n    this.voteHistory = [];\n    this.historyFetched = false;\n  }\n\n  getHasVoted(pollId){\n    let voteMatch = this.voteHistory.find( h => { return h.pollID == pollId});\n    \n    if(voteMatch)\n      return {\n        hasVoted: true,\n        answerId: voteMatch.answerID\n      };\n    else\n      return {};\n  }\n\n  async fetchHome(){\n    let homeData = await ServerApi.request({\n      function: 'GetPollListHome',\n      ...this.auth\n    });\n    let categories = [];\n\n    this.voteHistory = homeData.voteHistory;\n    this.historyFetched = true;\n\n    for(let key in homeData){\n      if(typeof homeData[key] != \"object\") continue;\n\n      homeData[key] = homeData[key].map( poll => {\n        if(!poll.id) return;\n\n        let cat = poll.category;\n\n        if(categories.indexOf(cat) == -1) categories.push(cat);\n\n        return Object.assign(poll, this.getHasVoted(poll.id));\n      });\n    }\n    //console.dir(categories);\n    return homeData;\n  }\n\n  async fetchPoll(pollId){\n    if(!this.historyFetched)\n      await this.fetchVotehistory();\n\n    let pollData = await ServerApi.request({\n      function: 'GetPoll',\n      pollId\n    });\n\n    let poll = Object.assign(this.getHasVoted(pollId), pollData.poll[0], {pollId});\n    let hasExpired = moment(1000*poll.pollTime) < moment();\n\n    if( hasExpired || poll.hasVoted ){\n      let pollResults = await this.getPollResult(pollId);\n\n      poll = Object.assign(poll, pollResults.pollInfo[0], {pollId});\n      poll.results = pollResults.votesPerAnswer;\n      poll.votedOn = pollResults.voted;\n      poll.pollVotes = pollResults.totalVotes;\n    } else {\n      let pollAnswers = await this.getPollAnswers(pollId);\n      poll.answers = pollAnswers.answer;\n    }\n\n    return poll;\n  }\n\n  async fetchVotehistory(pollId){\n    let response = await ServerApi.request({\n      function: 'GetVoteHistory',\n      ...this.auth\n    });\n\n    this.voteHistory = response.voteHistory;\n    this.historyFetched = true;\n\n    return this.voteHistory;\n  }\n\n  async voteOnPoll(params){\n    params.showOnFeed = params.showOnFeed ? 1 : 0;\n\n    let response = await ServerApi.request({\n      function: 'VoteOnPoll',\n      ...params,\n      ...this.auth\n    });\n\n    console.dir(response);\n\n    return response;\n  }\n\n  async voteOnPoll(params){\n    params.showOnFeed = params.showOnFeed ? 1 : 0;\n\n    let response = await ServerApi.request({\n      function: 'VoteOnPoll',\n      ...params,\n      ...this.auth\n    });\n\n    return response;\n  }\n\n  async getPollResult(pollId){\n    let response = await ServerApi.request({\n      function: 'GetPollResult',\n      pollId,\n      ...this.auth\n    });\n\n    return response;\n  }\n\n  async getPollAnswers(pollId){\n    let response = await ServerApi.request({\n      function: 'GetPollAnswer',\n      pollId,\n      ...this.auth\n    });\n\n    return response;\n  }\n\n  async getPollList(params){\n    let response = await ServerApi.request({\n      function: 'GetPollList',\n      ...params,\n      ...this.auth\n    });\n\n    /*\n      result: true,\n      polls: [Poll],\n      voteHistory: [VoteHistory]\n    */\n\n    this.voteHistory = response.voteHistory;\n\n    return response.poll.map( poll => { return Object.assign(poll, this.getHasVoted(poll.id)) });\n  }\n\n  async doSearch(searchString){\n    let response = await ServerApi.request({\n      function: 'SearchPolls',\n      searchString,\n      ...this.auth\n    });\n\n    this.voteHistory = response.voteHistory;\n    \n    let polls = response.poll.map(poll => {\n      return Object.assign(\n        poll,\n        this.getHasVoted(poll.Id)\n      );\n    });\n\n    return polls;\n  }\n\n  async getSocialFeed(params){\n    let response = await ServerApi.request({\n      function: 'GetFeed',\n      params,\n      ...this.auth\n    });\n\n    this.voteHistory = response.voteHistory;\n\n    let polls = response.feed.map(poll => {\n      return Object.assign(\n        poll,\n        this.getHasVoted(poll.pollId)\n      );\n    });\n\n    return polls;\n  }\n\n  async getFriendRequests(){\n    let response;\n\n    try {\n      response = await ServerApi.request({\n        function: 'GetFriendRequest',\n        ...this.auth\n      });\n    } catch(e){\n      // API throws en error when there are no friend requests.\n      response = { requests: [] };\n    }\n\n    return response.requests;\n  }\n\n  async getFriends(){\n    let response = await ServerApi.request({\n      function: 'GetFriends',\n      ...this.auth\n    });\n\n    return response.friends;\n  }\n\n  async getUserSettings(){\n    return await ServerApi.request({\n      function: 'GetUserSettings',\n      ...this.auth\n    });\n  }\n\n  async muteFriend(friendId){\n    return await ServerApi.request({\n      function: 'MuteFriend',\n      friendId,\n      ...this.auth\n    });\n  }\n\n  async unmuteFriend(friendId){\n    return await ServerApi.request({\n      function: 'UnmuteFriend',\n      friendId,\n      ...this.auth\n    });\n  }\n\n  async ignoreFriendRequest(friendId){\n    return await ServerApi.request({\n      function: 'IgnoreFriendRequest',\n      friendId,\n      ...this.auth\n    });\n  }\n\n  async searchUsername(searchString){\n    return await ServerApi.request({\n      function: 'SearchUsername',\n      searchString,\n      ...this.auth\n    });\n  }\n\n  async sendFriendRequest(friendId){\n    return await ServerApi.request({\n      function: 'SendFriendRequest',\n      friendId,\n      ...this.auth\n    });\n  }\n\n  async approveFriendRequest(friendId){\n    return await ServerApi.request({\n      function: 'ApproveFriendRequest',\n      requestId: friendId,\n      ...this.auth\n    });\n  }\n}\n\nexport default ServerApi;\n","\nclass State {\n  constructor(){\n    this.state = {};\n  }\n\n  isLoggedIn(){\n    return //localStorage.getItem('auth') != null;\n  }\n\n  setAuth(authResponse){\n    let auth = {\n      code: authResponse.code,\n      phoneNumber: authResponse.phoneNumber,\n      userId: authResponse.userId,\n    };\n\n    return localStorage.setItem('auth', JSON.stringify(auth));\n  }\n\n  get auth(){\n    let authJson = localStorage.getItem('auth');\n    return authJson ? JSON.parse(authJson) : null;\n  }\n}\n\n\nexport default new State();\n","export default class Store {\n  constructor(prefetchData = {}){\n    this.data = Object.assign({\n      polls: {},\n      searchResults: {},\n      category: {},\n      starPolls: [],\n      myVotes: [],\n      socialFeed: [],\n      userSettings: {}\n    }, prefetchData);\n\n    this.initialPage = true;\n  }\n\n  hydrateCheck(){\n    if(this.initialPage){\n      this.initialPage = false;\n      return true;\n    } else return false;\n  }\n\n  getPoll(pollId){\n    return this.data.polls[pollId];\n  }\n\n  setPoll(pollId, poll){\n    this.data.polls[pollId] = poll;\n  }\n\n  setSearchResult(searchTerm, results){\n    this.data.searchResults[searchTerm] = results;\n  }\n\n  getSearchResult(searchTerm){\n    return this.data.searchResults[searchTerm] || [];\n  }\n\n  setCategoryPolls(category, polls){\n    this.data.category[category] = polls;\n  }\n\n  getCategoryPolls(category){\n    return this.data.category[category] || [];\n  }\n\n  getStarPolls(){\n    return this.data.starPolls || [];\n  }\n\n  setStarPolls(starPolls){\n    this.data.starPolls = starPolls;\n  }\n\n  getMyVotes(){\n    return this.data.myVotes || [];\n  }\n\n  setMyVotes(myVotes){\n    this.data.myVotes = myVotes;\n  }\n\n  getSocialFeed(){\n    return this.data.socialFeed || [];\n  }\n\n  setSocialFeed(socialPolls){\n    this.data.socialFeed = socialPolls;\n  }\n\n  setUserSettings(settings){\n    this.data.userSettings = settings;\n  }\n\n  getUserSettings(){\n    return this.data.userSettings;\n  }\n\n  setAuthenticated(isAuthenticated){\n    this.data.authenticated = isAuthenticated;\n  }\n\n  getAuthenticated(){\n    return this.data.authenticated;\n  }\n}\n","import axios from 'axios';\nimport WsSocket from './wsSocket';\nconst AUTH_URL = \"/api/auth\";\n\nlet socket, connected = false;\n\nfunction delay(t){\n  return new Promise(res => setTimeout(res, t));\n}\n\nclass WebApi {\n  static async login(username, desktopCode){\n    let params = {\n      username,\n      desktopCode\n    }\n\n    let response = await WebApi.postRequest(params);\n    return response.success;\n  }\n\n  static async fetchHome(){\n    return await WebApi.wsRequest({\n      function: 'GetPollListHome'\n    });\n  }\n\n  static async fetchPoll(pollId){\n    return await WebApi.wsRequest({\n      function: 'GetPoll',\n      pollId\n    });\n  }\n\n  static async voteOnPoll(pollId, voteAnswer, showOnFeed){\n    return await WebApi.wsRequest({\n      function: 'VoteOnPoll',\n      pollId,\n      voteAnswer,\n      showOnFeed\n    });\n  }\n\n  static async getPolls(params){\n    return await WebApi.wsRequest({\n      function: 'GetPollList',\n      ...params\n    });\n  }\n\n  static async doSearch(searchString){\n    return await WebApi.wsRequest({\n      function: 'SearchPolls',\n      searchString\n    });\n  }\n\n  static async fetchSocialFeed(params){\n    return await WebApi.wsRequest({\n      function: 'SocialFeed',\n      ...params\n    });\n  }\n\n  static async getUserSettings(){\n    return await WebApi.wsRequest({\n      function: 'GetUserSettings'\n    });\n  }\n\n  static async fetchFriendRequests(){\n    return await WebApi.wsRequest({\n      function: 'GetFriendRequests'\n    });\n  }\n\n  static async fetchFriends(){\n    return await WebApi.wsRequest({\n      function: 'GetFriends'\n    });\n  }\n\n  static async muteFriend(friendId){\n    return await WebApi.wsRequest({\n      function: 'MuteFriend',\n      friendId\n    });\n  }\n\n  static async unmuteFriend(friendId){\n    return await WebApi.wsRequest({\n      function: 'UnmuteFriend',\n      friendId\n    });\n  }\n\n  static async ignoreFriendRequest(friendId){\n    return await WebApi.wsRequest({\n      function: 'IgnoreFriendRequest',\n      friendId\n    });\n  }\n\n  static async searchUsername(searchString){\n    return await WebApi.wsRequest({\n      function: 'SearchUsername',\n      searchString\n    });\n  }\n\n  static async sendFriendRequest(friendId){\n    return await WebApi.wsRequest({\n      function: 'SendFriendRequest',\n      friendId\n    });\n  }\n\n  static async approveFriendRequest(friendId){\n    return await WebApi.wsRequest({\n      function: 'ApproveFriendRequest',\n      friendId\n    });\n  }\n\n  static async postRequest(params){\n    let response;\n    let requestParams = params;\n\n    try {\n      response = await axios.post(AUTH_URL, requestParams);\n    } catch(e){\n      console.dir(requestParams);\n      console.dir(e);\n      throw new Error('A network error occured');\n    }\n    console.dir(response);\n    return response.data;\n  }\n\n  static async ensureConnected(){\n    if(!socket){\n      socket = new WsSocket();\n      await socket.connect();\n      connected = true;\n    }\n\n    while(!connected){\n      await delay(100);\n    }\n  }\n\n  static async wsRequest(params){\n    await WebApi.ensureConnected();\n    console.dir(params);\n    let response = await socket.request(params);\n\n    return response\n  }\n}\n\nexport default WebApi;\n","\nconst WS_PATH = '/api/ws';\n\nexport default class WsSocket {\n  constructor(){\n    this.open = false;\n    this._msgId = 0;\n    this._pendingPromises = {};\n  }\n\n  connect(){\n    return new Promise( res => {\n      this.socket = new WebSocket(\"ws://\" + location.host + WS_PATH);\n\n      this.socket.addEventListener('open', (event) => {\n        console.log('WS Connected');\n        this.open = true;\n        res();\n      });\n\n      this.socket.addEventListener('close', this.handleError.bind(this));\n      //this.socket.addEventListener('error', this.handleError.bind(this));\n      this.socket.addEventListener('message', this.handleMessage.bind(this));\n    });\n  }\n\n  handleError(){\n    this.open = false;\n    setTimeout( () => this.connect(), 1000);\n  }\n\n  handleMessage(event){\n    let msg = JSON.parse(event.data);\n    let promises = this._pendingPromises[msg.id];\n\n    if(promises){\n      promises.res(msg);\n    }\n  }\n\n  request(params){\n    return new Promise( (res, rej) => {\n      this._pendingPromises[++this._msgId] = {res, rej};\n\n      let message = Object.assign(params, { id: this._msgId });\n      this.socket.send(JSON.stringify(message));\n    });\n  }\n}\n","import express from \"express\";\nimport path from \"path\";\nimport expressWS from 'express-ws';\n\n\nimport {Home, Login, Poll, Search, CompletedPolls, StarPolls, MyVotes, MyPolls, SocialFeed, ManageFriends, Account, CreateWidget, Rewards} from './controllers/reactRenderController';\nimport {WidgetPoll} from './controllers/widgetRenderController';\nimport AuthController from './controllers/authController';\nimport WsController from './controllers/wsController';\nimport bodyParser from 'body-parser';\nimport cookieParser from 'cookie-parser';\n\nconst app = express();\n\nexpressWS(app);\n\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(bodyParser.json());\napp.use(cookieParser());\n\napp.use('/public', express.static('public'));\n\napp.post( \"/api/auth\", AuthController);\napp.get( \"/\", Home);\napp.get( \"/login\", Login);\napp.get( \"/poll/:pollId\", Poll);\napp.get( \"/poll/:pollId/widget\", WidgetPoll);\napp.get( \"/search\", Search);\napp.get( \"/completed/:category*?\", CompletedPolls);\napp.get( \"/browse/:category*?\", CompletedPolls);\napp.get( \"/starPolls\", StarPolls);\napp.get( \"/myVotes\", MyVotes);\napp.get( \"/myPolls\", MyPolls);\napp.get( \"/social\", SocialFeed);\napp.get( \"/social/manageFriends\", ManageFriends);\napp.get( \"/account\", Account);\napp.get( \"/createWidget\", CreateWidget);\napp.get( \"/rewards\", Rewards);\n\napp.ws('/api/ws', WsController);\n\n\napp.listen( 3001 );\n","module.exports = require(\"axios\");","module.exports = require(\"babel-runtime/core-js/json/stringify\");","module.exports = require(\"babel-runtime/core-js/object/assign\");","module.exports = require(\"babel-runtime/core-js/object/get-prototype-of\");","module.exports = require(\"babel-runtime/core-js/object/keys\");","module.exports = require(\"babel-runtime/core-js/promise\");","module.exports = require(\"babel-runtime/helpers/asyncToGenerator\");","module.exports = require(\"babel-runtime/helpers/classCallCheck\");","module.exports = require(\"babel-runtime/helpers/createClass\");","module.exports = require(\"babel-runtime/helpers/defineProperty\");","module.exports = require(\"babel-runtime/helpers/extends\");","module.exports = require(\"babel-runtime/helpers/inherits\");","module.exports = require(\"babel-runtime/helpers/possibleConstructorReturn\");","module.exports = require(\"babel-runtime/helpers/typeof\");","module.exports = require(\"babel-runtime/regenerator\");","module.exports = require(\"body-parser\");","module.exports = require(\"cookie-parser\");","module.exports = require(\"express\");","module.exports = require(\"express-ws\");","module.exports = require(\"jsonwebtoken\");","module.exports = require(\"moment\");","module.exports = require(\"path\");","module.exports = require(\"query-string\");","module.exports = require(\"react\");","module.exports = require(\"react-copy-to-clipboard\");","module.exports = require(\"react-dom/server\");","module.exports = require(\"react-router-dom\");"],"sourceRoot":""}